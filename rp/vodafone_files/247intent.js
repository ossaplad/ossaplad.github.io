/*!
 * 24/7 Customer, Inc. Confidential, Do Not Distribute. This is an
 * unpublished, proprietary work which is fully protected under
 * copyright law. This code may only be used pursuant to a valid
 * license from 24/7 Customer, Inc.
 */
typeof SN=="undefined"&&(SN={});var _tfsl=_tfsl||{};_tfsl.STAGING_URL="d2j8jkom7xmn9n.cloudfront.net/psp/personalize/personalize.js",_tfsl.PRODUCTION_URL="d1af033869koo7.cloudfront.net/psp/personalize/personalize.js",_tfsl.COOKIE_NAME="sn.rtpath",_tfsl.j=function(a){var b=a+"=",c=document.cookie.split(";");for(var d=0;d<c.length;d++){var e=c[d];while(e.charAt(0)==" ")e=e.substring(1,e.length);if(e.indexOf(b)==0)return e.substring(b.length,e.length)}return null},_tfsl.getPath=function(){var a=_tfsl.j(_tfsl.COOKIE_NAME);return null!=a?a:_tfsl.PRODUCTION_URL},function(){var a=document.createElement("script");a.type="text/javascript",a.async=!0,a.src=document.location.protocol+"//"+_tfsl.getPath();var b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b)}(),function(){try{var a=document.getElementById("sn_iframe"),b=a.contentWindow||a.contentDocument,c=1;if(b)var d=setInterval(e,500);function e(){b.SN&&b.SN.EventManager!==undefined?(clearInterval(d),b.SN.EventManager.observe("bootstrapDone",function(){if(parent.SN.Personalization&&SN.Conf.CONST_PSP_CLIENT_KEY){var a=SN.Conf.CONST_PSP_CLIENT_KEY.split("-")[0];parent.SN.Personalization.init(a),parent.SN.Personalization.getSegment=function(a){}}})):c==10&&clearInterval(d),c++}}catch(f){}}(),function(){function b(a){var b=a+"=",c=document.cookie.split(";");for(var d=0;d<c.length;d++){var e=c[d];while(e.charAt(0)==" ")e=e.substring(1,e.length);if(e.indexOf(b)==0)return e.substring(b.length,e.length)}return null}typeof SN.personalizationEXP=="undefined"&&(SN.personalizationEXP={},SN.personalizationEXP=function(){var a=function(a,b){var f={status:"error",pznDes:!0},g=parseInt(c()),h=1e3;g&&g<=25?h=300:g&&g>25&&g<=50?h=1e3:g&&g>50&&g<=75?h=300:g&&g>75&&(h=1e3);if(a&&a.html){var i=e();if(i=="HOME_PAGE")$("#banner_top").length>0?$("#banner_top").children().eq(1).length>0?$("#banner_top").children().eq(1).fadeOut(h,function(){$("#banner_top").append(a.html)}):$("#banner_top").children().fadeOut(h,function(){$("#banner_top").append(a.html)}):(a.html="",a.jsondata="",f.reason="Expected div id not present",f.res=a,d("760033",f,null,null,null));else if(i=="OFFER_PAGE")if($("#rows").length>0){if(b&&b!==""){var j={iPhone7:"Row_hot-offers-iphone-7",iPhone7Plus:"Row_hot-offers-iphone-7",iPhone6s:"Row_hot-offers-iphone-7",iPhone6sPlus:"Row_hot-offers-iphone-7",iPhoneSE:"Row_hot-offers-iphone-7",Generic:"Row_hot-offers-iphone-7",SamsungGalaxyS7:"Row_hot-offers-samsung-galaxy-s7",SamsungGalaxyS7edge:"Row_hot-offers-samsung-galaxy-s7-edge",HuaweiP9:"Row_hot-offers-huawei-p9-offer",SonyXperiaX:"Row_hot-offers-xperia-x"};j[b]&&$("div").filter(function(){return $(this).attr("data-rowname")===j[b]}).hide()}$("#rows").children().eq(1).fadeOut(1e3,function(){$(a.html).insertBefore($("#rows").children().eq(1))})}else a.html="",a.jsondata="",f.reason="Expected div id not present",f.res=a,d("760033",f,null,null,null);else a.html="",a.jsondata="",f.reason="Page not supported for personalization",f.res=a,d("760033",f,null,null,null)}},c=function(){var a="";if(b("sn.rn")!=null){var c=b("sn.rn").split("~"),d="rv||";for(var e=0;e<c.length;e++){var f=c[e];f.indexOf(d)==0&&(a=f.substring(d.length,f.length))}}return a},d=function(a,b,c,d,e){var f={};f.ec=a;var g=(new Date).getTime();f.st=g.toString(),f.f={},f.f.v={},f.f.v.cts=g.toString(),f.f.v.br=SN.UserAgentParser.getBrowserDetails(),b!=null&&(f.c={},f.c.it={},f.c.it.raw=b),SN&&SN.Tracker!==undefined&&SN.Tracker.constructAndMakeTrackingCall(null,f,null,!0)},e=function(){var a="";switch(document.location.href.split("?")[0]){case location.protocol+"//www.vodafone.com.au":case location.protocol+"//www.vodafone.com.au/":case location.protocol+"//www.vodafone.com.au/home":case location.protocol+"//www.vodafone.com.au/home/":a="HOME_PAGE";break;case location.protocol+"//www.vodafone.com.au/hot-offers":case location.protocol+"//www.vodafone.com.au/hot-offers/":a="OFFER_PAGE";break;default:}return a};return{intentData:a,getpageName:e}}());var a=function(){function a(a,b){b||(b=window.location.href),a=a.replace(/[\[\]]/g,"\\$&");var c=new RegExp("[?&]"+a+"(=([^&#]*)|&|#|$)"),d=c.exec(b);return d?d[2]?decodeURIComponent(d[2].replace(/\+/g," ")):"":null}function e(a){var b=a+"=",c=document.cookie.split(";");for(var d=0;d<c.length;d++){var e=c[d];while(e.charAt(0)==" ")e=e.substring(1,e.length);if(e.indexOf(b)==0)return e.substring(b.length,e.length)}return null}var b=function(){try{var b=d(),f;SN.personalizationEXP.getpageName()==="HOME_PAGE"?f="HOME_PAGE":f="OTHER_PAGE";var g=parseInt(c()),h=1e3;g&&g<=25?h=300:g&&g>25&&g<=50?h=1e3:g&&g>50&&g<=75?h=300:g&&g>75&&(h=1e3);var i=Math.random().toString().substring(2,18)+"-"+(new Date).getTime(),j=e("sn.tfs_pzn_env"),k=j!==null?j:"prod",l=e("sn.ecenv"),m=e("sn.tfsenv")!==null?e("sn.tfsenv"):"prod";if(b){if(k&&k!="prod")var n="//interact-api-stage.px.247inc.net/api/v6/vha/getContent?sessionId="+b+"&pageId="+f+"&type=TOPSLOT&reqid="+i+"&ecResLoad="+l+"&env="+m;else var n="//interact-api.px.247inc.net/api/v6/vha/getContent?sessionId="+b+"&pageId="+f+"&type=TOPSLOT&reqid="+i+"&ecResLoad="+l+"&env="+m;$.ajax({dataType:"json",url:n}).done(function(b){b&&b.bannerType&&(b.bannerType.toLowerCase()==="default"||b.bannerType.toLowerCase()==="defaultapi")&&b.jsondata!==undefined&&b.jsondata.impurl!==undefined&&setTimeout(function(){var a=b.jsondata,c=document.createElement("img");c.src=a.impurl},h);if(b&&b.html&&b.bannerType&&b.bannerType.toLowerCase()!=="default"&&b.bannerType.toLowerCase()!=="defaultapi"){var c="";b.jsondata!==undefined&&b.jsondata.impurl!==undefined&&(c=a("productid",b.jsondata.impurl)),b.bannerType&&SN.personalizationEXP.intentData(b,c)}}).fail(function(){})}}catch(o){}},c=function(){var a="";if(e("sn.rn")!=null){var b=e("sn.rn").split("~"),c="rv||";for(var d=0;d<b.length;d++){var f=b[d];f.indexOf(c)==0&&(a=f.substring(c.length,f.length))}}return a},d=function(){var a="";if(e("sn.vi")!=null){var b=e("sn.vi").split("~"),c="vi||";for(var d=0;d<b.length;d++){var f=b[d];f.indexOf(c)==0&&(a=f.substring(c.length,f.length))}}return a};return{getIntent:b}};switch(document.location.href.split("?")[0]){case location.protocol+"//www.vodafone.com.au":case location.protocol+"//www.vodafone.com.au/hot-offers":case location.protocol+"//www.vodafone.com.au/":case location.protocol+"//www.vodafone.com.au/hot-offers/":case location.protocol+"//www.vodafone.com.au/home":case location.protocol+"//www.vodafone.com.au/home/":var c=!0;SN.personalizationEXP.getpageName()==="HOME_PAGE"&&b("dealer")!==null&&(c=!1),c&&a().getIntent();break;default:}}(),$(document).ready(function(){function a(a){var b={};b.key=a,b.cp=document.location.href,$.isFunction(tfsSendData)&&tfsSendData("page","click",b)}$("#banner_top .spl-html-banner div a.spl-btn").on("click",function(){var b=this.innerHTML.toLowerCase().trim().replace(/ /g,"_")+"_new";a(b)}),$("#rows>div .timerRow div.spl-hot-offers-button").eq(0).on("click",function(){var b=this.innerHTML.toLowerCase().trim().replace(/ /g,"_")+"_new";a(b)}),$("#banner_top .spl-html-banner .spl-grid div span.spl-btn").on("click",function(){var b=this.innerHTML.toLowerCase().trim().replace(/ /g,"_")+"_cust";a(b)})})