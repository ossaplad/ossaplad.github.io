/*!
 * 24/7 Customer, Inc. Confidential, Do Not Distribute. This is an
 * unpublished, proprietary work which is fully protected under
 * copyright law. This code may only be used pursuant to a valid
 * license from 24/7 Customer, Inc.
 */
function $A(a){if(!a)return[];var b=a.length||0,c=new Array(b);while(b--)c[b]=a[b];return c}function $w(a){return typeof a!="string"?[]:(a=a.replace(/^\s+/,"").replace(/\s+$/,""),a?a.split(/\s+/):[])}function $(a){if(arguments.length>1){for(var b=0,c=[],d=arguments.length;b<d;b++)c.push($(arguments[b]));return c}return typeof a=="string"&&(a=document.getElementById(a)),Element.extend(a)}function $H(a){return new Hash(a)}function $undefined(a){return Object.isUndefined(a)}function $undefinedOrNull(a){return SN.Utils.isUndefinedOrNull(a)}function $isArray(a){return Object.isArray(a)}function $isNumber(a){return Object.isNumber(a)}function $isFunction(a){return Object.isFunction(a)}function $isString(a){return Object.isString(a)}function $isEmpty(a){return SN.Utils.isEmpty(a)}function $startsWith(a,b){return SN.Utils.patternMatch(a,b+".*")}function $endsWith(a,b){return SN.Utils.patternMatch(a,".*"+b)}function $contains(a,b){return SN.Utils.patternMatch(a,".*"+b+".*")}function $patternMatch(a,b){return SN.Utils.patternMatch(a,b)}function $appendHTMLTag(a,b,c,d){return SN.Utils.appendHTMLTag(a,b,c,d)}function $timeOnSite(){return SN.Utils.getTimeOnSite()}function $averageTimeOnPage(){return SN.Utils.getAverageTimeOnPage()}function $isRepeatVisitor(){var a=SN.Constants,b=SN.StoreManager.getValueFromStore(a.SN_VI_STORE_NAME,SN.Constants.PREVIOUS_ACTIVE_SESSION_TIME);return $undefinedOrNull(b)?!1:!0}function $getMetaTagInformation(a){var b=parent.document.getElementsByTagName("meta");for(var c=0;c<b.length;c++)try{if(b[c].name&&b[c].name==a||b[c]["http=equiv"]&&b[c]["http=equiv"]==a)return b[c].content}catch(d){SN.Utils.error("Unable to capture the metatag value",d)}return null}function $getActiveSessionStartTime(){return SN.StoreManager.getValueFromStore(SN.Constants.SN_VI_STORE_NAME,SN.Constants.ACTIVE_SESSION_START_TIME)}function $getPreviousActiveSessionStartTime(){return SN.StoreManager.getValueFromStore(SN.Constants.SN_VI_STORE_NAME,SN.Constants.PREVIOUS_ACTIVE_SESSION_TIME)}function $getClientTimeStamp(){return SN.Utils.getClientTimeStamp()}function $getClientTimeZoneOffsetInMilliSeconds(){return SN.Utils.getClientTimeZoneOffsetInMilliSeconds()}function $getGeoPrivateIp(){return SN.Utils.getGeoPrivateIp()}function $getGeoLatitudeBrowser(){var a=window.localStorage.getItem(SN.Constants.BROWSER_GEO_LOCATION);return a==null?"null":a.split(SN.Constants.KEY_SEPERATOR)[0].split(SN.Constants.KEY_VALUE_SEPERATOR)[1]}function $getGeoLongitudeBrowser(){var a=window.localStorage.getItem(SN.Constants.BROWSER_GEO_LOCATION);return a==null?"null":a.split(SN.Constants.KEY_SEPERATOR)[1].split(SN.Constants.KEY_VALUE_SEPERATOR)[1]}function $getGeoBrowserLocationError(){var a=window.localStorage.getItem(SN.Constants.BROWSER_GEO_LOCATION);return a==null?"ue":a.split(SN.Constants.KEY_SEPERATOR)[0].split(SN.Constants.KEY_VALUE_SEPERATOR)[1]}function $geoCountry(){var a=SN.ConfigurationManager.getGeoInfo();if($undefinedOrNull(a)||$undefinedOrNull(a.location))return;return a.location.country}function $geoCity(){var a=SN.ConfigurationManager.getGeoInfo();if($undefinedOrNull(a)||$undefinedOrNull(a.location))return;return a.location.city}function $geoRegion(){var a=SN.ConfigurationManager.getGeoInfo();if($undefinedOrNull(a)||$undefinedOrNull(a.location))return;return a.location.region}function $geoPostalCode(){var a=SN.ConfigurationManager.getGeoInfo();if($undefinedOrNull(a)||$undefinedOrNull(a.location))return;return a.location.zipcode}function $geoLatitude(){var a=SN.ConfigurationManager.getGeoInfo();if($undefinedOrNull(a)||$undefinedOrNull(a.location))return;return a.location.lat}function $geoLongitude(){var a=SN.ConfigurationManager.getGeoInfo();if($undefinedOrNull(a)||$undefinedOrNull(a.location))return;return a.location.lon}function $geoMetro(){var a=SN.ConfigurationManager.getGeoInfo();if($undefinedOrNull(a)||$undefinedOrNull(a.location))return;return a.location.metro}function $geoArea(){var a=SN.ConfigurationManager.getGeoInfo();if($undefinedOrNull(a)||$undefinedOrNull(a.location))return;return a.location.area}function $geoIsp(){var a=SN.ConfigurationManager.getGeoInfo();if($undefinedOrNull(a)||$undefinedOrNull(a.isp))return;return a.isp.name}function $geoIPAddress(){var a=SN.ConfigurationManager.getGeoInfo();if($undefinedOrNull(a)||$undefinedOrNull(a.isp))return;return a.isp.ip}function $geoOrganization(){var a=SN.ConfigurationManager.getGeoInfo();if($undefinedOrNull(a)||$undefinedOrNull(a.isp))return;return a.isp.org}function $geoCountryCode(){var a=SN.ConfigurationManager.getGeoInfo();if($undefinedOrNull(a)||$undefinedOrNull(a.location))return;return a.location.countryCode}function $geoBandwidth(){var a=SN.ConfigurationManager.getGeoInfo();if($undefinedOrNull(a)||$undefinedOrNull(a.isp))return;return a.isp.bandwidth}function $geoHost(){var a=SN.ConfigurationManager.getGeoInfo();if($undefinedOrNull(a)||$undefinedOrNull(a.isp))return;return a.isp.hostname}function $cookieExists(a){var b=new SN.CookieManager;return!$undefinedOrNull(b.readCookie(a))}function $cookieGet(a){var b=new SN.CookieManager;return b.readCookie(a)}function $cookieSet(a,b,c){var d=new SN.CookieManager;return d.createCookie(a,b,c)}function $onGetDataFromServer(a,b){SN.ServerStoremanager.onGetDataFromServer(a,b)}function $getData(a){return SN.StoreManager.getValueFromStore("sn.vc",a)}function $setData(a,b){SN.StoreManager.setValueInStore("sn.vc",a,b)}function $removeData(a){SN.StoreManager.deleteValueFromStore("sn.vc",a)}function $lastExitLink(){return SN.ExitHistory.getLastExitLink()}function getPageIdExpression(){return"tagged_page"}function getWebTrackIdExpression(){return"wti"}function $keepAliveActiveSession(){SN.SessionManager.getGlobalSession().keepAliveActiveSession()}function $activeSessionId(){return SN.SessionManager.getGlobalSession().getActiveSessionId()}function $activeSessionCount(){return SN.SessionManager.getGlobalSession().getActiveSessionId()}var Prototype={Browser:function(){var a=navigator.userAgent,b=Object.prototype.toString.call(window.opera)=="[object Opera]";return{IE:!!window.attachEvent&&!b,Opera:b,WebKit:a.indexOf("AppleWebKit/")>-1,Gecko:a.indexOf("Gecko")>-1&&a.indexOf("KHTML")===-1,MobileSafari:/Apple.*Mobile.*Safari/.test(a)}}(),BrowserFeatures:{ElementExtensions:function(){var a=window.Element||window.HTMLElement;return!!a&&!!a.prototype}(),SpecificElementExtensions:function(){if(typeof window.HTMLDivElement!="undefined")return!0;var a=document.createElement("div"),b=document.createElement("form"),c=!1;return a.__proto__&&a.__proto__!==b.__proto__&&(c=!0),a=b=null,c}()},emptyFunction:function(){},K:function(a){return a}},Class=function(){function a(){}function b(){function d(){this.initialize.apply(this,arguments)}var b=null,c=$A(arguments);Object.isFunction(c[0])&&(b=c.shift()),Object.extend(d,Class.Methods),d.superclass=b,d.subclasses=[],b&&(a.prototype=b.prototype,d.prototype=new a,b.subclasses.push(d));for(var e=0;e<c.length;e++)d.addMethods(c[e]);return d.prototype.initialize||(d.prototype.initialize=Prototype.emptyFunction),d.prototype.constructor=d,d}function c(a){var b=this.superclass&&this.superclass.prototype,c=Object.keys(a);Object.keys({toString:!0}).length||(a.toString!=Object.prototype.toString&&c.push("toString"),a.valueOf!=Object.prototype.valueOf&&c.push("valueOf"));for(var d=0,e=c.length;d<e;d++){var f=c[d],g=a[f];if(b&&Object.isFunction(g)&&g.argumentNames().first()=="$super"){var h=g;g=function(a){return function(){return b[a].apply(this,arguments)}}(f).wrap(h),g.valueOf=h.valueOf.bind(h),g.toString=h.toString.bind(h)}this.prototype[f]=g}return this}return{create:b,Methods:{addMethods:c}}}(),JSON;(function(){function extend(a,b){for(var c in b)a[c]=b[c];return a}function clone(a){return extend({},a)}function isElement(a){return!!a&&a.nodeType==1}function isArray(a){return _toString.call(a)=="[object Array]"}function isHash(a){return a instanceof Hash}function isFunction(a){return typeof a=="function"}function isString(a){return _toString.call(a)=="[object String]"}function isNumber(a){return _toString.call(a)=="[object Number]"}function isUndefined(a){return typeof a=="undefined"}function keys(a){var b=[];for(var c in a)b.push(c);return b}var _toString=Object.prototype.toString;JSON=function(){function quote(a){return escapable.lastIndex=0,escapable.test(a)?'"'+a.replace(escapable,function(a){var b=meta[a];return typeof b=="string"?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function str(a,b){var c,d,e,f,g=gap,h,i=b[a];i&&typeof i=="object"&&typeof i.toJSON=="function"&&(i=i.toJSON(a)),typeof rep=="function"&&(i=rep.call(b,a,i));switch(typeof i){case"string":return quote(i);case"number":return isFinite(i)?String(i):"null";case"boolean":case"null":return String(i);case"object":if(!i)return"null";gap+=indent,h=[];if(Object.prototype.toString.apply(i)==="[object Array]"){f=i.length;for(c=0;c<f;c+=1)h[c]=str(c,i)||"null";return e=h.length===0?"[]":gap?"[\n"+gap+h.join(",\n"+gap)+"\n"+g+"]":"["+h.join(",")+"]",gap=g,e}if(rep&&typeof rep=="object"){f=rep.length;for(c=0;c<f;c+=1)d=rep[c],typeof d=="string"&&(e=str(d,i),e&&h.push(quote(d)+(gap?": ":":")+e))}else for(d in i)Object.prototype.hasOwnProperty.call(i,d)&&(e=str(d,i),e&&h.push(quote(d)+(gap?": ":":")+e));return e=h.length===0?"{}":gap?"{\n"+gap+h.join(",\n"+gap)+"\n"+g+"}":"{"+h.join(",")+"}",gap=g,e}}function stringify(a,b,c){var d;gap="",indent="";if(a!=null&&typeof a=="object"&&typeof a.length=="number")return a.toJSON();if(typeof c=="number")for(d=0;d<c;d+=1)indent+=" ";else typeof c=="string"&&(indent=c);rep=b;if(!b||typeof b=="function"||typeof b=="object"&&typeof b.length=="number")return str("",{"":a});throw new Error("JSON.stringify")}function parse(text,reviver){function walk(a,b){var c,d,e=a[b];if(e&&typeof e=="object")for(c in e)Object.prototype.hasOwnProperty.call(e,c)&&(d=walk(e,c),d!==undefined?e[c]=d:delete e[c]);return reviver.call(a,b,e)}var j;text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),typeof reviver=="function"?walk({"":j},""):j;throw new SyntaxError("JSON.parse")}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;return JSON&&JSON.stringify&&JSON.parse?{stringify:JSON.stringify,parse:JSON.parse}:{stringify:stringify,parse:parse}}(),extend(Object,{keys:keys,extend:extend,isElement:isElement,isUndefined:isUndefined,isNumber:isNumber,isString:isString,isArray:isArray,isHash:isHash,isFunction:isFunction,clone:clone,toJSON:JSON.stringify})})(),Object.extend(Function.prototype,function(){function b(a,b){var c=a.length,d=b.length;while(d--)a[c+d]=b[d];return a}function c(c,d){return c=a.call(c,0),b(c,d)}function d(){var a=this.toString().match(/^[\s\(]*function[^(]*\(([^)]*)\)/)[1].replace(/\/\/.*?[\r\n]|\/\*(?:.|[\r\n])*?\*\//g,"").replace(/\s+/g,"").split(",");return a.length==1&&!a[0]?[]:a}function e(){if(!arguments.length)return this;var b=this,d=a.call(arguments,0);return function(){var a=c(d,arguments);return b.apply(this,a)}}function f(b){if(arguments.length<2&&typeof arguments[0]=="undefined")return this;var d=this,e=a.call(arguments,1);return function(){var a=c(e,arguments);return d.apply(b,a)}}function g(c){var d=this,e=a.call(arguments,1);return function(a){var f=b([a||window.event],e);return d.apply(c,f)}}function h(){if(this._methodized)return this._methodized;var a=this;return this._methodized=function(){var c=b([this],arguments);return a.apply(null,c)}}var a=Array.prototype.slice;return{argumentNames:d,bind:f,bindAsEventListener:g,methodize:h,curry:e}}()),Date.prototype.toJSON=function(){return'"'+this.getUTCFullYear()+"-"+(this.getUTCMonth()+1).toPaddedString(2)+"-"+this.getUTCDate().toPaddedString(2)+"T"+this.getUTCHours().toPaddedString(2)+":"+this.getUTCMinutes().toPaddedString(2)+":"+this.getUTCSeconds().toPaddedString(2)+'Z"'},RegExp.prototype.match=RegExp.prototype.test,RegExp.escape=function(a){return String(a).replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")},Object.extend(String,{interpret:function(a){return a==null?"":String(a)},specialChar:{"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","\\":"\\\\"}}),Object.extend(String.prototype,function(){function inspect(a){var b=this.replace(/[\x00-\x1f\\]/g,function(a){return a in String.specialChar?String.specialChar[a]:"\\u00"+a.charCodeAt().toPaddedString(2,16)});return a?'"'+b.replace(/"/g,'\\"')+'"':"'"+b.replace(/'/g,"\\'")+"'"}function toJSON(){return this.inspect(!0)}function unfilterJSON(a){return this.replace(a||Prototype.JSONFilter,"$1")}function isJSON(){var a=this;return a==""?!1:(a=this.replace(/\\./g,"@").replace(/"[^"\\\n\r]*"/g,""),/^[,:{}\[\]0-9.\-+Eaeflnr-u \n\r\t]*$/.test(a))}function evalJSON(sanitize){var json=this.unfilterJSON();try{if(!sanitize||json.isJSON())return eval("("+json+")")}catch(e){throw new SyntaxError("Badly formed JSON string: "+this.inspect())}}function camelize(){return this.replace(/-+(.)?/g,function(a,b){return b?b.toUpperCase():""})}function capitalize(){return this.charAt(0).toUpperCase()+this.substring(1).toLowerCase()}return{toJSON:toJSON,isJSON:isJSON,evalJSON:evalJSON,unfilterJSON:unfilterJSON,inspect:inspect,camelize:camelize,capitalize:capitalize}}());var $break={},Enumerable=function(){function a(a,b){var c=0;try{this._each(function(d){a.call(b,d,c++)})}catch(d){if(d!=$break)throw d}return this}function b(a,b){var c;return this.each(function(d,e){if(a.call(b,d,e))throw c=d,$break}),c}function c(a,b){var c=[];return this.each(function(d,e){a.call(b,d,e)&&c.push(d)}),c}function d(a,b,c){return this.each(function(d,e){a=b.call(c,a,d,e)}),a}function e(a){if(Object.isFunction(this.indexOf)&&this.indexOf(a)!=-1)return!0;var b=!1;return this.each(function(c){if(c==a)throw b=!0,$break}),b}function f(a){var b=[];return this.each(function(c){b.push(c[a])}),b}return{each:a,inject:d,pluck:f,include:e,find:b,detect:b,select:c}}();Array.from=$A,function(){function d(a){return(a!==!1?this:this.toArray())._reverse()}function e(a){for(var b=0,c=this.length;b<c;b++)a(this[b])}function f(a,b){b||(b=0);var c=this.length;b<0&&(b=c+b);for(;b<c;b++)if(this[b]===a)return b;return-1}function g(){var a=b.call(arguments,0);return this.select(function(b){return a.indexOf(b)==-1})}function h(a,b){b=isNaN(b)?this.length:(b<0?this.length+b:b)+1;var c=this.slice(0,b).reverse().indexOf(a);return c<0?c:b-c-1}var a=Array.prototype,b=a.slice,c=a.forEach;c||(c=e),Object.extend(a,Enumerable),a._reverse||(a._reverse=a.reverse),Object.extend(a,{_each:c,reverse:d,without:g}),a.indexOf||(a.indexOf=f),a.lastIndexOf||(a.lastIndexOf=h)}();var Hash=Class.create(Enumerable,function(){function a(a){this._object=Object.isHash(a)?a.toObject():Object.clone(a)}function b(a){for(var b in this._object){var c=this._object[b],d=[b,c];d.key=b,d.value=c,a(d)}}function c(a,b){return this._object[a]=b}function d(a){if(this._object[a]!==Object.prototype[a])return this._object[a]}function e(){return Object.clone(this._object)}function f(){return new Hash(this)}return{initialize:a,_each:b,set:c,get:d,toJSON:JSON.stringify,clone:f}}());Hash.from=$H,Object.extend(Number.prototype,function(){function a(a,b){var c=this.toString(b||10),d="";for(;d.length<a-c.length;d+="0");return d+c}return{toPaddedString:a,toJSON:JSON.stringify}}());var ObjectRange=Class.create(Enumerable,function(){function a(a,b,c){this.start=a,this.end=b,this.exclusive=c}function b(a){var b=this.start;while(this.include(b))a(b),b=b.succ()}function c(a){return a<this.start?!1:this.exclusive?a<this.end:a<=this.end}return{initialize:a,_each:b,include:c}}());if(!window.Node)var Node={};Node.ELEMENT_NODE||Object.extend(Node,{ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12}),function(a){var b=function(){var a=document.createElement("form"),b=document.createElement("input"),c=document.documentElement;b.setAttribute("name","test"),a.appendChild(b),c.appendChild(a);var d=a.elements?typeof a.elements.test=="undefined":null;return c.removeChild(a),a=b=null,d}(),c=a.Element;a.Element=function(a,c){c=c||{},a=a.toLowerCase();var d=Element.cache;return b&&c.name?(a="<"+a+' name="'+c.name+'">',delete c.name,Element.writeAttribute(document.createElement(a),c)):(d[a]||(d[a]=Element.extend(document.createElement(a))),Element.writeAttribute(d[a].cloneNode(!1),c))},Object.extend(a.Element,c||{}),c&&(a.Element.prototype=c.prototype)}(this),Element.cache={},Element.idCounter=1,Element.Methods={visible:function(a){return $(a).style.display!="none"},toggle:function(a){return a=$(a),Element[Element.visible(a)?"hide":"show"](a),a},hide:function(a){return a=$(a),a.style.display="none",a},show:function(a){return a=$(a),a.style.display="",a},remove:function(a){return a=$(a),a.parentNode.removeChild(a),a},insert:function(a,b){a=$(a);if((typeof b).match(/(number|string)/)!=null||Object.isElement(b)||b&&(b.toElement||b.toHTML))b={bottom:b};var c,d,e,f;for(var g in b){c=b[g],g=g.toLowerCase(),d=Element._insertionTranslations[g];if(Object.isElement(c)){d(a,c);continue}c=String(c)||"",e=(g=="before"||g=="after"?a.parentNode:a).tagName.toUpperCase(),f=Element._getContentFromAnonymousElement(e,c),(g=="top"||g=="after")&&f.reverse(),f.forEach(d.curry(a))}return a},writeAttribute:function(a,b,c){a=$(a);var d={},e=Element._attributeTranslations.write;typeof b=="object"?d=b:d[b]=Object.isUndefined(c)?!0:c;for(var f in d)b=e.names[f]||f,c=d[f],e.values[f]&&(b=e.values[f](a,c)),c===!1||c===null?a.removeAttribute(b):c===!0?a.setAttribute(b,b):a.setAttribute(b,c);return a},getHeight:function(a){return Element.getDimensions(a).height},getWidth:function(a){return Element.getDimensions(a).width},hasClassName:function(a,b){if(!(a=$(a)))return;var c=a.className;return c.length>0&&(c==b||(new RegExp("(^|\\s)"+b+"(\\s|$)")).test(c))},addClassName:function(a,b){if(!(a=$(a)))return;return Element.hasClassName(a,b)||(a.className+=(a.className?" ":"")+b),a},removeClassName:function(a,b){if(!(a=$(a)))return;return a.className=a.className.replace(new RegExp("(^|\\s+)"+b+"(\\s+|$)")," ").strip(),a},toggleClassName:function(a,b){if(!(a=$(a)))return;return Element[Element.hasClassName(a,b)?"removeClassName":"addClassName"](a,b)},empty:function(a){return $(a).innerHTML==""},scrollTo:function(a){a=$(a);var b=Element.cumulativeOffset(a);return window.scrollTo(b[0],b[1]),a},getStyle:function(a,b){a=$(a),b=b=="float"?"cssFloat":b.camelize();var c=a.style[b];if(!c||c=="auto"){var d=document.defaultView.getComputedStyle(a,null);c=d?d[b]:null}return b=="opacity"?c?parseFloat(c):1:c=="auto"?null:c},getOpacity:function(a){return $(a).getStyle("opacity")},setStyle:function(a,b){a=$(a);var c=a.style,d;if(Object.isString(b))return a.style.cssText+=";"+b,b.indexOf("opacity")>-1?a.setOpacity(b.match(/opacity:\s*(\d?\.?\d*)/)[1]):a;for(var e in b)e=="opacity"?Element.setOpacity(a,b[e]):c[e=="float"||e=="cssFloat"?Object.isUndefined(c.styleFloat)?"cssFloat":"styleFloat":e]=b[e];return a},setOpacity:function(a,b){return a=$(a),a.style.opacity=b==1||b===""?"":b<1e-5?0:b,a},getDimensions:function(a){a=$(a);var b=Element.getStyle(a,"display");if(b!="none"&&b!=null)return{width:a.offsetWidth,height:a.offsetHeight};var c=a.style,d=c.visibility,e=c.position,f=c.display;c.visibility="hidden",e!="fixed"&&(c.position="absolute"),c.display="block";var g=a.clientWidth,h=a.clientHeight;return c.display=f,c.position=e,c.visibility=d,{width:g,height:h}},cumulativeOffset:function(a){var b=0,c=0;do b+=a.offsetTop||0,c+=a.offsetLeft||0,a=a.offsetParent;while(a);return Element._returnOffset(c,b)}},Element._attributeTranslations={write:{names:{className:"class",htmlFor:"for"},values:{}}},Element._returnOffset=function(a,b){var c=[a,b];return c.left=a,c.top=b,c},Element._getContentFromAnonymousElement=function(a,b){var c=new Element("div"),d=Element._insertionTranslations.tags[a];return d?(c.innerHTML=d[0]+b+d[1],d[2].times(function(){c=c.firstChild})):c.innerHTML=b,$A(c.childNodes)};var _T_="<table><tbody>",__T_="</tbody></table>";Element._insertionTranslations={before:function(a,b){a.parentNode.insertBefore(b,a)},top:function(a,b){a.insertBefore(b,a.firstChild)},bottom:function(a,b){a.appendChild(b)},after:function(a,b){a.parentNode.insertBefore(b,a.nextSibling)},tags:{TABLE:["<table>","</table>",1],TBODY:[_T_,__T_,2],TR:[_T_+"<tr>","</tr>"+__T_,3],TD:[_T_+"<tr><td>","</td></tr>"+__T_,4],SELECT:["<select>","</select>",1]}},function(){var a=Element._insertionTranslations.tags;Object.extend(a,{THEAD:a.TBODY,TFOOT:a.TBODY,TH:a.TD})}(),Object.extend(Element,Element.Methods),function(a){!Prototype.BrowserFeatures.ElementExtensions&&a.__proto__&&(window.HTMLElement={},window.HTMLElement.prototype=a.__proto__,Prototype.BrowserFeatures.ElementExtensions=!0),a=null}(document.createElement("div")),Element.extend=function(){function a(a){if(typeof window.Element!="undefined"){var b=window.Element.prototype;if(b){var c="_"+(Math.random()+"").slice(2),d=document.createElement(a);b[c]="x";var e=d[c]!=="x";return delete b[c],d=null,e}}return!1}function b(a,b){for(var c in b){var d=b[c];typeof d=="function"&&!(c in a)&&(a[c]=d.methodize())}}var c=a("object");if(Prototype.BrowserFeatures.SpecificElementExtensions)return c?function(a){if(a&&typeof a._extendedByPrototype=="undefined"){var c=a.tagName;c&&/^(?:object|applet|embed)$/i.test(c)&&b(a,Element.Methods)}return a}:Prototype.K;var d={},e=Object.extend(function(a){if(!a||typeof a._extendedByPrototype!="undefined"||a.nodeType!=1||a==window)return a;var c=Object.clone(d),e=a.tagName.toUpperCase();return b(a,c),a._extendedByPrototype=Prototype.emptyFunction,a},{refresh:function(){Prototype.BrowserFeatures.ElementExtensions||Object.extend(d,Element.Methods)}});return e.refresh(),e}(),Element.addMethods=function(a){function d(a){a=a.toUpperCase()}function e(a,b,c){c=c||!1;for(var d in a){var e=a[d];if(typeof e!="function")continue;if(!c||!(d in b))b[d]=e.methodize()}}function f(a){var b,c="Heading",d="TableSection",e={OPTGROUP:"OptGroup",TEXTAREA:"TextArea",P:"Paragraph",FIELDSET:"FieldSet",UL:"UList",OL:"OList",DL:"DList",DIR:"Directory",H1:c,H2:c,H3:c,H4:c,H5:c,H6:c,Q:"Quote",INS:"Mod",DEL:"Mod",A:"Anchor",IMG:"Image",CAPTION:"TableCaption",COL:"TableCol",COLGROUP:"TableCol",THEAD:d,TFOOT:d,TBODY:d,TR:"TableRow",TH:"TableCell",TD:"TableCell",FRAMESET:"FrameSet",IFRAME:"IFrame"};e[a]&&(b="HTML"+e[a]+"Element");if(window[b])return window[b];b="HTML"+a+"Element";if(window[b])return window[b];b="HTML"+a.capitalize()+"Element";if(window[b])return window[b];var f=document.createElement(a),g=f.__proto__||f.constructor.prototype;return f=null,g}var b=Prototype.BrowserFeatures;if(arguments.length==2){var c=a;a=arguments[1]}c?c.length!=null?c.forEach(d):d(c):Object.extend(Element.Methods,a||{});var g=window.HTMLElement?HTMLElement.prototype:Element.prototype;b.ElementExtensions&&e(Element.Methods,g),Object.extend(Element,Element.Methods),Element.extend.refresh&&Element.extend.refresh(),Element.cache={}},document.viewport={getDimensions:function(){return{width:this.getWidth(),height:this.getHeight()}}},function(a){function f(){return b.WebKit&&!c.evaluate?document:b.Opera&&window.parseFloat(window.opera.version())<9.5?document.body:document.documentElement}function g(b){return d||(d=f()),e[b]="client"+b,a["get"+b]=function(){return d[e[b]]},a["get"+b]()}var b=Prototype.Browser,c=document,d,e={};a.getWidth=g.curry("Width"),a.getHeight=g.curry("Height")}(document.viewport),Element.Storage={UID:1},Element.addMethods({getStorage:function(a){if(!(a=$(a)))return;var b;return a===window?b=0:(typeof a._prototypeUID=="undefined"&&(a._prototypeUID=[Element.Storage.UID++]),b=a._prototypeUID[0]),Element.Storage[b]||(Element.Storage[b]=$H()),Element.Storage[b]},retrieve:function(a,b,c){if(!(a=$(a)))return;var d=Element.getStorage(a),e=d.get(b);return typeof e=="undefined"&&(d.set(b,c),e=c),e},clone:function(a,b){if(!(a=$(a)))return;var c=a.cloneNode(b);return Element.extend(c)}}),function(){function d(b){b=a.extend(b);var c=b.target,d=b.type,e=b.currentTarget;return e&&e.tagName&&(d==="load"||d==="error"||d==="click"&&e.tagName.toLowerCase()==="input"&&e.type==="radio")&&(c=e),c.nodeType==Node.TEXT_NODE&&(c=c.parentNode),Element.extend(c)}function e(a){return{x:f(a),y:g(a)}}function f(a){var b=document.documentElement,c=document.body||{scrollLeft:0};return a.pageX||a.clientX+(b.scrollLeft||c.scrollLeft)-(b.clientLeft||0)}function g(a){var b=document.documentElement,c=document.body||{scrollTop:0};return a.pageY||a.clientY+(b.scrollTop||c.scrollTop)-(b.clientTop||0)}function h(b){a.extend(b),b.preventDefault(),b.stopPropagation(),b.stopped=!0}function k(b,d,e){var f=Element.retrieve(b,"prototype_event_registry");Object.isUndefined(f)&&(m.push(b),f=Element.retrieve(b,"prototype_event_registry",$H()));var g=f.get(d);Object.isUndefined(g)&&(g=[],f.set(d,g));if(g.pluck("handler").include(e))return!1;var h;if(d.indexOf(":")>-1)h=function(c){if(Object.isUndefined(c.eventName))return!1;if(c.eventName!==d)return!1;a.extend(c,b),e.call(b,c)};else if(!!c||d!=="mouseenter"&&d!=="mouseleave")h=function(c){a.extend(c,b),e.call(b,c)};else if(d==="mouseenter"||d==="mouseleave")h=function(c){a.extend(c,b);var d=c.relatedTarget;while(d&&d!==b)try{d=d.parentNode}catch(f){d=b}if(d===b)return;e.call(b,c)};return h.handler=e,g.push(h),h}function l(){for(var b=0,c=m.length;b<c;b++)a.stopObserving(m[b]),m[b]=null}function o(a,b,c){a=$(a);var d=k(a,b,c);if(!d)return a;if(b.indexOf(":")>-1)a.addEventListener?a.addEventListener("dataavailable",d,!1):(a.attachEvent("ondataavailable",d),a.attachEvent("onfilterchange",d));else{var e=n(b);a.addEventListener?a.addEventListener(e,d,!1):a.attachEvent("on"+e,d)}return a}function p(a,b,c){a=$(a);var d=Element.retrieve(a,"prototype_event_registry");if(Object.isUndefined(d))return a;if(b&&!c){var e=d.get(b);return Object.isUndefined(e)?a:(e.each(function(c){Element.stopObserving(a,b,c.handler)}),a)}if(!b)return d.each(function(b){var c=b.key,d=b.value;d.each(function(b){Element.stopObserving(a,c,b.handler)})}),a;var e=d.get(b);if(!e)return;var f=e.find(function(a){return a.handler===c});if(!f)return a;var g=n(b);return b.indexOf(":")>-1?a.removeEventListener?a.removeEventListener("dataavailable",f,!1):(a.detachEvent("ondataavailable",f),a.detachEvent("onfilterchange",f)):a.removeEventListener?a.removeEventListener(g,f,!1):a.detachEvent("on"+g,f),d.set(b,e.without(f)),a}function q(b,c,d,e){b=$(b),Object.isUndefined(e)&&(e=!0),b==document&&document.createEvent&&!b.dispatchEvent&&(b=document.documentElement);var f;return document.createEvent?(f=document.createEvent("HTMLEvents"),f.initEvent("dataavailable",!0,!0)):(f=document.createEventObject(),f.eventType=e?"ondataavailable":"onfilterchange"),f.eventName=c,f.memo=d||{},document.createEvent?b.dispatchEvent(f):b.fireEvent(f.eventType,f),a.extend(f)}var a={},b=document.documentElement,c="onmouseenter"in b&&"onmouseleave"in b;a.Methods={element:d,pointer:e,pointerX:f,pointerY:g,stop:h};var i=Object.keys(a.Methods).inject({},function(b,c){return b[c]=a.Methods[c].methodize(),b});if(Prototype.Browser.IE){function j(a){var b;switch(a.type){case"mouseover":b=a.fromElement;break;case"mouseout":b=a.toElement;break;default:return null}return Element.extend(b)}Object.extend(i,{stopPropagation:function(){this.cancelBubble=!0},preventDefault:function(){this.returnValue=!1},inspect:function(){return"[object Event]"}}),a.extend=function(b,c){if(!b)return!1;if(b._extendedByPrototype)return b;b._extendedByPrototype=Prototype.emptyFunction;var d=a.pointer(b);return Object.extend(b,{target:b.srcElement||c,relatedTarget:j(b),pageX:d.x,pageY:d.y}),Object.extend(b,i)}}else a.prototype=window.Event.prototype||document.createEvent("HTMLEvents").__proto__,Object.extend(a.prototype,i),a.extend=Prototype.K;var m=[];Prototype.Browser.IE&&window.attachEvent("onunload",l),Prototype.Browser.WebKit&&window.addEventListener("unload",Prototype.emptyFunction,!1);var n=Prototype.K;c||(n=function(a){var b={mouseenter:"mouseover",mouseleave:"mouseout"};return a in b?b[a]:a}),Object.extend(a,a.Methods),Object.extend(a,{fire:q,observe:o,stopObserving:p}),Element.addMethods({fire:q,observe:o,stopObserving:p}),Object.extend(document,{fire:q.methodize(),observe:o.methodize(),stopObserving:p.methodize(),loaded:!1}),window.Event?Object.extend(window.Event,a):window.Event=a}(),Element.addMethods(),typeof SN=="undefined"&&(SN={}),SN.Constants=function(){var a={"sn.vi":31536e6,"sn.ui":31536e6,"sn.vc":31536e6,"sn.wt":36e5,"sn.eh":31536e6,"sn.as":36e5,"sn.rn":31536e6},b={UNDEFINED_STR:"undefined",KEY_VALUE_SEPERATOR:"||",KEY_SEPERATOR:"~",LOCALSTORAGE_KEY_SEPARATOR:"#",LOCALSTORAGE_VALUE_SEPARATOR:"+",PROXY_NAME:"/247xd.html",ACTION_PAGE_NAME:"webchat/js/247action.html",TP_RANDOM_NUMBER:"rt",VG_RANDOM_NUMBER:"rv",ACTIVE_SESSION:"as",ACTIVE_SESSION_LIFE_TIME:"aslt",CUSTOM_TRACKING_ENABLED:"cte",BROWSER_GEO_LOCATION:"bgl",RANDOM_NO_LIFE_TIME:"rnlt",MAX_UI_STORE_ENTRIES:"mui",VID_LIFETIME:"vilt",UI_STORE_LIFETIME:"uilt",WS_STORE_LIFETIME:"wslt",WT_STORE_LIFETIME:"wtlt",VARIABLE_STORE_LIFETIME:"vclt",EXIT_HISTORY_LIFETIME:"exlt",REPEAT_VISITOR_LIFETIME:"rvlt",PAGE_LOAD_COUNTER:"c",ACTIVE_SESSION_START_TIME:"st",PREVIOUS_ACTIVE_SESSION_TIME:"pat",CURRENT_ACTIVE_SESSION_TIME:"cat",SAMPLING_STORAGE:"smplscope",SAMPLING_STORE_STORAGE:"sp",BROWSER_SESSION_SCOPE:"bs",VISITOR_ID:"vi",BROWSER_DETAILS:"bd",DC_CODE:"dc",AS_CODE:"as",SERVER_CALL_ID_PREFIX:"sn-ss-",STATE_KEY:"st",TEST_STAGE:"t",SN_AS_STORE_NAME:"sn.as",SN_UI_STORE_NAME:"sn.ui",SN_VI_STORE_NAME:"sn.vi",DATA_CLEAN_UP_DONE_FOR_FPID_KEY:"f",PARAM_KEY_DATA_STORE:"ds",PARAM_KEY_CDN_VERSION:"vc",SN_RN_STORE_NAME:"sn.rn",SN_EXIT_HISTORY_STORE_NAME:"sn.eh",SN_VARIABLE_STORE_NAME:"sn.vc",SN_WEBTRACKER_STORE_NAME:"sn.wt",VI_BUCKET_CUSTOM_DATA_KEY:"cd",PSP_CONTEXT:"/psp",WEBCONTENT_CONTEXT:"/webcontent",PROTOCOL_HTTP:"http:",PROTOCOL_HTTPS:"https:",CDN_VERSION:"cv",PSP_VERSION:"pv",PAGE_ACTION_EVENT:"pageactionevent",EVENT_HANDLER_CHAT_INVITE:"SHOW_CHAT_INVITE",UPDATE_SN_AS_EVENT:"UPDATE_SN_AS_EVENT",EVENT_HANDLER_WOWPX:"START_WOWPX_APP",EVENT_HANDLER_ADP:"START_ADP_APP",WIDGET_EVENT:"widgetevent",ACTION_COMPLETED:"completed",ACTION_DISRUPTED:"disrupted",EXCEPTION_EVENT:"exceptionevent",UPDATE_FSMVARIABLES_EVENT:"updatefsmvariables",INTERNAL_ERROR:500,BOOTSTRAP_COMPLETED_EVENT:"bootstrapDone",BOOTSTRAP_UPDATE_COMPLETED_EVENT:"bootstrapUpdateDone",UI_UPDATE_EVENT:"uiUpdateDone",CUSTOM_INITIALIZATION_COMPLETED:"customInitializationCompleted",CONST_PERIODICAL_EXECUTION_TIMER_EVENT:"periodicexecutionevent",BOOTSTRAP_TARGET_ERROR_CODE:903,BOOTSTRAP_VISITOR_GROUP_NOT_FOUND:901,LOGLEVEL_ERROR:"e",LOGLEVEL_WARN:"w",LOGLEVEL_DEBUG:"d",LOGLEVEL_INFO:"i",SHOW_UI:"show",INTERNAL_INVITATION_EVENT:"internalinvitationevent",INVITE_ACCEPTED:"accepted",INVITE_DECLINED:"declined",INVITE_IGNORED:"ignored",INVITE_OFFERED:"shown",INVITATION_EVENT:"INVITATION_EVENT",RULE_ENGINE_EVENT:"RULE_ENGINE_EVENT",VISITOR_EVENT:"VISITOR_EVENT",SESSION_START_EVENT:"SESSION_START_EVENT",EVENT_SOURCE:"chatcontroller",CUSTOM_EVENT:"CUSTOM_EVENT",CUSTOM_EVENT_FIRED:"600000",EXIT_LINK_EVENT:"100010",SEQUENCE_ID:"s",SOURCE_SEQUENCE_ID:"ssi",RULE_ID:"ruleId",EVENT_ID:"eventId",RULE_CONFIG:"ruleconfig",KEY_IS_PRESENT:"isPresent",PARAM_TYPE_HANDLER:"handler",PARAM_TYPE_CUSTOM:"custom",PARAM_TO_IS:"paramsToIS",EVENT_TYPE:"eventType",TIME_STAMP:"ts",EVENT:"evt",CUSTOMER_ID:"cui",PLATFORM_CONFIG_IABLE_NAME:"pc",ACTION_CONTEXT:"ctxt",ACTION_CHAT_CTXT:"sn_chat_window",SN_KEY:"key",HANDLER_CONFIG_KEY:"handlerConfig",PARAM_TYPE_FSMVARS:"f",PARAM_TYPE_RULEVARS:"r",DOMLOADED:"domloaded",IFRAME_LOADED:"iframeLoaded",PSP_KEY:"key",VERSION:"v",EVENT_HANDLER_SHOW_CHAT_WINDOW:"SHOW_CHAT_WINDOW",IFRAME_TYPE:"iframeType",IFRAME_TYPE_EXCEPTION:"exception",ACCOUNT_ID:"ai",TRANSPORT_PARAMS:"transportparams",SOURCE_SEQ_ID:"ssi",XD_EVENT:"xdevent",PAGE_EVENT_INITIALIZE:"initialize",PAGE_EVENT:"pageevent",IFRAME_NAME:"childiframe",IFRAME_ID:"childiframeid",ELEMENT_NOT_PRESENT:!1,ELEMENT_PRESENT:!0,PSP_STATIC_SERVER_ID:"pspStaticRoot",BEFORE_UNLOAD_EVENT:"beforePageUnload",EVENT_HANDLER_CHAT:"SHOW_CHAT",EVENT_HANDLER_VIDEO:"SHOW_VIDEO",EVENT_HANDLER_PP:"SHOW_PP",EVENT_HANDLER_SCC:"SHOW_SCC",UI_TYPE_CHAT:"chat",PARAM_KEY_ACC_KEY:"key",PARAM_KEY_HOST:"host",PARAM_KEY_PAGEID:"pageid",PARAM_KEY_URL_ID:"ud",FINGER_PRINT_ID:"fpid",VID_BASED_ON_FPID:"vidBasedOnFpid",PARAM_KEY_VI_MAINTAINANCE:"shouldMaintainVi",PARAM_KEY_UNIQUE_TIMESTAMP:"uniqueTimestamp",PSP_ROOT_KEY:"psproot",CONTEXT_PARAM:"ctxt",START_TIME:"st",END_TIME:"et",EVENT_STATUS:"status",EVENT_OUTPUT:"output",EVENT_SRC_PAGE_ID:"pageid",KEY_RULE_STATE:"rulestate",ACTION_IN_PROGRESS:"inprogress",EVENT_PREFIX:"SN:",EVENT_HANDLER_JS:"EXECUTE_JS",PAGE_TRIGGER:"pagetrigger",BOOTSTRAP_RECEIVED_EVENT:"bootstrapRecvd",PERIODICAL_EXECUTION_TIMER_EVENT:"periodicexecutionevent",XD_RULE_EVENT:"ruleevent",XD_UPDATE_SESSION:"updatesession",XD_SAVE_STATE:"savestate",XD_BOOTSTRAP:"bootstrap",XD_WIDGET_CMD:"widgetcmd",XD_REDIRECT:"redirect",XD_PP_CHAT_ACCEPTED:"ppchataccepted",PAGE_EVENT_BOOTSTRAP:"bootstrap",PAGE_EVENT_STATE_CHANGE_UPDATE:"statechangeupdate",PAGE_EVENT_VISIT_TO_TAGGED_PAGE:"100001",SESSION_START_EVENT_ID:"100002",CUSTOM_RULE_TRIGGERED:"110001",CUSTOM_RULE_TRIGGER_EVENT:"CUSTOM_TRIGGER_EVENT",RULES_TRIGGERED:"110000",RULE_TRIGGERED_EXCEPTION_EVENT:"110002",PAGE_EVENT_RULE_TRIGGER_DROPPED:"120003",PARAM_UUIT:"ut",PARAM_ACTION_CONTEXT:"actionctxt",SHOULD_START_RE:"startRE",BOOTSTRAP_ID_PREFIX:"sn-bootstrap-",BOOTSTRAP_CONTEXT:"/bootstrap.js?",SET_VC_CONTEXT:"/v0/serverdata/set?",SEND_SERVER_DATA:"sendServerData",LOCAL_STORE:"localstore",BOOTSRTAP_RETRY_INTERVALS:[1e3,2e3,3e3],STATE_CHANGE_COMPLETED_EVENT:"statechangecompleted",STATECHANGE_ID_PREFIX:"sn-statechange-",STATECHANGE_CONTEXT:"/statechange?",PARENT_DOMAIN:"parentdomain",PSP_VERSION_KEY:"pspv",IE_STORAGE:"ie",REFERENCE_LOADED_ITEM:"refloaded",GET_LOCAL_STORAGE_ITEM:"getlocalstorageitem",SET_LOCAL_STORAGE_ITEM:"setlocalstorageitem",REMOVE_LOCAL_STORAGE_ITEM:"removelocalstorageitem",REFERENCE_IFRAME_ID:"sn-pspxd-iframe",REFERENCE_IFRAME_NAME:"sn-pspxd-iframe-name",UI_INVITE_ACCEPTED:"a",UI_INVITE_IGNORED:"i",UI_INVITE_DECLINED:"d",UI_INVITE_OFFERED:"o",UI_INVITATION_IN_PROGRESS:"ip",TRUE:"t",FALSE:"f",CONST_INVITATION_OFERED_TIME_STAMP:"it",EXIT_LINK:"el",NEWTAB_EXIT_LINK:"ntel",MAX_XD_RETRY_COUNT:5,XD_RETRY_INTERVAL:330,SET_XD_DATA:"setXdData",CONST_URL_SEPARATOR:"|",DEFAULT_STORE_LIFETIME_MAP:a,POLLER_TIMEOUT:9e5,CLIENT_KEY:"clientKey",BUCKET_KEY:"bucketKey",BUCKET_VALUE:"bucketValue",SEND_SERVER_DATA_CALL:"/v0/data/pxoe/set",GET_SERVER_DATA_CALL:"/v0/data/pxoe/get"},c={};getWowpxPath=function(a){var b=a||window.document.domain;return c[b]},getDocumentDomain=function(){var a=document.location.href,b=a.split("#"),c=b[1].split("&");for(var d=0;d<c.length;d++)if(c[d].indexOf("documentDomain")!=-1){var e=c[d].split("="),f=e[1];if(f!=document.domain)return f;break}};var d=window.documentDomain;return d&&document.domain!=d&&(document.domain=d),b}(),typeof SN=="undefined"&&(SN={});try{window.pspSNTrackingId=(new String((new Date).getTime())).valueOf()+"-"+Math.floor(Math.random()*1e6)}catch(err){console.log("Error while constructing trackingId",err)}SN.loadTrackingScript=function(a,b,c,d,e,f){var g=SN.Constants;try{var h=new String((new Date).getTime()),i=document.createElement("script");i.type="text/javascript";var j="id="+window.pspSNTrackingId+"&type="+a+"&ts="+h;typeof b!==g.UNDEFINED_STR&&b!=null&&(j=j+"&vid="+b);var k=parent.document.location.href;k.length>200&&(k=k.substr(0,200)),j=j+"&u="+encodeURIComponent(k),j=j+"&ll="+f,typeof c!==g.UNDEFINED_STR&&c!=null&&c!=""&&(j=j+"&ed="+c),j.length>2e3&&(j=j.substr(0,2e3)),i.id="track-js"+h,i.src=document.location.protocol+"//"+parent.SN.Conf.getCpxtDomain()+"/psp/"+e+"/"+parent.SN.Conf.CONST_PSP_VERSION+"/cpxt.js?"+j,document.body.appendChild(i)}catch(l){console.log("Error while sending custom tracking data",l)}},typeof SN=="undefined"&&(SN={}),SN.Utils=function(){function V(a){G=a,I=(new Date).getTime(),J=G-I}function W(){return G}function X(a){R=a,H=G-a;var b=new Date,c=-(b.getTimezoneOffset()*60*1e3),d=a,e=d-c,f=new Date((new Date).getTime()+e);P=f.getHours(),Q=f.getMinutes()}function Y(){return P+":"+Q}function Z(){return R}function $(){return $undefinedOrNull(J)?null:J}function _(a){var b=[].slice.call(a,0);for(var c=0;c<b.length;c++){var d=b[c];$isArray(d)?b[c]=d.join(","):$isString(d)||(b[c]=JSON.stringify(d))}return b.join(" ")}function ab(a,b){var c=[];return c.push(a),c.push("="),c.push(b),c.join("")}function cb(a){m=a}function db(){return m}function eb(){if(!g||m>j)return;typeof console.warn!=a.UNDEFINED_STR&&(Prototype.Browser.Gecko?console.warn.apply(console,arguments):console.warn(_(arguments)))}function fb(){if(!g||m>i)return;typeof console.error!=a.UNDEFINED_STR&&(Prototype.Browser.Gecko?console.error.apply(console,arguments):console.error(_(arguments)))}function gb(){if(!g||m>l)return;typeof console.info!=a.UNDEFINED_STR&&(Prototype.Browser.Gecko?console.info.apply(console,arguments):console.info(_(arguments)))}function hb(){if(!g||m>k)return;typeof console.debug!=a.UNDEFINED_STR?Prototype.Browser.Gecko?console.debug.apply(console,arguments):console.log(_(arguments)):lc()&&console.log(n+_(arguments))}function ib(a,b){var c={};$undefined(b)||(c.id=b),c.href=a,c.rel="stylesheet",c.type="text/css",f.appendChild(new Element("link",c))}function jb(a,b){var c={};$undefined(b)||(c.id=b),c.src=a,c.type="text/javascript",c.charset="UTF-8",c.async=!0,f.appendChild(new Element("script",c))}function kb(a,b){var c={};$undefined(b)||(c.id=b),c.src=a,c.type="text/javascript",document.body.appendChild(new Element("script",c))}function lb(a,b,c){var d={};$undefined(b)||(d.id=b),d.src=a;var e=new Element("iframe",d);return c==1&&e.hide(),document.body.appendChild(e)}function mb(a,b,c){var d={};$undefined(b)||(d.id=b),d.src=a;var e=new Element("img",d);c==1&&e.hide(),document.body.appendChild(e)}function nb(a,b){var c=a.length>0&&a.charAt(a.length-1)!="?";for(var d in b)c==1?a+="&":c=!0,typeof b[d]=="object"||$isArray(b)?a+=d+"="+encodeURIComponent(JSON.stringify(b[d])):a+=d+"="+encodeURIComponent(b[d]);return a}function ob(){return $undefined(window.innerWidth)?!$undefined(document.documentElement)&&!$undefined(document.documentElement.clientWidth)&&document.documentElement.clientWidth!=0?parent.document.documentElement.clientWidth:parent.document.getElementsByTagName("body")[0].clientWidth:parent.window.innerWidth}function pb(){return $undefined(window.innerHeight)?!$undefined(document.documentElement)&&!$undefined(document.documentElement.clientHeight)&&document.documentElement.clientHeight!=0?parent.document.documentElement.clientHeight:parent.document.getElementsByTagName("body")[0].clientHeight:parent.window.innerHeight}function qb(a){var b=new RegExp("[\\?&#]"+a+"=([^&#]*)"),c=b.exec(location.href);return $isEmpty(c)?"":decodeURIComponent(c[1])}function rb(a){$isEmpty(a)&&(a=location.href);var b=a.indexOf("?");b!=-1&&b<a.length-1&&(a=a.substring(0,b));var c=a.lastIndexOf("/");return c!=-1&&c<a.length-1?a.substring(0,c):a}function sb(a){$isEmpty(a)&&(a=top.location.href);var b=a.indexOf("https")==0?9:8,c=a.indexOf("/",b);return c>0?a.substring(0,c):a}function tb(b){return undefined===b?a.UNDEFINED_STR:null===b?null:{}.toString.call(b).slice(8,-1)}function ub(a){return Object.isUndefined(a)||a==null||a==="null"}function vb(a){return a==null||a==""}function wb(b,c){var d=c;if($undefined(d)||$isEmpty(d))d=qb("host"),$isEmpty(d)&&(d=top.location.href);var e=sb(d);b==null&&(b="");var f={};return b=f[c],new SN.XD.Sender(e+"/"+b+a.PROXY_NAME)}function xb(b){if(b!=null)return b;var c=qb("host");$isEmpty(c)&&(c=top.location.href);var d=sb(c);return d+"/"+a.ACTION_PAGE_NAME}function yb(a,b,c){var d=parent.document.createElement("form");Element.writeAttribute(d,"id",c+"-form"),Element.writeAttribute(d,"method","post"),Element.writeAttribute(d,"action",a),Element.writeAttribute(d,"target",c),parent.document.body.appendChild(d);for(var e in b){var f=parent.document.createElement("input");Element.writeAttribute(f,"id",c+"-input-"+e),Element.writeAttribute(f,"type","hidden"),Element.writeAttribute(f,"name",e),Element.writeAttribute(f,"value",String(b[e])),Element.insert(d,f)}d.submit(),window.setTimeout(function(){Element.remove(d)},1e3)}function zb(a,b,c){var d=new Element("iframe",{id:b,src:a});d.setStyle({left:"-1000px",position:"absolute"}),Element.hide(d),document.body.appendChild(d);if(c!=null&&c!="")try{var e=c-0,f=window.setTimeout(function(){Element.remove(d)},e)}catch(g){eb("invalid integer: "+c,g)}}function Ab(a,b,c){$undefinedOrNull(c)&&(c="_blank");var d=new Element("form",{method:"post",action:a,target:c});document.body.appendChild(d);for(var e in b){var f=new Element("input",{id:c+"-input-"+e,type:"hidden",name:e,value:String(b[e])});d.appendChild(f)}d.submit()}function Bb(a,b){var c=new RegExp(b,"");return c.test(a)}function Cb(){var a=[],b="0123456789ABCDEF";for(var c=0;c<36;c++)a[c]=Math.floor(Math.random()*16);a[14]=4,a[19]=a[19]&3|8;for(var c=0;c<36;c++)a[c]=b.charAt(a[c]);return a[8]=a[13]=a[18]=a[23]="-",a.join("").toLowerCase()}function Db(a,b){if(a>=b)throw"Invalid range: "+a+">="+b;return Math.floor(Math.random()*(b-a+1))+a}function Eb(a,b){var c=a.indexOf(b);return c>=0&&c+b.length==a.length?!0:!1}function Fb(a){d=a}function Gb(a){c=a}function Hb(a){x=a}function Ib(){return x}function Jb(a){y=a}function Kb(){return y}function Lb(){return d}function Mb(){var a=parent.SN.Conf.CONST_PSP_VERSION;$undefinedOrNull(a)&&(a=t);if(a=="d"||a=="default")return"default";if(a=="t"||a=="test")return"test"}function Nb(){return c}function Ob(){var a=parent.SN.Conf.CONST_CDN_VERSION;return $undefinedOrNull(a)&&(a=u),a}function Pb(a){p=a}function Qb(a){q=a}function Rb(){return q}function Sb(a){s=a}function Tb(){return s}function Ub(){return Xb()+"//"+Lb()+a.PSP_CONTEXT}function Vb(){var b="https:";return b+"//"+Lb()+a.PSP_CONTEXT}function Wb(){return Xb()+"//"+Nb()+a.PSP_CONTEXT}function Xb(){var b=a.PROTOCOL_HTTPS;return location.protocol.indexOf(a.PROTOCOL_HTTPS)==-1&&(b=a.PROTOCOL_HTTP),b}function Yb(){return Xb()+"//"+Lb()+a.WEBCONTENT_CONTEXT}function Zb(a,b){var c=new Array;return c.push(a),c.push(b),c.join("=")}function $b(a,b,c,d){var e;a=="parent"?e=parent.document:e=document;var f=e.createElement(c);for(var g in d)f[g]=d[g];return b.appendChild(f),null}function _b(a,b,c){return window.open(a,b,c),!1}function ac(){var a={},b=parent.SN.Browser||{};b.type==b.MSIE?(a.x=parent.window.screenTop-100,a.y=parent.window.screenLeft):b.type==b.FF?(a.x=parent.window.screenX,a.y=parent.window.screenY):b.type==b.CHROME&&(a.x=parent.window.screenX,a.y=parent.window.screenY);var c={};b.type==b.MSIE?(c.x=8,c.y=125):b.type==b.FF?(c.x=parent.window.outerWidth-parent.window.innerWidth,c.y=parent.window.outerHeight-parent.window.innerHeight):b.type==b.CHROME&&(c.x=parent.window.outerWidth-parent.window.innerWidth,c.y=parent.window.outerHeight-parent.window.innerHeight);var d={};d.distanceFromTopBar=70,d.distanceFromRightBoundary=150,d.width=285;var e={};e.y=d.distanceFromTopBar,b.type==b.MSIE?e.x=parent.document.documentElement.clientWidth+8-d.distanceFromRightBoundary-d.width:b.type==b.FF?e.x=parent.window.outerWidth-d.distanceFromRightBoundary-d.width:b.type==b.CHROME&&(e.x=parent.window.outerWidth-d.distanceFromRightBoundary-d.width);var f={x:a.x+c.x+e.x,y:a.y+c.y+e.y};return f}function bc(a){return a.indexOf("http://")!=-1&&(a=a.replace("http://","https://")),a}function cc(a){r=a}function dc(){return r}function ec(){var a=parent.window.name;if(!$undefinedOrNull(a)&&!$isEmpty(a))return a}function fc(a){parent.window.name=a}function gc(b,c){if(o>k)return;var d=!1;kc(b,c,d,a.LOGLEVEL_INFO)}function hc(b,c){!(o>j);var d=!1;kc(b,c,d,a.LOGLEVEL_WARN)}function ic(b,c){if(o>l)return;var d=!1;kc(b,c,d,a.LOGLEVEL_DEBUG)}function jc(b,c){if(o>i)return;var d=!1,e="";if(typeof c!=a.UNDEFINED_STR){var f=JSON.stringify(c),g=f.length>750?750:f.length;e=encodeURIComponent(f.substr(0,g))}var h={};kc("msg: "+b+" Error: "+e,h,d,a.LOGLEVEL_ERROR)}function kc(b,c,d,e){if(!ub(N)&&N=="false")return;if(ub(N)){window.localStorage?N=window.localStorage.getItem(a.CUSTOM_TRACKING_ENABLED):N=window[a.CUSTOM_TRACKING_ENABLED];if(ub(N))N=="true";else if(N=="false")return}try{var f="";if(typeof c=="undefined"||c==null)c={};try{for(var g in c){var h=c[g],i=JSON.stringify(h);$undefinedOrNull(i)||(i.indexOf("http://")!=-1||i.indexOf("https://")!=-1)&&i.length>500&&(h=i.substr(0,500))}var j;typeof SN.SessionManager!=a.UNDEFINED_STR&&SN.SessionManager!=null&&(j=SN.SessionManager.getGlobalSession()),typeof j!=a.UNDEFINED_STR&&j!=null&&(f=j.getVisitorId());if(typeof f=="undefined"||f==null)f=""}catch(k){fb("Error in processing variables map",k)}var l=encodeURIComponent(JSON.stringify(c));if(!$undefinedOrNull(d)&&d==1){var m={};m.vid=f,m.bsid=c.bsid,m.ed=c,m.si="CUSTOM_TRACK",document.fire("SN:CUSTOM_TRACK_EVENT",m)}typeof SN.loadTrackingScript!="undefined"?SN.loadTrackingScript(b,f,l,x,q,e):typeof parent.SN.loadTrackingScript!="undefined"&&parent.SN.loadTrackingScript(b,f,l,x,q,e)}catch(k){fb("error in making custom tracking call!!",k)}}function lc(){return z.indexOf(A)!=-1?!0:!1}function mc(a){o=a}function nc(a,b){if($undefinedOrNull(a))return;for(var c in a)$undefinedOrNull(a[c])||(b[c]=a[c])}function oc(){return Math.random().toString().substring(2,18)+"-"+(new Date).getTime()}function pc(){return w}function qc(a){w=a}function rc(a){return v[a]}function sc(a,b){v[a]=b*1e3}function tc(){var a=location.href;return a.indexOf(D)!=-1?a:a.indexOf(B)!=-1?a.replace(B,D):F}function uc(){var a=location.href;return a.indexOf(C)!=-1?a:a.indexOf(B)!=-1?a.replace(B,C):E}function vc(a){var b=document.getElementById(a);if(b){var c=document.getElementsByTagName("head").item(0);setTimeout(function(){try{c.removeChild(b)}catch(a){SN.Utils.error("Could not remove tracking.js - ",a)}},2e3)}}function wc(){return SN.StoreManager.getValueFromStore(a.SN_VI_STORE_NAME,a.CONST_INVITATION_OFERED_TIME_STAMP)}function xc(b){var c=$();c!=null&&SN.StoreManager.setValueInStore(a.SN_VI_STORE_NAME,a.CONST_INVITATION_OFERED_TIME_STAMP,b+c),SN.StoreManager.setItValueInServer()}function yc(){return K}function zc(a){K=a}function Ac(){return T}function Bc(a){T=a}function Cc(){return U}function Dc(a){U=a}function Ec(){var b=SN.StoreManager.getValueFromStore(a.SN_VI_STORE_NAME,a.ACTIVE_SESSION_START_TIME);if($undefinedOrNull(b))return 0;try{var c=(new Date).getTime()-parseInt(b);return c<0?0:Math.round(c/1e3)}catch(d){return fb("Error in processing time on site",d),0}}function Fc(a){L=a}function Gc(){return L}function Hc(){var b=null;parent.SN.Conf.dataStore=="server"?b=$getTotalVisitCount():b=SN.StoreManager.getValueFromStore(a.SN_VI_STORE_NAME,a.PAGE_LOAD_COUNTER);if($undefinedOrNull(b))return 0;try{b=parseInt(b);var c=Ec();return Math.round(c/b)}catch(d){return fb("Error in processing average time on site",d),0}}function Ic(a){M=a}function Jc(){return M}function Kc(a){var b={};for(var c=a.length-1;c>=0;c--)b[a[c]]?a.splice(c,1):b[a[c]]=!0;return a}function Lc(a){O=a}function Mc(){return O}function Nc(){return S}function Oc(a){S=a}function Pc(){if(parent.SN.Conf.fpidInServer==1){var a=parent.SN.Conf.fpidFeatureActiveBrowsers;for(var b=0;b<a.length;b++){if(parent.SN.UserAgentParser.getBrowserDetails().indexOf(a[b])!=-1){Bc(!0);break}Bc(!1)}}}var a=SN.Constants,b="ps",c=null,d=null,e=null,f=document.getElementsByTagName("head")[0],g=typeof console!=a.UNDEFINED_STR,h=1e3,i=400,j=300,k=200,l=100,m=h,n="INFO: ",o=i,p=null,q=null,r=null,s=null,t="d",u="v0.1",v={},w=5,x="cdn.247ilabs.com",y=!0,z=navigator.userAgent,A="MSIE",B="247SN",C="247XD",D="247Action",E="http://"+parent.SN.Conf.CONST_PSP_ROOT+"/psp247/247XD.html",F="http://"+parent.SN.Conf.CONST_PSP_ROOT+"/psp247/247Action.html",G=(new Date).getTime(),H,I,J,K=!1,L=!1,M="/pspxd.html",N=null,O=null,P=null,Q=null,R,S=null,T=!1,U=0;Event.observe(window,"load",function(){var b=parent.SN.Conf.CONST_PSP_STAGE;b==a.TEST_STAGE&&(m=k)});var bb=0;Pc();var Qc={setLogLevel:cb,getLogLevel:db,warn:eb,error:fb,debug:gb,info:hb,loadCss:ib,loadJs:jb,loadJsInline:kb,loadIFrame:lb,loadImg:mb,appendUrlParams:nb,getWidth:ob,getHeight:pb,readParam:qb,getContext:rb,getRootContext:sb,typeOf:tb,isUndefinedOrNull:ub,isEmpty:vb,createXDSender:wb,getActionPageURL:xb,postToIframe:yb,createHiddenIframe:zb,postToWindow:Ab,patternMatch:Bb,randomUUID:Cb,getRandom:Db,getPSPRoot:Ub,getPSPCDNRoot:Wb,getPSPCDNVersion:Ob,getPSPVersion:Mb,setPSPServerName:Fb,setPSPCDNServerName:Gb,getPSPServerName:Lb,getPSPWebContentUrl:Yb,convertToHttps:bc,setPSPVisitorPercentage:Pb,setClientKey:Qb,getClientKey:Rb,setProxyServer:Sb,getProxyServer:Tb,parameterize:Zb,appendHTMLTag:$b,openWin:_b,getWindowPosition:ac,getPSPServerUrl:dc,setPSPServerUrl:cc,getWindowName:ec,setWindowName:fc,copyParams:nc,getUniqueId:oc,getStoreLifetime:rc,setStoreLifetime:sc,setMaxUIEntries:qc,getMaxUIEntries:pc,setCustomTrackServer:Hb,getCustomTrackServer:Ib,setEventFireRequired:Jb,infoTrack:gc,debugTrack:ic,errorTrack:jc,warnTrack:hc,setCustomTrackingLevel:mc,getSecurePSPRoot:Vb,getEventFireRequired:Kb,isIE:lc,get247ActionUrl:tc,get247XDUrl:uc,removeElement:vc,setLastInvitationOfferedTimestamp:xc,getLastInvitationOfferedTimestamp:wc,setServerTimeStamp:V,getServerTimeStampAtBS:W,isCrossDomainSupported:yc,setCrossDomainSupported:zc,isSubDomain:Eb,setDomready:Fc,isDomready:Gc,getTimeOnSite:Ec,getAverageTimeOnPage:Hc,setPsdxdPath:Ic,getPsdxdPath:Jc,setAvailableStore:Lc,getAvailableStore:Mc,removeDuplicates:Kc,getTimeStampDiff:$,setClientTimeStamp:X,getClientTimeZoneOffsetInMilliSeconds:Z,getClientTimeStamp:Y,setGeoPrivateIp:Oc,getGeoPrivateIp:Nc,isVidBasedonfpid:Ac,setVidBasedonfpid:Bc,setFingerPrint:Dc,getFingerPrint:Cc,augmentKeyValuePair:ab};return Qc}(),typeof SN=="undefined"&&(SN={}),SN.Base64Encoder=function(){function b(b){var c="",e,f,g,h,i,j,k,l=0;b=d(b);while(l<b.length)e=b.charCodeAt(l++),f=b.charCodeAt(l++),g=b.charCodeAt(l++),h=e>>2,i=(e&3)<<4|f>>4,j=(f&15)<<2|g>>6,k=g&63,isNaN(f)?j=k=64:isNaN(g)&&(k=64),c=c+a.charAt(h)+a.charAt(i)+a.charAt(j)+a.charAt(k);return c}function c(b){var c="",d,f,g,h,i,j,k,l=0;b=b.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(l<b.length)h=a.indexOf(b.charAt(l++)),i=a.indexOf(b.charAt(l++)),j=a.indexOf(b.charAt(l++)),k=a.indexOf(b.charAt(l++)),d=h<<2|i>>4,f=(i&15)<<4|j>>2,g=(j&3)<<6|k,c+=String.fromCharCode(d),j!=64&&(c+=String.fromCharCode(f)),k!=64&&(c+=String.fromCharCode(g));return c=e(c),c}function d(a){a=a.replace(/\r\n/g,"\n");var b="";for(var c=0;c<a.length;c++){var d=a.charCodeAt(c);d<128?b+=String.fromCharCode(d):d>127&&d<2048?(b+=String.fromCharCode(d>>6|192),b+=String.fromCharCode(d&63|128)):(b+=String.fromCharCode(d>>12|224),b+=String.fromCharCode(d>>6&63|128),b+=String.fromCharCode(d&63|128))}return b}function e(a){var b="",c=0,d=0,e=0,f=0;while(c<a.length)d=a.charCodeAt(c),d<128?(b+=String.fromCharCode(d),c++):d>191&&d<224?(e=a.charCodeAt(c+1),b+=String.fromCharCode((d&31)<<6|e&63),c+=2):(e=a.charCodeAt(c+1),f=a.charCodeAt(c+2),b+=String.fromCharCode((d&15)<<12|(e&63)<<6|f&63),c+=3);return b}var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",f={encode:b,decode:c};return f}(),SN.WebPageFilter=function(){function i(a){d=a}function j(a){e=a}function k(a){f=a}function l(a){g=a}function m(a){h=a}function n(a){switch(Number(d)){case c.BOTH:return p(a)?!1:o(a)?!0:!1;case c.EXCLUSION:return!p(a);case c.INCLUSION:return o(a);case c.NONE:return!0}return!1}function o(a){return b.encode(a)in e||q(a)?!0:!1}function p(a){return b.encode(a)in f||r(a)?!0:!1}function q(c){for(var d=0;d<g.length;d++){var e=new RegExp(b.decode(g[d]),a);if(e.test(c))return!0}return!1}function r(c){for(var d=0;d<h.length;d++){var e=new RegExp(b.decode(h[d]),a);if(e.test(c))return!0}return!1}var a="i",b=SN.Base64Encoder,c={INCLUSION:0,EXCLUSION:1,BOTH:2,NONE:3},d=null,e=null,f=null,g=null,h=null,s={shouldServeURL:n,filterTypeEnum:c,setFilterType:i,setInfilters:j,setOutfilters:k,setInfilterRegexList:l,setOutfilterRegexList:m};return s}(),typeof SN=="undefined"&&(SN={}),SN.ConfigurationManager=function(){function getRuntimeFSMVarValue(a){return runtimeFSMVariables[a]}function setRuntimeFSMVarValue(a,b){runtimeFSMVariables[a]=b}function isActionPage(){var a=getActionPageURL(),b=utils.getActionPageURL(a);return utils.getRootContext()+parent.location.pathname==b}function getActionContext(){return SN.ChildWindowController.getContext()}function setBootstrapParams(a){bootstrapParams=a}function getBootstrapParams(){return bootstrapParams}function saveInitConfiguration(a){initConfig=a,initPageId(initConfig[INIT_JS_PAGE_ID]),initTrackId(initConfig[INIT_JS_TRACK_ID]),pspKey=initConfig[INIT_JS_PSP_KEY],pageConfigs=initConfig[INIT_JS_PAGE_CONFIGS],widgetConfigs=initConfig[INIT_JS_WIDGET_CONFIGS],sccAppConfigs=initConfig[INIT_JS_SCC_APP_CONFIGS],sccModuleConfigs=initConfig[INIT_JS_SCC_MODULE_CONFIGS],wowpxAppConfigs=initConfig[INIT_JS_WOWPX_APP_CONFIGS],initializeMappedRuleVariables(initConfig[INIT_JS_MAPPED_RULE_VARIABLES])}function saveBootstrapConfiguration(a){bootstrapConfig=a.bsdata;if(parent.SN.Conf.dataStore=="server"||utils.isVidBasedonfpid()==1)serverData=a.serverData;if($undefinedOrNull(bootstrapConfig)){utils.warn("bootstrap configuration is undefined");return}clientTs=(new Date).getTime(),visitorId=bootstrapConfig[BOOTSTRAP_JS_VISITOR_ID],visitorGroup=bootstrapConfig[BOOTSTRAP_JS_VISITOR_GROUP],serverTimeStamp=bootstrapConfig[BOOTSTRAP_JS_SERVER_TIME_STAMP],SN.Utils.setServerTimeStamp(serverTimeStamp),clientTimeZoneOffset=bootstrapConfig[BOOTSTRAP_JS_CLIENT_TIMEZONE_OFFSET],SN.Utils.setClientTimeStamp(clientTimeZoneOffset),targetPopulationId=bootstrapConfig[BOOTSTRAP_JS_TARGET_POPULATION_ID],tpRandomNumber=bootstrapConfig[SN_CONSTANTS.TP_RANDOM_NUMBER],vgRandomNumber=bootstrapConfig[SN_CONSTANTS.VG_RANDOM_NUMBER],asLifeTime=bootstrapConfig[SN_CONSTANTS.ACTIVE_SESSION_LIFE_TIME],rnLifeTime=bootstrapConfig[SN_CONSTANTS.VID_LIFETIME],samplingStorage=bootstrapConfig[SN_CONSTANTS.SAMPLING_STORAGE],targetId=bootstrapConfig[BOOTSTRAP_JS_TARGET_ID],repeatVisitorLifetime=bootstrapConfig[SN_CONSTANTS.REPEAT_VISITOR_LIFETIME],utils.setStoreLifetime(SN_CONSTANTS.SN_RN_STORE_NAME,bootstrapConfig[SN_CONSTANTS.VID_LIFETIME]),utils.setStoreLifetime(SN_CONSTANTS.SN_AS_STORE_NAME,bootstrapConfig[SN_CONSTANTS.ACTIVE_SESSION_LIFE_TIME]),utils.setStoreLifetime(SN_CONSTANTS.SN_VI_STORE_NAME,bootstrapConfig[SN_CONSTANTS.VID_LIFETIME]),utils.setStoreLifetime(SN_CONSTANTS.SN_WEBTRACKER_STORE_NAME,bootstrapConfig[SN_CONSTANTS.WT_STORE_LIFETIME]),utils.setStoreLifetime(SN_CONSTANTS.SN_VARIABLE_STORE_NAME,bootstrapConfig[SN_CONSTANTS.VARIABLE_STORE_LIFETIME]),utils.setMaxUIEntries(bootstrapConfig[SN_CONSTANTS.MAX_UI_STORE_ENTRIES]),utils.setStoreLifetime(SN_CONSTANTS.SN_EXIT_HISTORY_STORE_NAME,bootstrapConfig[SN_CONSTANTS.EXIT_HISTORY_LIFETIME]),startRE=bootstrapConfig[BOOTSTRAP_JS_START_RE];var b=bootstrapConfig[BOOTSTRAP_JS_GEO];$undefinedOrNull(b)||(geo=b,$undefinedOrNull(geo.isp)||$undefinedOrNull(geo.isp.geoPrivateIp)||utils.setGeoPrivateIp(geo.isp.geoPrivateIp)),pollingInterval=bootstrapConfig[BOOTSTRAP_JS_POLLING_INTERVAL],$undefinedOrNull(pollingInterval)&&(pollingInterval=1e3),ruleConfigs=bootstrapConfig[BOOTSTRAP_JS_RULE_CONFIGS],ruleGroupId=bootstrapConfig[BOOTSTRAP_JS_RULE_GROUP_ID],eventOnLoad=bootstrapConfig[BOOTSTRAP_JS_EVENT_ON_LOAD],fsmUpdateVariables=bootstrapConfig[BOOTSTRAP_JS_UPDATES]||[],fsmDeleteVariables=bootstrapConfig[BOOTSTRAP_JS_DELETES]||[],trackableEventMetadatas=bootstrapConfig[BOOTSRAP_JS_TRACKABLE_EVENT_CONFIGS],trackableEvents=bootstrapConfig[BOOTSTAP_JS_TRACKABLE_EVENTS],bootstrapCachingOn=bootstrapConfig[BOOTSTRAP_JS_CACHING_ON]}function saveGetRulesConfiguration(a){var b=a.ruledata;rules=b[GET_RULES_RULES],initializeGeneratedRuleVariables(b[GET_GENERATED_RULES_VARIABLES])}function getFSMUpdateVariables(){return fsmUpdateVariables}function getFSMDeleteVariables(){return fsmDeleteVariables}function getRules(){return rules}function getRuleCustomData(a){return $undefinedOrNull(rules)||$undefinedOrNull(rules[a])?null:rules[a].customdata}function getGeneratedRuleVariables(){return generatedRuleVariables}function getGeneratedRuleVariableValue(a){var b=null;return $undefinedOrNull(generatedRuleVariables[a])||(b=generatedRuleVariables[a].value),b}function updateGeneratedRuleVariable(a,b){if($undefinedOrNull(generatedRuleVariables)||$undefinedOrNull(generatedRuleVariables[a]))return;generatedRuleVariables[a].value=b}function updateMappedRuleVariables(a,b){var c=a.mappedvariables;if($undefinedOrNull(c)||$undefinedOrNull(b))return;for(var d=0;d<c.length;d++){var e=c[d],f=e.name;if(!$undefinedOrNull(f)){var g=mappedRuleVariables[f];$undefinedOrNull(g)||(a.rollingcount>0?e.mappingindex<b.length&&(g.value=b[e.mappingindex]):g.value=b)}}}function getHandlerConfig(a){var b=ruleConfigs[a];return b==null||b.handlerConfig==null?{}:b.handlerConfig}function getEventhandlerConfig(a){if(a==null)return{};var b=initConfig[INIT_JS_PLATFORM_CONFIGS],c=initConfig[INIT_JS_PRECHAT_CONFIGS],d={};a.platformConfigName!=null&&(d.platformConfig=b[a.platformConfigName]);var e=a.preChatConfigName;return e!=null&&c!=null&&(d.preChatConfig=c[e]),d.handlerType=a.handlerType,d}function getWowpxAppConfigs(){return wowpxAppConfigs}function getTrackableRuleVariables(a,b){var c=getEventMetadata(a);if(!$undefinedOrNull(b)){var d=overrideByRuleEventMetadata(b,a);$undefinedOrNull(d)||(c=d)}return $undefinedOrNull(c)&&(c={ruleVarsToTrack:"r"}),getTrackingRuleVariablesMap(c.ruleVarsToTrack,b)}function getTrackableFSMVariables(a,b){var c=getEventMetadata(a);if(!$undefinedOrNull(b)){var d=overrideByRuleEventMetadata(b,a);$undefinedOrNull(d)||(c=d)}if($undefinedOrNull(c)||$undefinedOrNull(c.variables))return null;var e=c.variables,f={},g=e.length,h=SN.SessionManager;for(var i=0;i<g;i++){var j=fsmUpdateVariables.length;for(var k=0;k<j;k++){var l=fsmUpdateVariables[k];if(e[i].key==l.key){var m=h.doGetFSMVariable(l);if(!$undefinedOrNull(m))if(typeof m=="object"&&m.length==undefined)try{var n={};for(var o in m)m[o]==undefined||m[o]==null||m[o]==="undefined"||m[o]==="null"||m[o]===""?delete m[o]:n[o]=encodeURIComponent(m[o]);f[l.key]=n}catch(p){utils.errorTrack("ErrorInConstructingMapOfMapInFSMVariable ",p)}else l.rollingcount>0&&typeof m!="string"?f[l.key]=encodeURIComponent(JSON.stringify(m)):f[l.key]=encodeURIComponent(m)}}}return f}function overrideByRuleEventMetadata(a,b){var c=getRuleConfig(a);if($undefinedOrNull(c))return null;var d=c[RULE_TRACKABLE_EVENTS];if($undefinedOrNull(d))return null;var e=d[b];if($undefinedOrNull(e))return null;var f=e.config,g=c[RULE_TRACKABLE_EVENT_CONFIGS];return $undefinedOrNull(g)?null:g[f]}function getEventMetadata(a){if($undefinedOrNull(trackableEvents)||$undefinedOrNull(trackableEventMetadatas))return null;var b=trackableEvents[a];return $undefinedOrNull(b)?null:trackableEventMetadatas[b.config]}function getAllRuleVariablesForCurrentPage(){var a={};if(!$undefinedOrNull(generatedRuleVariables))for(var b in generatedRuleVariables){var c=generatedRuleVariables[b];$undefinedOrNull(c.value)||(a[b]=c.value)}if(!$undefinedOrNull(mappedRuleVariables))for(var b in mappedRuleVariables){var d=mappedRuleVariables[b].value;$undefinedOrNull(d)||(a[b]=d)}return a}function getRuleVariablesForRuleId(a){var b={};if($undefinedOrNull(rules))return b;var c=rules[a].genvariables;if(!$undefinedOrNull(c)){var d=c.length;for(var e=0;e<d;e++){var f=c[e],g=generatedRuleVariables[f];b[f]=g.value}}var h=rules[a].mappedvariables;if(!$undefinedOrNull(h)){var d=h.length;for(var e=0;e<d;e++){var f=h[e],i=mappedRuleVariables[f].value;$undefinedOrNull(i)||(b[f]=i)}}return b}function getTrackingRuleVariablesMap(a,b){var c={},d={};if($undefinedOrNull(a))return null;if(a==NO_RULE_VARS_TO_TRACK)return null;if(a==ONLY_THIS_RULES_VARS_TO_TRACK){if($undefinedOrNull(b))return null;c=getRuleVariablesForRuleId(b)}else a==ALL_RULE_VARS_TO_TRACK&&(c=getAllRuleVariablesForCurrentPage());for(var e in c)d[e]=encodeURIComponent(c[e]);return d}function getMappedRuleVariables(){return mappedRuleVariables}function getMappedRuleVariableValue(a){var b=null;return $undefinedOrNull(mappedRuleVariables[a])||(b=mappedRuleVariables[a].value),b}function getPollingInterval(){return pollingInterval}function getRuleConfig(a){return $undefinedOrNull(ruleConfigs)?null:ruleConfigs[a]}function getWidgetConfig(a){if($undefinedOrNull(widgetConfigs))return null;var b=getRuleConfig(a);if($undefinedOrNull(b))return null;var c=b[INIT_JS_WIDGET_CONFIG_NAME];return $undefinedOrNull(c)?null:widgetConfigs[c]}function getWowpxWidgetConfigs(a){return $undefinedOrNull(a)?null:widgetConfigs[a]}function getRuleGroupId(){return ruleGroupId}function getOnLoadEvent(){return eventOnLoad}function initPageId(pageIdExpression){try{isActionPage()||$undefinedOrNull(initConfig[INIT_JS_PAGE_ID])?pageId=SN.ChildWindowController.getContext():pageId=eval(pageIdExpression)}catch(err){utils.error("Failed to evaluate pageid expression: "+pageIdExpression,err),pageId=undefined}}function initTrackId(trackIdExpression){try{isActionPage()?trackId=SN.ChildWindowController.getContext():trackId=eval(trackIdExpression)}catch(err){utils.error("Failed to evaluate trackingid expression: "+trackIdExpression,err),trackId=undefined}}function getTrackId(){return trackId}function getVisitorGroup(){return visitorGroup}function getServerTimeStamp(){return serverTimeStamp}function getClientTimeZoneOffset(){return clientTimeZoneOffset}function getTargetId(){return targetId}function getTargetPopulationId(){return targetPopulationId}function getTPRandomNumber(){return tpRandomNumber}function getVGRandomNumber(){return vgRandomNumber}function getActiveSessionLifeTime(){return asLifeTime}function getRandomNoLifeTime(){return rnLifeTime}function getRepeatVisitorLifetime(){return repeatVisitorLifetime*1e3}function getSamplingStorage(){return"as"}function getVisitorId(){return visitorId}function shouldStartRE(){return startRE}function getFSMState(){return bootstrapConfig[BOOTSTRAP_JS_STATE]}function getPageId(){return pageId}function getPSPKey(){return pspKey}function setPSPKey(a){pspKey=a}function getPSPVersion(){return utils.getPSPVersion()}function setPSPVersion(a){pspVersion=a}function getPSPRoot(){return utils.getPSPRoot()}function getPSPWebContentUrl(){return utils.getPSPWebContentUrl()}function getPSPStaticRoot(){return pspStaticRoot}function setPSPStaticRoot(a){pspStaticRoot=a}function getPageConfig(a){return $undefinedOrNull(pageConfigs)?null:pageConfigs[a]}function getHotSpots(a){var b=getPageConfig(a);return $undefinedOrNull(b)?null:b.hotspots}function getGeoInfo(){return geo||{}}function getParamsToBePassedToChat(a){return SN.ParamsToChat||[]}function setActionPageURL(a){actionPageURL=a}function getActionPageURL(){return actionPageURL}function initializeGeneratedRuleVariables(a){var b=a.length;for(var c=0;c<b;c++){var d=a[c];generatedRuleVariables[d.key]=d}}function initializeMappedRuleVariables(a){var b=a.length;for(var c=0;c<b;c++)mappedRuleVariables[a[c].key]=a[c]}function getConversionTrackingIdIS(){return initConfig.conversionTrackingIdIS}function getAllVisitorTags(a){a.vg=getVisitorGroup(),a.vi=getVisitorId(),a.ti=getTargetId(),a.tp=getTargetPopulationId()}function isBootstrapCachingOn(){return bootstrapCachingOn}function isXDChannelReady(){return xdChannelReady}function isMigrationDone(){return migrationDone}function setMigrationFlag(a){migrationDone=a}function setXDChannelReady(a){xdChannelReady=a}function getVisitedUrlLimit(){return VISITED_URL_LIMIT}function getUrlsLimit(){return VISITED_URLS_COUNT}var INIT_JS_PSP_KEY="pspkey",INIT_JS_PAGE_ID="pageid",INIT_JS_TRACK_ID="trackid",INIT_JS_PAGE_CONFIGS="pageconfigs",INIT_JS_SCC_APP_CONFIGS="sccAppConfigs",INIT_JS_WOWPX_APP_CONFIGS="wowpxAppConfigs",INIT_JS_SCC_MODULE_CONFIGS="sccModuleConfigs",INIT_JS_WIDGET_CONFIGS="widgetconfigs",INIT_JS_PLATFORM_CONFIGS="chatPlatformConfigs",INIT_JS_PRECHAT_CONFIGS="preChatConfigs",INIT_JS_WIDGET_CONFIG_NAME="widgetConfigName",INIT_JS_MAPPED_RULE_VARIABLES="mappedrulevariables",BOOTSTRAP_JS_VISITOR_ID="vi",BOOTSTRAP_JS_START_RE="startRE",BOOTSTRAP_JS_VISITOR_GROUP="vg",BOOTSTRAP_JS_SERVER_TIME_STAMP="serverTimeStamp",BOOTSTRAP_JS_CLIENT_TIMEZONE_OFFSET="clientTimeZoneOffset",BOOTSTRAP_JS_TARGET_ID="ti",BOOTSTRAP_JS_TARGET_POPULATION_ID="tp",BOOTSTRAP_JS_POLLING_INTERVAL="poll",BOOTSTRAP_JS_RULE_CONFIGS="ruleconfigs",BOOTSTRAP_JS_STATE="newState",BOOTSTRAP_JS_UPDATES="updates",BOOTSTRAP_JS_DELETES="deletes",BOOTSTRAP_JS_RULE_GROUP_ID="rgid",BOOTSTRAP_JS_GEO="geo",BOOTSTRAP_JS_EVENT_ON_LOAD="onload",BOOTSRAP_JS_TRACKABLE_EVENT_CONFIGS="trackableEvtCfgs",BOOTSTAP_JS_TRACKABLE_EVENTS="trackableEventIds",BOOTSTRAP_JS_CACHING_ON="bootstrapCachingOn",GET_RULES_RULES="rules",GET_GENERATED_RULES_VARIABLES="generatedvariables",RULE_TRACKABLE_EVENT_CONFIGS="trackableEvtCfgs",RULE_TRACKABLE_EVENTS="trackableEventIds",NO_RULE_VARS_TO_TRACK="n",ONLY_THIS_RULES_VARS_TO_TRACK="r",ALL_RULE_VARS_TO_TRACK="a",VISITED_URL_LIMIT=60,VISITED_URLS_COUNT=5,initConfig={},bootstrapConfig={},pspStaticRoot=null,pspKey=null,pageId=null,trackId=null,rules={},generatedRuleVariables={},mappedRuleVariables={},pollingInterval=null,ruleConfigs=[],widgetConfigs={},sccAppConfigs={},wowpxAppConfigs={},sccModuleConfigs={},trackableEventMetadatas=[],trackableEvents=[],fsmUpdateVariables=null,fsmDeleteVariables=null,eventOnLoad=null,ruleGroupId=null,geo=null,clientTs=null,pageConfigs=null,actionPageURL=null,pspVersion=null,visitorId=null,startRE=null,visitorGroup=null,serverTimeStamp=null,clientTimeZoneOffset=null,targetPopulationId=null,tpRandomNumber=null,vgRandomNumber=null,asLifeTime=null,rnLifeTime=null,samplingStorage=null,targetId=null,bootstrapParams=null,runtimeFSMVariables={},repeatVisitorLifetime=null,bootstrapCachingOn=!1,xdChannelReady=!1,migrationDone=!1,utils=SN.Utils,SN_CONSTANTS=SN.Constants,me={getRuntimeFSMVarValue:getRuntimeFSMVarValue,setRuntimeFSMVarValue:setRuntimeFSMVarValue,isActionPage:isActionPage,getActionContext:getActionContext,saveInitConfiguration:saveInitConfiguration,saveBootstrapConfiguration:saveBootstrapConfiguration,saveGetRulesConfiguration:saveGetRulesConfiguration,getFSMUpdateVariables:getFSMUpdateVariables,getFSMDeleteVariables:getFSMDeleteVariables,getRules:getRules,getRuleCustomData:getRuleCustomData,getGeneratedRuleVariables:getGeneratedRuleVariables,getGeneratedRuleVariableValue:getGeneratedRuleVariableValue,updateGeneratedRuleVariable:updateGeneratedRuleVariable,updateMappedRuleVariables:updateMappedRuleVariables,getHandlerConfig:getHandlerConfig,getEventhandlerConfig:getEventhandlerConfig,getTrackableRuleVariables:getTrackableRuleVariables,getTrackableFSMVariables:getTrackableFSMVariables,getMappedRuleVariables:getMappedRuleVariables,getMappedRuleVariableValue:getMappedRuleVariableValue,getPollingInterval:getPollingInterval,getRuleConfig:getRuleConfig,getRuleGroupId:getRuleGroupId,getOnLoadEvent:getOnLoadEvent,getTrackId:getTrackId,getVisitorGroup:getVisitorGroup,getServerTimeStamp:getServerTimeStamp,getClientTimeZoneOffset:getClientTimeZoneOffset,getTargetId:getTargetId,getTargetPopulationId:getTargetPopulationId,getTPRandomNumber:getTPRandomNumber,getVGRandomNumber:getVGRandomNumber,getActiveSessionLifeTime:getActiveSessionLifeTime,getRandomNoLifeTime:getRandomNoLifeTime,getRepeatVisitorLifetime:getRepeatVisitorLifetime,getSamplingStorage:getSamplingStorage,getVisitorId:getVisitorId,getAllVisitorTags:getAllVisitorTags,shouldStartRE:shouldStartRE,getFSMState:getFSMState,getPageId:getPageId,getPSPKey:getPSPKey,setPSPKey:setPSPKey,getPSPVersion:getPSPVersion,setPSPVersion:setPSPVersion,getPSPRoot:getPSPRoot,setPSPStaticRoot:setPSPStaticRoot,getPSPStaticRoot:getPSPStaticRoot,getPSPWebContentUrl:getPSPWebContentUrl,getHotSpots:getHotSpots,getGeoInfo:getGeoInfo,setActionPageURL:setActionPageURL,getActionPageURL:getActionPageURL,getConversionTrackingIdIS:getConversionTrackingIdIS,getWowpxAppConfigs:getWowpxAppConfigs,getWowpxWidgetConfigs:getWowpxWidgetConfigs,getBootstrapParams:getBootstrapParams,setBootstrapParams:setBootstrapParams,isBootstrapCachingOn:isBootstrapCachingOn,isXDChannelReady:isXDChannelReady,setXDChannelReady:setXDChannelReady,isMigrationDone:isMigrationDone,setMigrationFlag:setMigrationFlag,getVisitedUrlLimit:getVisitedUrlLimit,getUrlsLimit:getUrlsLimit};return me}(),typeof SN=="undefined"&&(SN={}),SN.XDFrameMessagingUtils=function(){function f(a,c,f){try{if(!c)return;a=typeof a=="string"?a:encodeURIComponent(JSON.stringify(a).split(" ").join("")),f=f||parent,e&&f[b](a,c.replace(/([^:]+:\/\/[^\/]+).*/,"$1"))}catch(g){d.error("errorWhileMakingPostMessage call to XD Iframe with message:"+a,g)}}function g(b,f,g){try{e&&(a[c]?a.addEventListener("message",b,!1):a.attachEvent("onmessage",b))}catch(h){d.error("errorWhilereceivingMessage from XD Iframe:"+h)}}var a=this,b="postMessage",c="addEventListener",d=SN.Utils,e=a[b],h={postMessage:f,receiveMessage:g};return h}(),typeof SN=="undefined"&&(SN={}),SN.Store=function(){function i(){var a=e.length;for(var c=0;c<a;c++){var d=e[c],i=h[d];if(i.test()){f=i,g=d;break}}f==null?(b.errorTrack("No client side storage could be obtained on this browser, falling back to cookie storage",navigator.userAgent),b.setAvailableStore("cookie")):(f.init(),b.setAvailableStore(l()))}function j(){return Object.isUndefined(f)||f==null?!1:f.isReady()}function k(a){if(Object.isUndefined(a)||a==null)throw"Invalid store id";return new m(a)}function l(){return g}var a=SN.Constants,b=SN.Utils,c="SN",d=c+"_user_data",e=["localstorage","ie"],f=null,g=null,h={ie:{test:function(){return window.ActiveXObject?!0:!1},init:function(){var a=document.createElement("div");a.id=d+"-div",a.addBehavior("#default#userData"),document.body.appendChild(a),this.el=a,this.el.load(d)},key:function(a,b){return encodeURIComponent(a)+encodeURIComponent(b)},get:function(a,b){return $undefinedOrNull(b)?this.el.getAttribute(a):this.el.getAttribute(this.key(b,a))},set:function(a,b,c){if($undefinedOrNull(c))this.el.setAttribute(a,b);else{var e=this.key(c,a);this.el.setAttribute(e,b)}return this.el.save(d),b},remove:function(a,b){var c;if($undefinedOrNull)c=this.el.removeAttribute(a);else{var e=this.key(b,a);c=this.el.removeAttribute(e)}return this.el.save(d),c},clear:function(a){var b=encodeURIComponent(a),c=this.el,e=c.xmlDocument,f=e.firstChild.attributes,g=f.length;while(g>0){var h=f[--g],i=h.nodeName;i.indexOf(b)==0&&c.removeAttribute(i)}c.save(d)},isReady:function(){return typeof this.el!=a.UNDEFINED_STR&&this.el!=null}},localstorage:{test:function(){return window.localStorage?!0:!1},init:function(){this.store=window.localStorage},key:function(a,b){return $undefinedOrNull(b)?encodeURIComponent(a):encodeURIComponent(b)+encodeURIComponent(a)},get:function(a,b){return $undefinedOrNull(b)?this.store.getItem(a):this.store.getItem(this.key(b,a))},set:function(a,b,c){return $undefinedOrNull(c)?this.store.setItem(a,b):this.store.setItem(this.key(c,a),b)},remove:function(a,b){return $undefinedOrNull(b)?this.store.removeItem(a):this.store.removeItem(this.key(b,a))},clear:function(a){var b=encodeURIComponent(a);for(var c=0;c<localStorage.length;c++){var d=localStorage.key(c);d.indexOf(b)==0&&(localStorage.removeItem(d),c--)}},isReady:function(){return this.store!=null}}},m=function(a){var b=a;this.get=function(a){return f.get(a)},this.set=function(a,b){return f.set(a,b)},this.remove=function(a){return f.remove(a)},this.clear=function(){f.clear(b)}},n={isReady:j,getStore:k,getType:l};return i(),n}(),$undefined(SN)&&(SN={}),SN.EventManager=function(){function e(d,e){b.observe(a.EVENT_PREFIX+d,function(b){b.memo.st=c.getTimeStampDiff()+(new Date).getTime();try{e(b),b.memo.status=a.ACTION_COMPLETED}catch(d){}})}function f(c,e){$undefinedOrNull(e)&&(e={}),$undefinedOrNull(e.data)&&(e.data={}),e[a.SEQUENCE_ID]=d++;var f=a.EVENT_PREFIX+c;b.fire(f,e)}function g(b,c){$undefinedOrNull(b)&&(b={});var d=b.ed;$undefinedOrNull(d)&&(d={exceptionMsg:"unknown exception"}),d.x=!0,$undefinedOrNull(c)||(d.exceptionMsg=c),b.ed=d;var e={eventId:a.INTERNAL_ERROR,data:b};f(a.EXCEPTION_EVENT,e)}var a=SN.Constants,b=document,c=SN.Utils,d=0,h={observe:e,fire:f,fireException:g};return h}(),typeof SN=="undefined"&&(SN={}),SN.CrossXDataHandler=function(){function l(){var c=b.getType();c==e.IE_STORAGE&&(a=!1)}function m(){c.info("Setting Reference protocol to "+document.location.protocol),g="https://"+SN.Utils.getPSPServerName(),c.setPSPServerUrl(g),i=c.getClientKey(),l(),a?(SN.XDFrameMessagingUtils.receiveMessage(o,g),p()):n()}function n(){f=!0,d.setXDChannelReady(f)}function o(a){var b=null,g=null,h=a.data.split("&");for(var i=0;i<h.length;i++)h[i].indexOf("cmd")==0&&(b=h[i].replace("cmd=","")),h[i].indexOf("params")==0&&(g=h[i].replace("params=",""));if(b==e.IFRAME_LOADED){var a=JSON.parse(g);if(a.loaded==e.REFERENCE_LOADED_ITEM){c.infoTrack("onXDIframeLoaded"),f=!0,d.setXDChannelReady(f);if(c.isCrossDomainSupported()){var j=a.data;SN.StoreManager.setCrossDomainData(j),d.setMigrationFlag(!0)}parent.SN.Conf.dataStore!="server",c.info("XD Iframe is ready for communication"),window.xdready=!0}}else if(b==e.GET_LOCAL_STORAGE_ITEM){var a=JSON.parse(g),l=a.uniqueId,m=a.value,n=k[l];if($undefinedOrNull(n))return;try{delete k[l],n(a.key,m)}catch(o){c.error("failed to make call back for key :"+a.key)}}else if(b==e.SET_LOCAL_STORAGE_ITEM){var a=JSON.parse(g),l=a.uniqueId,n=k[l];if($undefinedOrNull(n))return;try{delete k[l],n(a.key)}catch(o){c.error("failed to make call back for key :"+a.key)}}else{if(b!=e.REMOVE_LOCAL_STORAGE_ITEM)return;var a=JSON.parse(g),l=a.uniqueId,n=k[l];if($undefinedOrNull(n))return;try{delete k[l],n(a.key)}catch(o){c.error("failed to make call back for key :"+a.key)}}}function p(){c.infoTrack("b4CreateXDIframe");var a=e.PARENT_DOMAIN+"="+location.protocol+"//"+location.hostname+"&clientkey="+i+"&version="+parent.SN.Conf.CONST_CDN_VERSION+"&pspv="+parent.SN.Conf.CONST_PSP_VERSION+"&n=1&caller=refloaded"+"&l="+c.getLogLevel()+"&s="+SN.Conf.dataStore+"&vf="+c.isVidBasedonfpid(),b=new Element("div");document.body.appendChild(b),Element.hide(b),h=new Element("iframe",{id:e.REFERENCE_IFRAME_ID,name:e.REFERENCE_IFRAME_NAME,frameborder:"0",width:"0px",height:"0px"});var d=g+c.getPsdxdPath()+"#";h.src=d+a;try{b.appendChild(h)}catch(j){c.error("issue in creating the iFrame"+j),f=!1}}function q(b){if(!a)return;var d={};d.cmd=e.SET_XD_DATA,d.params=b;var f=document.getElementById(e.REFERENCE_IFRAME_ID);SN.XDFrameMessagingUtils.postMessage(JSON.stringify(d),c.getPSPServerUrl(),f.contentWindow)}function r(b,d,f,g){if($undefinedOrNull(b)||$undefinedOrNull(d)||$undefinedOrNull(f)||isNaN(f))return;if(!a)return;var h=c.getUniqueId();k[h]=g;var i={};i.cmd=e.SET_LOCAL_STORAGE_ITEM;var j={};j.key=b,j.value=d,j.lifeTime=f,j.uniqueId=h,i.params=j;var l=document.getElementById(e.REFERENCE_IFRAME_ID);SN.XDFrameMessagingUtils.postMessage(JSON.stringify(i),c.getPSPServerUrl(),l.contentWindow)}function s(b,d){if(!a)return;var f=c.getUniqueId();k[f]=d;var g={};g.cmd=e.GET_LOCAL_STORAGE_ITEM;var h={};h.key=b,h.uniqueId=f,g.params=h;var i=document.getElementById(e.REFERENCE_IFRAME_ID);SN.XDFrameMessagingUtils.postMessage(JSON.stringify(g),c.getPSPServerUrl(),i.contentWindow)}function t(b,d){if(!a)return;var f=c.getUniqueId();k[f]=d;var g={};g.cmd=e.REMOVE_LOCAL_STORAGE_ITEM;var h={};h.key=b,h.uniqueId=f,g.params=h;var i=document.getElementById(e.REFERENCE_IFRAME_ID);SN.XDFrameMessagingUtils.postMessage(JSON.stringify(g),c.getPSPServerUrl(),i.contentWindow)}var a=!0,b=SN.Store,c=SN.Utils,d=SN.ConfigurationManager,e=SN.Constants,f=!1,g=null,h=null,i=null,j=SN.EventManager,k={};j.observe(e.CUSTOM_INITIALIZATION_COMPLETED,m);var u={sendXDData:q,setLocalStorageItem:r,getLocalStorageItem:s,removeLocalStorageItem:t};return u}(),typeof SN=="undefined"&&(SN={});var _tfsc=_tfsc||{};_tfsc.staging=["shopstaging.vodafone.com.au:30020","auth.rebrand.syd.ucms.vodafone.com.au","auth.dev.syd.ucms.vodafone.com.au","auth.test.syd.ucms.vodafone.com.au","staging-vha.cs14.force.com","localhost:7001","qa6.test.estore.aws.vodafone.com.au"],_tfsc.production=["www.vodafone.com.au","shop.vodafone.com.au","www.myvodafone.com.au","myaccount.myvodafone.com.au","vodafone.intelliresponse.com","support.vodafone.com.au","vha.secure.force.com"],_tfsc.STAGING_URL="d2j8jkom7xmn9n.cloudfront.net/psp/vha-v1-001/247px.js",_tfsc.PRODUCTION_URL="www.vodafone.com.au/psp/vha-v1-001/247px.js",_tfsc.CUSTOM_TRACK_URL="d34xv0c5kwdgb0.cloudfront.net/psp/vha-v1-001/cpxt.js",_tfsc.COOKIE_NAME="sn.pxpath",_tfsc.j=function(a){var b=a+"=",c=document.cookie.split(";");for(var d=0;d<c.length;d++){var e=c[d];while(e.charAt(0)==" ")e=e.substring(1,e.length);if(e.indexOf(b)==0)return e.substring(b.length,e.length)}return null},_tfsc.getPath=function(){var a=_tfsc.j(_tfsc.COOKIE_NAME);if(null!=a)return a;for(var b=0;b<_tfsc.staging.length;b++)if(location.host==_tfsc.staging[b])return _tfsc.STAGING_URL;for(var c=0;c<_tfsc.production.length;c++)if(location.host==_tfsc.production[c])return _tfsc.PRODUCTION_URL;var d=encodeURIComponent(window.location.href.substring(0,100));return _tfsc.CUSTOM_TRACK_URL+'?msg="DOMAIN_CONFIG_NOT_FOUND"&pageUrl='+d},window._tfsc=window._tfsc||parent._tfsc,window._tfsc?_tfsc.env=function(){return _tfsc.getPath()===_tfsc.STAGING_URL?"s":_tfsc.getPath()===_tfsc.PRODUCTION_URL?"p":"o"}():location.href.match(/[&\?]env=([pos])(&.*)?/)?window._tfsc={env:location.href.match(/[&\?]env=([pos])(&.*)?/)[1]}:window._tfsc={env:"p"},SN.Conf=function(){function a(a){return a}function b(){var a=window.location.href;return a.indexOf("www.vodafone.com.au")!=-1?"X":a.indexOf("shop.vodafone.com.au")!=-1?"Y":a.indexOf("shopstaging.vodafone.com.au")!=-1?"Z":"id"}function f(){var a=b();return e[a]}function k(){return h;var a}var c="vha.app.global.247-inc.net/psp/vha-v1-001/default/cpxt.js",d="vha.app.global.247-inc.net/psp/vha-v1-001/default/cpxt.js",e={X:["nemo-client-vha"],Y:["nemo-client-vha"],Z:["nemo-client-vha"],id:["nemo-client-vha","nemo-client-vha"]},g=_tfsc.getPath().match(/(.*?)\//)[1],h="vha.app.global.247-inc.net",i="",j="";return function(a){switch(a){case"p":j="vha-estore-HBT";break;case"s":j="vha-estore-HBT";break;case"o":j="vha-estore-HBT";break;default:j="vha-estore-HBT"}i="vha-account-default-queue-Acquisition"}(window._tfsc.env),{HYD_QUEUE:i,HBT_QUEUE:j,AQU_QUEUE:"vha-account-default-queue-Acquisition",CONST_PSP_KEY:"vha-v1-001",CUSTOM_TRACK_SERVER:h,CONST_PXFWK_ID:"pxfwk.gz.js",CONST_CDN_VERSION:"20180423112110",CONST_PSP_VERSION:"default",COOKIEPATH:["vodafone.com.au","myvodafone.com.au"],PSP_ROOT:h,PSP_VERSION:"default",CDN_PATH:g+"/psp/",INVALID_COOKIE_CHARACTERS:["&",">","<","#",";","javascript","\0","script","ATTACK","REPLACE","STYLE","%2F","ALERT","TRACE","X_IGNORE","X-NADA:","GET","","%3C",")","(","%3E","APPEND","SCRIPT","attack","replace","style","append","alert","trace","x_ignore","get","x-nada:","%3c","%3e","%2f","JAVASCRIPT","","","&lsquo;","","&rsquo;","&lt;","&gt;"],PXOE_VERSION:"7.0",TRACKING_VERSION:"1.5",getDecodedValue:a,IS_DS_REQUIRED:!0,getUrlId:b,CONST_PSP_ROOT:h,CONST_PSP_CDN_ROOT:g,CDN_DOMAIN:g+"/psp/",CONST_PSP_STAGE:"p",CONST_PSP_CLIENT_KEY:"vha-v1-001",pspxdPath:"/pspxd.html",CONST_PSP_VISITOR_PERCENTAGE:100,PROXY_SERVER:h+"/tps/tpsp.php?",pluginsToBeTracked:!1,mimeTypesToBeTracked:!1,browserGeoLocationFlag:!1,timeOutForBrowserGeoLocation:1e4,pollingTime:1e4,varmap:{Ipchatvar:"true"},trackingUrlFlag:!1,varMapFlag:!1,FSM:{currentPageUrl:"document.location.href",referrer:"parent.document.referrer",title:"parent.document.title"},ED:{},TEST_PERCENTAGE:0,BYPASS_PERCENTAGE:0,CUSTOM_TRACKING_PERCENTAGE:100,SPACER_IMAGEPATH:h+"/",japCharMap:{"0xff1f":"?","0xff0f":"/"},MAX_COOKIE_SIZE:2e3,MAX_COOKIE_COUNT_THRESHOLD:50,MIN_COOKIE_COUNT_THRESHOLD:45,DISABLED_COOKIES:[],dataStore:"cookie",viStore:"cookie",viStoreName:"sn.vi",isViStoreSession:!1,shouldMaintainVi:!0,customDataSizeInViStore:2,fpidInServer:!1,fpidFeatureActiveBrowsers:["s"],tnt:"nemo-client-vha",stnt:f,getCpxtDomain:k,ruleTypeMapping:null,SOCIAL_STORE_ID:"s51d520214c1b7",SOCIAL_BASE_URL:document.location.protocol+"//social.247-inc.com",ADP_BASE_URL:"http://ec2-54-242-63-0.compute-1.amazonaws.com/",ADP_APP_ID:"8ac12771453be3b901453ce22e840001",PEAK_HOUR_START:0,PEAK_HOUR_STOP:1600,OFFPEAK_BYPASS:0,working_hours:{monday_start:"9",monday_end:"18",tuesday_start:"9",tuesday_end:"18",wednesday_start:"9:20",wednesday_end:"18:30",thursday_start:"9",thursday_end:"20:30",friday_start:"9",friday_end:"18",saturday_start:"9",saturday_end:"18",sunday_start:"9",sunday_end:"18"},timezone:"+5:30",blackListedVersions_browsers:{browserLevel:[],Firefox:[],Android:[],Version:[],Chrome:[],CriOS:[],MSIE:[]},blackListedVersions_OS:{OSLevel:[],Windows:[],Android:[],Linux:[],MacOS:[],iOS:[]},blacklistedDeviceTypes:[]}}(),$undefined(SN)&&(SN={}),SN.CookieManager=function(){function h(c){x(b.SN_WEBTRACKER_STORE_NAME)&&v(b.SN_WEBTRACKER_STORE_NAME),x(b.SN_EXIT_HISTORY_STORE_NAME)&&v(b.SN_EXIT_HISTORY_STORE_NAME),c+=" Dropping cookies ",z()?(c+="sn.eh, sn.vc and sn.wt if existing",a.warnTrack(c)):parent.SN.Conf.DISABLED_COOKIES.length>0&&(c+=i(parent.SN.Conf.DISABLED_COOKIES)+" if existing",a.warnTrack(c))}function i(a){var b=a.length,c=new String;for(var d=0;d<b;d++)d>0&&(d<b-1?c+=", ":c+=" and "),c+=a[d];return c}function j(){var c={},d={},e=null,f=null;return d.cvalue=p(b.SN_VI_STORE_NAME),d.clifetime=a.getStoreLifetime(b.SN_VI_STORE_NAME),c[b.SN_VI_STORE_NAME]=d,parent.SN.Conf.viStore=="localstorage"&&(vi=g.getValueFromStore(b.SN_VI_STORE_NAME,b.VISITOR_ID),$undefinedOrNull(vi)&&(vi=r(b.SN_VI_STORE_NAME,b.VISITOR_ID)),$undefinedOrNull(vi)||(d.cvalue=d.cvalue+b.KEY_SEPERATOR+b.VISITOR_ID+b.KEY_VALUE_SEPERATOR+vi,c[b.SN_VI_STORE_NAME]=d)),d={},d.cvalue=p(b.SN_AS_STORE_NAME),d.clifetime=a.getStoreLifetime(b.SN_AS_STORE_NAME),c[b.SN_AS_STORE_NAME]=d,d={},x(b.SN_WEBTRACKER_STORE_NAME)?a.warn("inOnBootstrapUpdateCompleted : "+b.SN_WEBTRACKER_STORE_NAME+" cokie disabled "):(d.cvalue=p(b.SN_WEBTRACKER_STORE_NAME),d.clifetime=a.getStoreLifetime(b.SN_WEBTRACKER_STORE_NAME),c[b.SN_WEBTRACKER_STORE_NAME]=d,d={}),d.cvalue=p(b.SN_RN_STORE_NAME),d.clifetime=a.getStoreLifetime(b.SN_RN_STORE_NAME),c[b.SN_RN_STORE_NAME]=d,d={},c}function k(){if(x(b.SN_VARIABLE_STORE_NAME))return;var c={},d={},e=null,f=null;return d.cvalue=p(b.SN_VARIABLE_STORE_NAME),d.clifetime=a.getStoreLifetime(b.SN_VARIABLE_STORE_NAME),c[b.SN_VARIABLE_STORE_NAME]=d,$undefinedOrNull(d.cvalue)?null:c}function l(){var d=parent.SN.Conf.MAX_COOKIE_SIZE,e=(p(b.SN_AS_STORE_NAME)+p(b.SN_VI_STORE_NAME)+p(b.SN_WEBTRACKER_STORE_NAME)+p(b.SN_RN_STORE_NAME)+p(b.SN_EXIT_HISTORY_STORE_NAME)+p(b.SN_VARIABLE_STORE_NAME)).length;e>=d&&a.errorTrack("Cookie storage size greater than "+parent.SN.Conf.MAX_COOKIE_SIZE+" characters");if(!c){var f=document.cookie.split(";").length;!z()&&f>=parent.SN.Conf.MAX_COOKIE_COUNT_THRESHOLD?(c=!0,y(!0),h("Maximum cookie threshold reached")):z()&&f<=parent.SN.Conf.MIN_COOKIE_COUNT_THRESHOLD&&(y(!1),a.warnTrack("Minimum cookie threshold reached. Enabling creation of all cookies (except those in the disabled list)"))}}function m(c){for(var d in c){if(d==b.SN_EXIT_HISTORY_STORE_NAME||d==b.SN_WEBTRACKER_STORE_NAME||d==b.SN_VARIABLE_STORE_NAME)if(x(d)){a.warn("inSetCookies : "+d+" cokie disabled. So skipping cookie creation");continue}var e=c[d].cvalue;if(e==""||$undefinedOrNull(e)||e==undefined)continue;var f=c[d].clifetime,h={};$undefinedOrNull(f)||(h.time=parseInt(f));var i=A();if(i!=null&&i.length>0)for(var j=0;j<i.length;j++){var k="."+i[j];if(document.domain==i[j]||a.isSubDomain(document.domain,k))h.domain=k}if($undefinedOrNull(h.domain)&&i!=null&&i.length>0)for(var j=0;j<i.length;j++){var k="."+i[j];document.location.href.replace(/https?:\/\//,"").indexOf(i[j])==0&&(h.domain=k)}$undefinedOrNull(h.domain)&&(h.domain="."+document.domain),viDataMap={};if(d==b.SN_VI_STORE_NAME){viData=e.split(b.KEY_SEPERATOR);for(j=0;j<viData.length;j++)keyValue=viData[j].split(b.KEY_VALUE_SEPERATOR),keyName=keyValue[0],e=keyValue[1],keyName=="vi"&&parent.SN.Conf.viStore=="localstorage"?g.setValueInStore(b.SN_VI_STORE_NAME,keyName,e):viDataMap[keyName]=e;e=null;for(viDataKey in viDataMap)$undefinedOrNull(e)?e=viDataKey+b.KEY_VALUE_SEPERATOR+viDataMap[viDataKey]+b.KEY_SEPERATOR:e=e+viDataKey+b.KEY_VALUE_SEPERATOR+viDataMap[viDataKey]+b.KEY_SEPERATOR;e.length>1&&(e=e.substring(0,e.length-1)),o(d,e,h)}else o(d,e,h)}}function n(){h("Reading DROPPED_COOKIES from conf"),parent.SN.Conf.viStore=="localstorage"&&(g=new SN.LocalStorageWrapper)}function o(b,c,d,e){if(parent.SN.Conf.dataStore=="server"&&b!="sn.vi"&&$undefinedOrNull(e)){a.warnTrack("CreateCookieAPICalled",{cookieName:b,cookieValue:c});return}$undefinedOrNull(d)&&(d={});var f=[];c=w(c),f.push(a.augmentKeyValuePair(b,c));if(!$undefinedOrNull(d.time)){var g=new Date;g.setTime(g.getTime()+d.time),f.push(a.augmentKeyValuePair("expires",e?"Thu, 01 Jan 1970 00:00:01 GMT":g.toGMTString()))}$undefinedOrNull(d.path)&&(d.path="/"),f.push(a.augmentKeyValuePair("path",d.path));if($undefinedOrNull(d.domain)){var h=A();if(h!=null&&h.length>0)for(var i=0;i<h.length;i++){var j="."+h[i];if(document.domain==h[i]||a.isSubDomain(document.domain,j))d.domain=j}if($undefinedOrNull(d.domain)&&h!=null&&h.length>0)for(var i=0;i<h.length;i++){var j="."+h[i];document.location.href.replace(/https?:\/\//,"").indexOf(h[i])==0&&(d.domain=j)}$undefinedOrNull(d.domain)&&(d.domain="."+document.domain)}f.push(a.augmentKeyValuePair("domain",d.domain)),document.cookie=f.join("; ")}function p(a){var b=a+"=",c=document.cookie.split(";");for(var d=0;d<c.length;d++){var e=c[d];while(e.charAt(0)==" ")e=e.substring(1,e.length);if(e.indexOf(b)==0)return e.substring(b.length,e.length)}return null}function q(a){var b={};b.time=-864e5,b.path="/",eraseFlag=!0,o(a,"",b,eraseFlag)}function r(a,c){var d=unescape(p(a));if(c==null)return d;if(d==null)return null;var e=d.split(b.KEY_SEPERATOR),f=c+b.KEY_VALUE_SEPERATOR;for(var g=0;g<e.length;g++){var h=e[g];if(h.indexOf(f)==0){var i=h.substring(f.length,h.length);return i}}return null}function s(a,c,d){var e=p(a);if($undefinedOrNull(e)||e.indexOf(c)==-1)return;var f=e.split(b.KEY_SEPERATOR),g=0,h="";for(g=0;g<f.length;g++){var i;i=f[g].split(b.KEY_VALUE_SEPERATOR)[0],i!=c&&(h+=f[g],g!=f.length-1&&(h+=b.KEY_SEPERATOR))}h.charAt(h.length-1)==b.KEY_SEPERATOR&&(h=h.substring(0,h.length-1));var j={};$undefinedOrNull(d)||(j.time=d),o(a,h,j)}function t(c,d,e){var f="",g="",h=!1,i=!0,j=p(c);j==null&&(j="");var k=j.split(b.KEY_SEPERATOR),l=d+b.KEY_VALUE_SEPERATOR;for(var m=0;m<k.length;m++){var n=k[m];if(n=="")continue;n.indexOf(l)==0?h=!0:h?g=g+b.KEY_SEPERATOR+n:i?(f=n,i=!1):f=f+b.KEY_SEPERATOR+n}var q="";if(typeof e=="string"){var r=e.split(b.KEY_SEPERATOR).join("").split(b.KEY_VALUE_SEPERATOR).join("");r!=e&&SN.Utils.warnTrack("Cookie Key-Value Separtor found inside the value. Removed.",{oldValue:e}),e=r}e==null?q=f+g:f==""?q=l+e+g:q=f+b.KEY_SEPERATOR+l+e+g;var s={};if(c==parent.SN.Conf.viStoreName&&parent.SN.Conf.isViStoreSession==1)s.time=null;else{var t=a.getStoreLifetime(c);$undefinedOrNull(t)&&(t=b.DEFAULT_STORE_LIFETIME_MAP[c]),$undefinedOrNull(t)||(s.time=t)}o(c,q,s)}function u(a,b){if($undefinedOrNull(r(a,b)))return;t(a,b)}function v(a){return document.cookie.indexOf(a)>-1?(q(a),1):0}function w(b){if(typeof b!="string")return b;var c=b,e=d.length;for(var f=0;f<e;++f)c=c.split(d[f]).join("");return c!=b&&a.errorTrack("InvalidCharatersInCookie: was "+encodeURIComponent(b)+", changed to "+encodeURIComponent(c)+".",{}),c}function x(a){if(z())return!0;if($undefinedOrNull(parent.SN.Conf.DISABLED_COOKIES))return!1;if(undefined!=parent.SN.Conf.DISABLED_COOKIES.indexOf)return parent.SN.Conf.DISABLED_COOKIES.indexOf(a)>-1;for(var b=0;b<parent.SN.Conf.DISABLED_COOKIES.length;b++)if(parent.SN.Conf.DISABLED_COOKIES[b]==a)return!0;return!1}function y(a){e=a}function z(){return e}function A(){return SN.Conf.COOKIEPATH}function B(a,c){if(parent.SN.Conf.viStore!="localstorage"||a!=b.SN_VI_STORE_NAME||c!=b.VISITOR_ID&&c!=b.VI_BUCKET_CUSTOM_DATA_KEY&&c!=b.DATA_CLEAN_UP_DONE_FOR_FPID_KEY){if($undefinedOrNull(c))return p(a);var d=null;try{d=r(a,c),a==b.SN_VARIABLE_STORE_NAME&&(d=JSON.parse(d))}catch(e){return console&&console.log&&console.log("Error in getting value from store using cookieStore as dataStore : "+e),d}return d}return g.getValueFromStore(a,c,d)}function C(a,c,d){d=D(a,c,d),a==b.SN_VARIABLE_STORE_NAME&&typeof d!="string"&&(d=JSON.stringify(d));if(parent.SN.Conf.viStore!="localstorage"||a!=b.SN_VI_STORE_NAME||c!=b.VISITOR_ID&&c!=b.VI_BUCKET_CUSTOM_DATA_KEY&&c!=b.DATA_CLEAN_UP_DONE_FOR_FPID_KEY)return t(a,c,d),d;g.setValueInStore(a,c,d)}function D(c,d,e){if(x(c))return null;if(c==b.SN_VARIABLE_STORE_NAME&&e.length>f){a.infoTrack("TooLongFsmValue",{key:e});try{e=SN.CustomScript.getEncodedValue(e)}catch(g){a.errorTrack("errorInEncodingFSM for FSM "+e,g)}e.length>f&&(a.errorTrack('StillTooLongFSMValue: Map not available. Trimmed to "'+e.slice(0,f)+'"',{key:e}),e=e.slice(0,f))}return e}function E(a,b){$undefinedOrNull(b)&&q(a),u(a,b)}function F(a,c){t(b.SN_VARIABLE_STORE_NAME,a,c)}function G(){var a=B(b.SN_VI_STORE_NAME,b.DATA_CLEAN_UP_DONE_FOR_FPID_KEY),c=-1;a!=null&&(c=a.indexOf("c"));if(c==-1||a==null)H(),E(b.SN_VI_STORE_NAME),a==null&&(a=""),C(b.SN_VI_STORE_NAME,b.DATA_CLEAN_UP_DONE_FOR_FPID_KEY,a+"c")}function H(){var a=[b.SN_AS_STORE_NAME,b.SN_RN_STORE_NAME,b.SN_EXIT_HISTORY_STORE_NAME,b.SN_VARIABLE_STORE_NAME,b.SN_WEBTRACKER_STORE_NAME];parent.SN.Conf.CustomStoresToBeCleanedUp.length>0&&(a=a.concat(parent.SN.Conf.CustomStoresToBeCleanedUp)),index=0;for(;index<a.length;index+=1)E(a[index]);parent.SN.Conf.viStore!="cookie"&&E(b.SN_VI_STORE_NAME)}var a=SN.Utils,b=SN.Constants,c=!1,d=parent.SN.Conf.INVALID_COOKIE_CHARACTERS,e=!1,f=25,g=null,I={init:n,onBootstrapUpdateCompleted:j,onFsmVariablesUpdate:k,getValueFromStore:B,setValueInStore:C,deleteValueFromStore:E,setCrossDomainData:m,readCookie:p,createCookie:o,eraseCookie:q,readSNCookie:r,createSNCookie:t,eraseSNCookie:u,updateDataInVC:F,cleanUpAllCookies:H,cleanUpAllCookies_fpidBasedViActive:G};return I},SN=SN||{},SN.LocalStorageWrapper=function(){function k(){var c=(new Date).getTime();b[a.SN_RN_STORE_NAME]=c,b[a.SN_AS_STORE_NAME]=c,b[a.SN_VI_STORE_NAME]=c,b[a.SN_WEBTRACKER_STORE_NAME]=c,b[a.SN_VARIABLE_STORE_NAME]=c,b[a.SN_EXIT_HISTORY_STORE_NAME]=c,e.observe(a.CONST_PERIODICAL_EXECUTION_TIMER_EVENT,o),parent.SN.Conf.viStore=="cookie"&&(j=new SN.CookieManager)}function l(){var b=v(a.SN_VI_STORE_NAME,a.DATA_CLEAN_UP_DONE_FOR_FPID_KEY),c=-1;b!=null&&(c=b.indexOf("l"));if(c==-1||b==null)m(),d.getStore(a.SN_VI_STORE_NAME).remove(a.SN_VI_STORE_NAME),b==null&&(b=""),w(a.SN_VI_STORE_NAME,a.DATA_CLEAN_UP_DONE_FOR_FPID_KEY,b+"l")}function m(){var b=[a.SN_AS_STORE_NAME,a.SN_RN_STORE_NAME,a.SN_EXIT_HISTORY_STORE_NAME,a.SN_VARIABLE_STORE_NAME,a.SN_WEBTRACKER_STORE_NAME,a.SN_VI_STORE_NAME];parent.SN.Conf.CustomStoresToBeCleanedUp.length>0&&(b=b.concat(parent.SN.Conf.CustomStoresToBeCleanedUp)),index=0;for(;index<b.length;index+=1)d.getStore(b[index]).remove(b[index]);parent.SN.Conf.viStore!="localstorage"&&d.getStore(a.SN_VI_STORE_NAME).remove(a.SN_VI_STORE_NAME)}function n(e){for(var f in e){var g=e[f].cvalue;f!=c&&(b[f]=(new Date).getTime()),viDataMap={};if(f==a.SN_VI_STORE_NAME){viData=g.split(a.KEY_SEPERATOR);for(i=0;i<viData.length;i++)keyValue=viData[i].split(a.KEY_VALUE_SEPERATOR),keyName=keyValue[0],g=keyValue[1],keyName=="vi"&&parent.SN.Conf.viStore=="cookie"?j.setValueInStore(a.SN_VI_STORE_NAME,keyName,g):viDataMap[keyName]=g;g=null;for(viDataKey in viDataMap)$undefinedOrNull(g)?g=viDataKey+a.KEY_VALUE_SEPERATOR+viDataMap[viDataKey]+a.KEY_SEPERATOR:g=g+viDataKey+a.KEY_VALUE_SEPERATOR+viDataMap[viDataKey]+a.KEY_SEPERATOR;g.length>1&&(g=g.substring(0,g.length-1)),d.getStore(f).set(f,g)}else d.getStore(f).set(f,g)}}function o(){var c=!1;for(var e in b){var f=h.getStoreLifetime(e),g=b[e],i=g+f<(new Date).getTime();i&&(d.getStore(e).remove(e),e==a.SN_VI_STORE_NAME&&(c=!0))}if(c)for(var e in b)d.getStore(e).remove(e)}function p(b,c){var e=d.getStore(b).get(b);if($undefinedOrNull(e))return null;var f=e.split(a.KEY_SEPERATOR),g=c+a.KEY_VALUE_SEPERATOR;for(var h=0;h<f.length;h++){var i=f[h];if(i.indexOf(g)==0){var j=i.substring(g.length,i.length);return j}}return null}function q(c,e,f){var g="",h="",i=!1,j=!0,k=d.getStore(c).get(c);k==null&&(k="");var l=k.split(a.KEY_SEPERATOR),m=e+a.KEY_VALUE_SEPERATOR;for(var n=0;n<l.length;n++){var o=l[n];if(o=="")continue;o.indexOf(m)==0?i=!0:i?h=h+a.KEY_SEPERATOR+o:j?(g=o,j=!1):g=g+a.KEY_SEPERATOR+o}var p="";if(typeof f=="string"){var q=f.split(a.KEY_SEPERATOR).join("").split(a.KEY_VALUE_SEPERATOR).join("");q!=f&&SN.Utils.warnTrack("Data Key-Value Separtor found inside the value. Removed.",{oldValue:f}),f=q}f==null?p=g+h:g==""?p=m+f+h:p=g+a.KEY_SEPERATOR+m+f+h,d.getStore(c).set(c,p),b[c]=(new Date).getTime()}function r(c,e){var f=d.getStore(c).get(c);if($undefinedOrNull(f)||f.indexOf(e)==-1)return;var g=f.split(a.KEY_SEPERATOR),h=0,i="";for(h=0;h<g.length;h++){var j;j=g[h].split(a.KEY_VALUE_SEPERATOR)[0],j!=e&&(i+=g[h],h!=g.length-1&&(i+=a.KEY_SEPERATOR))}i.charAt(i.length-1)==a.KEY_SEPERATOR&&(i=i.substring(0,i.length-1)),d.getStore(c).remove(c),d.getStore(c).set(c,i),b[c]=(new Date).getTime()}function s(a){d.getStore(a).remove(a)}function t(){var c={},e={};for(var f in b)e.cvalue=d.getStore(f).get(f),f=="sn.vi"&&parent.SN.Conf.dataStore=="localstorage"&&!h.isVidBasedonfpid()&&parent.SN.Conf.viStore=="cookie"&&e["cvalue"].indexOf(a.VISITOR_ID+a.KEY_VALUE_SEPERATOR)==-1&&(e.cvalue=e.cvalue+a.KEY_SEPERATOR+a.VISITOR_ID+a.KEY_VALUE_SEPERATOR+j.getValueFromStore(f,a.VISITOR_ID)),e.clifetime=h.getStoreLifetime(f),c[f]=e,e={};return c}function u(){var b={},c={};return c.cvalue=p(a.SN_VARIABLE_STORE_NAME),c.clifetime=h.getStoreLifetime(a.SN_VARIABLE_STORE_NAME),b[a.SN_VARIABLE_STORE_NAME]=c,$undefinedOrNull(c.cvalue)?null:b}function v(b,c){return b!=a.SN_VI_STORE_NAME||c!=a.VISITOR_ID&&c!=a.VI_BUCKET_CUSTOM_DATA_KEY&&c!=a.DATA_CLEAN_UP_DONE_FOR_FPID_KEY||parent.SN.Conf.viStore!="cookie"?p(b,c):j.getValueFromStore(b,c)}function w(b,c,d){return b!=a.SN_VI_STORE_NAME||c!=a.VISITOR_ID&&c!=a.VI_BUCKET_CUSTOM_DATA_KEY&&c!=a.DATA_CLEAN_UP_DONE_FOR_FPID_KEY?q(b,c,d):parent.SN.Conf.viStore=="cookie"?j.setValueInStore(b,c,d):q(b,c,d),d}function x(a,b){r(a,b)}function y(b,c){w(a.SN_VARIABLE_STORE_NAME,b,c)}var a=SN.Constants,b={},c=null,d=SN.Store,e=SN.EventManager,f=!0,g=3e4,h=SN.Utils,j=null,z={setCrossDomainData:n,write:q,read:p,onBootstrapUpdateCompleted:t,onFsmVariablesUpdate:u,getValueFromStore:v,setValueInStore:w,deleteValueFromStore:x,updateDataInVC:y,cleanUpLocalStorageData:m,cleanUpLocalStorageData_fpidBasedViActive:l};return k(),z},typeof SN=="undefined"&&(SN={}),SN.CrossXHR=function(){function r(a){var b=JSON.parse(a),c=b.err_no,e=b.err,f=b.rid,g=b.response;if(!$undefinedOrNull(c)&&c>0)d.info("Error code received - "+f,e);else{while(g.indexOf("+")!=-1)g=g.replace("+"," ");var h=decodeURIComponent(g),i=p[f];if(!$undefinedOrNull(i))try{i(h)}catch(e){d.warn("unable to execute the jsonp response , actualResponse : "+h,e)}else d.info("JSONP callback function is undefined or null for reqId "+f)}var j=f,k=document.getElementById(j),l=document.getElementsByTagName("head").item(0);k&&window.setTimeout(function(){try{l.removeChild(k)}catch(a){d.error("Could not remove JSONP script - "+j,a)}},2e3),delete p[f]}function t(){var a=c.length;for(var b=0;b<a;b++){var d=c[b],e=s[d];if(e.test()){i=e,j=d;break}}if(i==null)throw"No crossdomain channel could be obtained for your browser. Upgrade yours to FF2+/IE8+/Flash";i.init()}function u(){return typeof i==a||i==null?!1:i.isReady()}function v(a,b,c,d){i.isReady()?i.write(a,b,c,d):(i=s.getScript,w(a,b))}function w(a,b){var c=null;$undefinedOrNull(b)&&(b={}),o==null&&(o=s.getScript,o.init()),o.write(a,b,c)}function x(a,b,c,d){if($undefinedOrNull(a))throw"url passed into JSONP request is undefinedOrNull";if($undefinedOrNull(c))throw"callback passed into JSONP request is undefinedOrNull";if($undefinedOrNull(d))throw"httpmethod passed into JSONP request is undefinedOrNull";if(d.toUpperCase()!="G"&&d.toUpperCase()!="P")throw"httpmethod : "+d+" passed into JSONP request is not valid. It should be 'p' for post call and 'g' for get call";$undefinedOrNull(b)&&(b={}),n==null&&(n=s.JSONP,n.init()),b[h]=d,n.write(a,b,c)}function y(){return j}var a="undefined",b="sn-pspxd-iframe",c=["iframe","getScript"],d=SN.Utils,e=d.getProxyServer(),f="s",g="cb",h="m",i=null,j=null,k=0,l="postMessage",m=SN.ConfigurationManager,n=null,o=null,p={},q=0,s={iframe:{test:function(){return window[l]?!0:!1},isReady:function(){return m.isXDChannelReady()},init:function(){},write:function(a,c,e,f){c.responseType="application/json",SN.XDFrameMessagingUtils.receiveMessage(function(a){e(a)},d.getPSPServerUrl());var g=document.getElementById(b);if($undefinedOrNull(g))return;var h={};$undefinedOrNull(f)?h.cmd="serverCall":h.cmd=f,h.params=c,SN.XDFrameMessagingUtils.postMessage(JSON.stringify(h),d.getPSPServerUrl(),g.contentWindow)}},getScript:{test:function(){return!0},isReady:function(){return this.ready==1},init:function(){this.ready=!0},write:function(a,b,c){b.responseType="text/javascript";var e="id"+k++;b.sId=e;var f=document.getElementsByTagName("head").item(0),g=d.appendUrlParams(a,b);if(navigator.userAgent.indexOf("MSIE 7")!=-1&&g.length>2048){d.errorTrack("getScriptUrlSizeexceeded2083OnIE7");return}if(navigator.userAgent.indexOf("MSIE 7")==-1&&g.length>4e3){d.errorTrack("getScriptUrlSizeexceeded4k");return}var h=document.createElement("script");h.src=g,h.type="text/javascript",h.id=e,h.async=!0,void f.appendChild(h)}},JSONP:{test:function(){return!0},isReady:function(){return this.ready==1},init:function(){this.ready=!0},write:function(a,b,c){b=b||{};var i=location.protocol=="https:"?"https://":a.indexOf("https")!=-1?"https://":"http://",j=i+e;b[f]=a,b[g]="SN.CrossXHR.handleJSONPResponse";var k=b[h];$undefinedOrNull(k)&&(b[h]="G");var l="jid"+q++;b.rid=l,p[l]=c;var m=document.getElementsByTagName("head").item(0),n=d.appendUrlParams(j,b),o=document.createElement("script");o.src=n,o.type="text/javascript",o.id=l,o.async=!0,void m.appendChild(o)}}},z={isReady:u,makeXDRequest:v,makeJSONPRequest:x,makeGetRequest:w,handleJSONPResponse:r,getType:y,reinit:t};return t(),z}(),typeof SN=="undefined"&&(SN={}),SN.ServerStorageManager=function(){function q(b,c){if(b==e.SN_VI_STORE_NAME){if(c==e.VISITOR_ID)return j.getValueFromStore(k,c);if(c==e.DC_CODE){if(l==1)return j.getValueFromStore(k,c);var d=a[b];if(!$undefinedOrNull(d))return d[c]}if(c==e.VI_BUCKET_CUSTOM_DATA_KEY)return j.getValueFromStore(e.SN_VI_STORE_NAME,e.VI_BUCKET_CUSTOM_DATA_KEY);if(c==e.CONST_INVITATION_OFERED_TIME_STAMP)return!$undefinedOrNull(a[b])&&!$undefinedOrNull(a[b][c])?a[b][c]:null}if($undefinedOrNull(c))return $undefinedOrNull(a[b])?null:a[b];var d=a[b];if(!$undefinedOrNull(d)){var f=d[c];if(!$undefinedOrNull(f)&&b==e.SN_VARIABLE_STORE_NAME){if(f=="")return f;f=JSON.parse(f)}return f}}function r(b,c,d){if(b!=e.SN_VI_STORE_NAME||c!=e.VISITOR_ID&&c!=e.VI_BUCKET_CUSTOM_DATA_KEY&&c!=e.DATA_CLEAN_UP_DONE_FOR_FPID_KEY||l!=1){$undefinedOrNull(a[b])&&(a[b]={});if($undefinedOrNull(c))a[b]=d;else if(b==e.SN_VARIABLE_STORE_NAME){var f=JSON.stringify(d);a[b][c]=f}else a[b][c]=d;return d}return j.setValueInStore(k,c,d),h.isCrossDomainSupported()&&n.isXDChannelReady()&&c==e.VI_BUCKET_CUSTOM_DATA_KEY&&(updateparams={},cookievalue={},cookievalue.cvalue=j.getValueFromStore(e.SN_VI_STORE_NAME,e.VISITOR_ID),cookievalue.clifetime=h.getStoreLifetime(e.SN_VI_STORE_NAME),updateparams[e.SN_VI_STORE_NAME]=cookievalue,o.sendXDData(updateparams)),d}function s(b,c){$undefinedOrNull(c)&&(a[b]={}),b==e.SN_VI_STORE_NAME&&c==e.VISITOR_ID&&l==1&&j.eraseValueFromStore(k,c),!$undefinedOrNull(a[b])&&!$undefinedOrNull(a[b][c])&&(a[b][c]="");return}function t(){f=location.protocol+"//"+parent.SN.Conf.CONST_PSP_ROOT+"/psp/"+parent.SN.Conf.CONST_PSP_KEY+"/"+parent.SN.Conf.CONST_PSP_VERSION+e.SEND_SERVER_DATA_CALL,g=location.protocol+"//"+parent.SN.Conf.CONST_PSP_ROOT+"/psp/"+parent.SN.Conf.CONST_PSP_KEY+"/"+parent.SN.Conf.CONST_PSP_VERSION+e.GET_SERVER_DATA_CALL,parent.SN.Conf.viStore=="cookie"?j=new SN.CookieManager:j=new SN.LocalStorageWrapper,SN.EventManager.observe(e.UPDATE_SN_AS_EVENT,x)}function u(){var a={},b={};if(l==0)return null;var c=q(e.SN_VI_STORE_NAME,e.VISITOR_ID);return b.cvalue=e.VISITOR_ID+e.KEY_VALUE_SEPERATOR+c,b.clifetime=h.getStoreLifetime(e.SN_VI_STORE_NAME),a[e.SN_VI_STORE_NAME]=b,a}function v(b,c,d){var g=null,j=a[b];for(var k in j){var l=j[k];if($undefinedOrNull(d))$undefinedOrNull(g)&&(g={}),g[k]=l;else{var m=d[k];m!=l&&($undefinedOrNull(g)&&(g={}),g[k]=l)}}if(!$undefinedOrNull(g)){h.info("Sending new "+c+"Variables to server"),params={},params[e.BUCKET_KEY]=b,params[e.BUCKET_VALUE]=JSON.stringify(j),params[e.VISITOR_ID]=q(e.SN_VI_STORE_NAME,e.VISITOR_ID),params[e.CLIENT_KEY]=h.getClientKey(),i.makeXDRequest(f,params,function(){},e.SEND_SERVER_DATA);for(var n in j)d[n]=j[n];return null}return h.info("No new updates on "+c+"Variables to be sent to server"),null}function w(){v(e.SN_VARIABLE_STORE_NAME,"FSM",b)}function x(){v(e.SN_AS_STORE_NAME,"AS",d)}function y(c){if(!$undefinedOrNull(c)){for(key in c)value=c[key],a[key]=value;tempVc=a[e.SN_VARIABLE_STORE_NAME];if(!$undefinedOrNull(tempVc))for(vcKey in tempVc)b[vcKey]=tempVc[vcKey];$undefinedOrNull(b)&&(b={});for(tempKey in b)a[e.SN_VARIABLE_STORE_NAME][tempKey]=b[tempKey]}}function z(b){if(l==0)return;dataMap={},cookieManager=new SN.CookieManager;for(var c in b){params={};if(c==e.SN_VI_STORE_NAME){var d=b[c].cvalue;if(d==""||$undefinedOrNull(d)||d==undefined)continue;dataMap[c]=d,viData=d.split(e.KEY_SEPERATOR)[0].split(e.KEY_VALUE_SEPERATOR),j.setValueInStore(c,viData[0],viData[1]),d.split(e.KEY_SEPERATOR).length>1&&(customData=d.split(e.KEY_SEPERATOR)[1].split(e.KEY_VALUE_SEPERATOR),j.setValueInStore(c,customData[0],customData[1])),SN.Conf.viStore==e.LOCAL_STORE&&cookieManager.deleteValueFromStore(c)}}for(var c in b)$undefinedOrNull(b[c].cvalue)||(a[c]=B(b[c].cvalue))}function A(){cookieManager=new SN.CookieManager,cookies=[e.SN_AS_STORE_NAME,e.SN_RN_STORE_NAME,e.SN_EXIT_HISTORY_STORE_NAME,e.SN_VARIABLE_STORE_NAME,e.SN_WEBTRACKER_STORE_NAME];var b=0;c={};for(;b<cookies.length;b+=1)$undefinedOrNull(a[cookies[b]])&&(dataMapString=cookieManager.readCookie(cookies[b]),$undefinedOrNull(dataMapString)||(dataMap=B(dataMapString),cookies[b]==e.SN_VARIABLE_STORE_NAME?a[cookies[b]]=JSON.stringify(dataMap):a[cookies[b]]=dataMap));var c={};for(key in a)c[e.BUCKET_KEY]=key,c[e.VISITOR_ID]=q(e.SN_VI_STORE_NAME,e.VISITOR_ID),c[e.BUCKET_VALUE]=JSON.stringify(a[key]),c[e.CLIENT_KEY]=h.getClientKey(),key!=e.SN_WEBTRACKER_STORE_NAME&&i.makeXDRequest(f,c,function(){},e.SEND_SERVER_DATA);b=0;for(;b<cookies.length;b+=1)cookieManager.deleteValueFromStore(cookies[b])}function B(a){dataArray=a.split(e.KEY_SEPERATOR),dataMap={};for(index=0;index<dataArray.length;index++)dataElement=dataArray[index],data=dataElement.split(e.KEY_VALUE_SEPERATOR),dataMap[data[0]]=data[1];return dataMap}function C(a,b){params={},params[e.BUCKET_KEY]=a,params[e.BUCKET_VALUE]=b,params[e.VISITOR_ID]=q(e.SN_VI_STORE_NAME,e.VISITOR_ID),params[e.CLIENT_KEY]=h.getClientKey(),i.makeXDRequest(f,params,function(){},e.SEND_SERVER_DATA)}function D(a){var b=(new Date).getTime();m[b]=a,params={},params[e.BUCKET_KEY]="custom_",params.reqId=b,params[e.VISITOR_ID]=q(e.SN_VI_STORE_NAME,e.VISITOR_ID),params[e.CLIENT_KEY]=h.getClientKey(),i.makeGetRequest(g+"?",params,a,e.SEND_SERVER_DATA)}function E(a,b){callback=m[b],callback(a),delete m[b]}function F(){changedparams={},changedparams[e.BUCKET_KEY]=e.SN_VI_STORE_NAME,changedparams[e.BUCKET_VALUE]=JSON.stringify(a[e.SN_VI_STORE_NAME]),changedparams[e.VISITOR_ID]=q(e.SN_VI_STORE_NAME,e.VISITOR_ID),changedparams[e.CLIENT_KEY]=h.getClientKey(),i.makeXDRequest(f,changedparams,function(){},e.SEND_SERVER_DATA)}function G(a,b){r(e.SN_VARIABLE_STORE_NAME,a,b)}var a={},b={},c={},d={},e=SN.Constants,f=null,g=null,h=SN.Utils,i=SN.CrossXHR,j=null,k=parent.SN.Conf.viStoreName,l=parent.SN.Conf.shouldMaintainVi,m={},n=SN.ConfigurationManager,o=SN.CrossXDataHandler,p=SN.Eventmanager,H={onFsmVariablesUpdate:w,onBootstrapUpdateCompleted:u,initialize:t,deleteValueFromStore:s,getValueFromStore:q,setValueInStore:r,saveBootstrapData:y,setCrossDomainData:z,setCustomData:C,getDataFromServer:D,onGetDataFromServer:E,sendToServerAndCleanCookieStorage:A,setItValueInServer:F,updateDataInVC:G};return t(),H},function(a){"use strict";var b=function(a){var b=Array.prototype.forEach,c=Array.prototype.map;this.each=function(a,c,d){if(a===null)return;if(b&&a.forEach===b)a.forEach(c,d);else if(a.length===+a.length){for(var e=0,f=a.length;e<f;e++)if(c.call(d,a[e],e,a)==={})return}else for(var g in a)if(a.hasOwnProperty(g)&&c.call(d,a[g],g,a)==={})return},this.map=function(a,b,d){var e=[];return a==null?e:c&&a.map===c?a.map(b,d):(this.each(a,function(a,c,f){e[e.length]=b.call(d,a,c,f)}),e)},typeof a=="object"?(this.hasher=a.hasher,this.canvas=a.canvas):typeof a=="function"&&(this.hasher=a)};b.prototype={get:function(){var b=[];b.push(navigator.userAgent),b.push(navigator.language),b.push(screen.colorDepth),b.push((new Date).getTimezoneOffset()),b.push(!!a.sessionStorage),b.push(this.hasLocalStorage()),b.push(!!window.indexedDB),b.push(typeof document.body.addBehavior),b.push(typeof window.openDatabase),b.push(navigator.cpuClass),b.push(navigator.platform),b.push(navigator.doNotTrack);var c=this.map(navigator.plugins,function(a){var b=this.map(a,function(a){return[a.type,a.suffixes].join("~")}).join(",");return[a.name,a.description,b].join("::")},this).join(";");return b.push(c),this.canvas&&this.isCanvasSupported()&&b.push(this.getCanvasFingerprint()),this.hasher?this.hasher(b.join("###"),31):this.murmurhash3_32_gc(b.join("###"),31)},murmurhash3_32_gc:function(a,b){var c,d,e,f,g,h,i,j;c=a.length&3,d=a.length-c,e=b,g=3432918353,h=461845907,j=0;while(j<d)i=a.charCodeAt(j)&255|(a.charCodeAt(++j)&255)<<8|(a.charCodeAt(++j)&255)<<16|(a.charCodeAt(++j)&255)<<24,++j,i=(i&65535)*g+(((i>>>16)*g&65535)<<16)&4294967295,i=i<<15|i>>>17,i=(i&65535)*h+(((i>>>16)*h&65535)<<16)&4294967295,e^=i,e=e<<13|e>>>19,f=(e&65535)*5+(((e>>>16)*5&65535)<<16)&4294967295,e=(f&65535)+27492+(((f>>>16)+58964&65535)<<16);i=0;switch(c){case 3:i^=(a.charCodeAt(j+2)&255)<<16;case 2:i^=(a.charCodeAt(j+1)&255)<<8;case 1:i^=a.charCodeAt(j)&255,i=(i&65535)*g+(((i>>>16)*g&65535)<<16)&4294967295,i=i<<15|i>>>17,i=(i&65535)*h+(((i>>>16)*h&65535)<<16)&4294967295,e^=i}return e^=a.length,e^=e>>>16,e=(e&65535)*2246822507+(((e>>>16)*2246822507&65535)<<16)&4294967295,e^=e>>>13,e=(e&65535)*3266489909+(((e>>>16)*3266489909&65535)<<16)&4294967295,e^=e>>>16,e>>>0},hasLocalStorage:function(){try{return!!a.localStorage}catch(b){return!0}},isCanvasSupported:function(){var a=document.createElement("canvas");return!!a.getContext&&!!a.getContext("2d")},getCanvasFingerprint:function(){var a=document.createElement("canvas"),b=a.getContext("2d"),c="http://valve.github.io";return b.textBaseline="top",b.font="14px 'Arial'",b.textBaseline="alphabetic",b.fillStyle="#f60",b.fillRect(125,1,62,20),b.fillStyle="#069",b.fillText(c,2,15),b.fillStyle="rgba(102, 204, 0, 0.7)",b.fillText(c,4,17),a.toDataURL()}},a.Fingerprint=b}(window),typeof SN=="undefined"&&(SN={}),SN.StoreManager=function(){function l(){var a=new SN.CookieManager;a.init();var b=new SN.LocalStorageWrapper;e.isVidBasedonfpid()?(a.cleanUpAllCookies_fpidBasedViActive(),b.cleanUpLocalStorageData_fpidBasedViActive()):(a.cleanUpAllCookies(),b.cleanUpLocalStorageData())}function m(){k=parent.SN.Conf.dataStore,f=e.getAvailableStore(),e.setFingerPrint((new Fingerprint).get()),k==c||e.isVidBasedonfpid()?(g=new SN.ServerStorageManager,l()):k==b||f==b?(g=new SN.CookieManager,g.init()):k==d?g=new SN.LocalStorageWrapper:e.error("No Suitable storage could be obtained !"),h.observe(a.BOOTSTRAP_UPDATE_COMPLETED_EVENT,s),h.observe(a.UPDATE_FSMVARIABLES_EVENT,t)}function n(a,b){return g.getValueFromStore(a,b)}function o(a,b,c){return g.setValueInStore(a,b,c)}function p(a,b){g.deleteValueFromStore(a,b)}function q(){var b=g.getValueFromStore(a.SN_AS_STORE_NAME,"a");return b==a.TRUE?!0:!1}function r(a){g.setCrossDomainData(a)}function s(){if(!e.isCrossDomainSupported()||!j.isXDChannelReady())return;var a=g.onBootstrapUpdateCompleted();i.sendXDData(a)}function t(){var a=g.onFsmVariablesUpdate();if(!e.isCrossDomainSupported()||!j.isXDChannelReady())return;null!=a&&i.sendXDData(a)}function u(){g.setValueInStore(a.SN_AS_STORE_NAME,"a",a.TRUE)}function v(a){if(k==c||e.isVidBasedonfpid()){var b=a.serverData;$undefinedOrNull(b)?e.errorTrack("No Data sent from server on bs response"):g.saveBootstrapData(b)}}function w(a){(k!=c||e.isVidBasedonfpid())&&e.errorTrack("server side storage is not enabled"),g.getDataFromServer(a)}function x(a,b){g.onGetDataFromServer(a,b)}function y(a,b){if(a.indexOf("custom")==-1){SN.Utils.error("custom data should start with custom_ keyword");return}g.setCustomData(a,b)}function z(){g.sendToServerAndCleanCookieStorage()}function A(){return g.getValueFromStore(a.SN_VI_STORE_NAME,a.VI_BUCKET_CUSTOM_DATA_KEY)}function B(b){if(typeof b!="string"){e.warn("Set request for vi bucket with custom data is allowed for two length string only");return}var c=0;if($undefinedOrNull(b)){e.warn("Set request for vi bucket with custom data thats undefined or null, ignoring the request");return}for(var d in b)b.hasOwnProperty(d)&&c++;if(c>parent.SN.Conf.customDataSizeInViStore){e.warn("Set request for vi bucket with custom data > 2 byte size, ignoring the request");return}return g.setValueInStore(a.SN_VI_STORE_NAME,a.VI_BUCKET_CUSTOM_DATA_KEY,b)}function C(){g.setItValueInServer()}function D(b,c){if(!$undefinedOrNull(b)||!$undefinedOrNull(c))g.updateDataInVC(b,c),h.fire(a.UPDATE_FSMVARIABLES_EVENT,{eventId:a.UPDATE_FSMVARIABLES_EVENT})}var a=SN.Constants,b="cookie",c="server",d="localstorage",e=SN.Utils,f=null,g=null,h=SN.EventManager,i=SN.CrossXDataHandler,j=SN.ConfigurationManager,k=c,E={isActiveSessionPresent:q,setCrossDomainData:r,createASStore:u,getValueFromStore:n,setValueInStore:o,deleteValueFromStore:p,saveBootstrapData:v,getDataFromServer:w,onGetDataFromServer:x,setCustomData:y,sendToServerAndCleanCookieStorage:z,getCustomDataFromViStore:A,setCustomDataInViStore:B,setItValueInServer:C};return m(),E}(),typeof SN=="undefined"&&(SN={}),SN.ExitHistory=function(){function j(a){if($undefinedOrNull(a)||a.length==0)return;d=a;for(var b=0;b<a.length;b++)!$undefinedOrNull(d[b])&&!$undefinedOrNull(d[b].href)&&l(a[b])}function k(){$undefinedOrNull(f)?SN.Utils.info("encodedUrl is undefined"):(clearInterval(g),SN.Utils.info("encodedUrl is defined"),m(f))}function l(a){Event.observe(a,"click",function(b){f=a.hostname,h=b.ctrlKey,g=setInterval(function(){k()},1)})}function m(a){var c;a=a.substring(0,20),e=SN.CustomScript.getEncodedValue(a),!$undefinedOrNull(h)&&h?c=b.NEWTAB_EXIT_LINK:c=b.EXIT_LINK,i.setValueInStore(b.SN_EXIT_HISTORY_STORE_NAME,c,e),clearInterval(g),n(e)}function n(a){var d=SN.Conf.getDecodedValue(a);!$undefinedOrNull(h)&&h&&d&&c.fire("exitLinkEvent",{eventId:b.EXIT_LINK_EVENT,data:{ed:{ntel:d}}})}function o(){var a=i.getValueFromStore(b.SN_EXIT_HISTORY_STORE_NAME);return SN.Conf.getDecodedValue(a)}var a=SN.Utils,b=SN.Constants,c=SN.EventManager,d,e=null,f=null,g=null,h=!1,i=SN.StoreManager,p={registerElementsForExitLinkCapturing:j,getLastExitLink:o};return p}(),SN.PSPCustomTrackingUtil=function(){function setTrackingVariableMap(a){trackingVariableMap=a}function fireCustomEvent(a,b,c){if(c==null||c==undefined)c=SN_CONSTANTS.CUSTOM_EVENT_FIRED;eventManager.fire(SN_CONSTANTS.CUSTOM_EVENT,{eventId:c,data:{f:a,ed:b}})}function trackVariables(){var varMap=trackingVariableMap;if($undefinedOrNull(varMap))return;var extraData={},hasProperties=!1;for(var key in varMap)try{var value=eval("varMap[key]");$undefinedOrNull(value)||(extraData[key]=value,hasProperties=!0)}catch(e){utils.error("PS: error in getting value for: "+key)}hasProperties&&fireCustomEvent(null,extraData,trackVarMapEventCode)}function trackUrlChange(){var a=parent.document.location.href;try{if(a!=lastUrlHash){var b={newUrl:a,olderUrl:lastUrlHash};fireCustomEvent(null,b,urlChangeEventCode),lastUrlHash=a}}catch(c){utils.warn("Exception in SN.CustomScript.trackUrlChange : "+c)}}function startPoller(a,b,c,d){trackingVariableMapFlag=b,trackingUrlFlag=c,lastUrlHash=d,clearPoller(),customPollingInterval=a,SN.EventManager.observe(SN.Constants.BOOTSTRAP_COMPLETED_EVENT,startTracking)}function clearPoller(){null!=pollerFlag&&(clearInterval(pollerFlag),pollerFlag=null)}function startTracking(){clearPoller();var a=setInterval(function(){getTrackingUrlFlag()&&trackUrlChange(),getTrackingVariableMapFlag()&&trackVariables()},customPollingInterval)}function getTrackingUrlFlag(){return trackingUrlFlag}function getTrackingVariableMapFlag(){return trackingVariableMapFlag}var eventManager=SN.EventManager,SN_CONSTANTS=SN.Constants,utils=SN.Utils,trackingVariableMap={},customPollingInterval=null,trackingUrlFlag=!1,lastUrlHash=null,urlChangeEventCode=100009,trackVarMapEventCode=100011,pollerFlag=!1,me={fireCustomEvent:fireCustomEvent,startPoller:startPoller,setTrackingVariableMap:setTrackingVariableMap};return me}(),typeof SN=="undefined"&&(SN={}),SN.Social=function(){function a(){var a=parent.document.getElementById("sn_iframe"),b=a.contentWindow.document.createElement("script");b.id="sn-social",b.type="text/javascript",b.src=SN.Conf.SOCIAL_BASE_URL+"/js/widgets/common/all.js",a.contentWindow.document.body.appendChild(b)}return{load:a}}();var JsonpCall=function(b){var c=b.url;(c===null||typeof c=="undefined")&&b.callback({message:"url is a mandatory field. Please provide correct url"});var d=b.data,e="";for(var f in d)e+="&"+f+"="+d[f];c=c+"?callback="+b.callback+e+"&domain="+window.location.hostname;if(c){var g=document.createElement("script");g.src=c,document.body.appendChild(g)}};typeof SN=="undefined"&&(SN={}),SN.CustomScript=function(){function p(){var d=window.documentDomain;d&&d!=document.domain&&(document.domain=d),parent.SNLoaderReady=!0,a.setCrossDomainSupported(!0),a.setPSPServerName(SN.Conf.CONST_PSP_ROOT),a.setPSPCDNServerName(SN.Conf.CONST_PSP_CDN_ROOT),a.setPSPVisitorPercentage(SN.Conf.CONST_PSP_VISITOR_PERCENTAGE),a.setClientKey(SN.Conf.CONST_PSP_KEY),a.setProxyServer(SN.Conf.PROXY_SERVER),a.setCustomTrackServer(SN.Conf.CUSTOM_TRACK_SERVER),a.setCustomTrackingLevel(e),a.setPsdxdPath(SN.Conf.pspxdPath),h.setFilterType(j),h.setInfilters(k),h.setOutfilters(l),h.setInfilterRegexList(m),h.setOutfilterRegexList(n),a.isDomready()?r():SN.EventManager.observe(SN.Constants.DOMLOADED,r),SN.EventManager.fire(b.CUSTOM_INITIALIZATION_COMPLETED,{eventId:b.CUSTOM_INITIALIZATION_COMPLETED}),c.setTrackingVariableMap(SN.Conf.varmap),c.startPoller(SN.Conf.pollingTime,SN.Conf.varMapFlag,SN.Conf.trackingUrlFlag)}function q(){var a={order_number:"",order_date:"",customer_email:"",service_name:"",is_debug:!0},b={};b.store_id=parent.SN.Conf.SOCIAL_STORE_ID,b.service_details=a,b.base_orl=parent.SN.Conf.SOCIAL_BASE_URL,parent.social247AsyncInit=function(){parent.Shopalize.Loader.showSocialWidget("experience_sharing",b)}}function r(){var a=s();SN.ExitHistory.registerElementsForExitLinkCapturing(a)}function s(){var a=[];return a}function u(a){var b={eventId:"initialize",data:{psproot:"http://psp.247ilabs.com/psp",pspkey:"vha-v1-001",v:"default",pageid:"getPageIdExpression()",trackid:"getWebTrackIdExpression()",ps_timeout_mins:"0",conversionTrackingIdIS:"1315115748",wowpxAppConfigs:{mobilechat:{appConfigUrl:"//"+this.getSNPath()+"#",appName:"mobilechat",widgetConfigName:"mobileAppConfigs",movable:"true",position:"SCROLL"},invitation:{appConfigUrl:"//"+document.domain+"/psp247/247SN.html#",appName:"invitation",widgetConfigName:"inviteAppConfigs",movable:"true",position:"SCROLL"},chatApp:{appConfigUrl:"//"+document.domain+"/psp247/247SN.html#",appName:"chatApp",widgetConfigName:"chatAppConfigs",movable:"false",position:"FIXED"},surveyApp:{appConfigUrl:"//"+document.domain+"/psp247/247SN.html#",appName:"surveyApp",widgetConfigName:"surveyAppConfigs",movable:"false",position:"FIXED"}},widgetconfigs:{mobileAppConfigs:{popupStyle:{backgroundColor:"transparent",height:"60px",right:"0px",bottom:"0px",width:"125px",zIndex:"21001",overflow:"hidden",visibility:"visible",position:"absolute"},iframeStyle:{height:"100%",width:"100%",display:"none",overflow:"hidden"},closerStyle:{display:"none","float":"right",width:"10px",cursor:"pointer"},minimizerStyle:{display:"none"},loadingStyle:{backgroundImage:"",width:"100%",height:"100%",margin:"0px auto",padding:"0px","textAlign ":"center",display:"none",position:"absolute",top:"50%",left:"50%",verticalAlign:"middle",backgroundRepeat:"no-repeat"}},surveyAppConfigs:{popupStyle:{backgroundColor:"#E3F4FD",height:"340px",left:"10px",top:"140px",width:"310px",zIndex:"21001",overflow:"hidden",visibility:"visible",position:"absolute"},iframeStyle:{height:"100%",width:"100%",display:"none",overflow:"hidden"},closerStyle:{"float":"right",width:"10px",cursor:"pointer"},loadingStyle:{backgroundImage:"",width:"100%",height:"100%",margin:"0px auto",padding:"0px","textAlign ":"center",display:"table-cell",position:"absolute",top:"50%",left:"50%",verticalAlign:"middle",backgroundRepeat:"no-repeat"}},errorWidgetConfig:{popupStyle:{width:"201px",height:"151px",position:"absolute",top:"150px",left:"-40px",border:"0 none",zIndex:"100000",border:"2px solid red",backgroundColor:"white"},iframeStyle:{width:"199px",height:"129px",position:"absolute",top:"1px",left:"1px",overflow:"hidden",border:"none",margin:"0px"},closerStyle:{width:"72px",height:"22px",position:"absolute",top:"102px",left:"65px",backgroundImage:"url('http://psp.247ilabs.com/psp/fingerhut/images/all.png')",backgroundPosition:"-81px -107px",textAlign:"center",fontFamily:"Arial",fontSize:"16px"}},inviteAppConfigs:{tabStyle:{backgroundColor:"#E3F4FD",height:"120px",left:"800px",top:"190px",width:"200px",position:"absolute",overflow:"hidden",visibility:"visible",zIndex:"21001"},popupStyle:{backgroundColor:"#E3F4FD",height:"168px",left:"10px",top:"140px",width:"310px",position:"absolute",overflow:"hidden",visibility:"visible",zIndex:"21001"},minimizerStyle:{"float":"right",width:"10px",cursor:"pointer"},iframeStyle:{height:"100%",width:"100%",display:"none",overflow:"hidden"},loadingStyle:{backgroundImage:"",width:"100%",height:"100%",margin:"0px auto",padding:"0px","textAlign ":"center",display:"table-cell",position:"absolute",top:"50%",left:"50%",verticalAlign:"middle",backgroundRepeat:"no-repeat"}},chatInviteWidgetConfig:{popupStyle:{position:"absolute",top:"200px",left:"500px",width:"200px",height:"100px",backgroundColor:"white",border:"2px solid red"},acceptStyle:{position:"absolute",top:"30px",left:"15px",width:"75px",height:"25px",backgroundImage:"url(http://psp.247ilabs.com/psp/fingerhut/images/all.png)",backgroundPosition:"-215px -48px"},declineStyle:{position:"absolute",top:"30px",left:"105px",width:"75px",height:"25px",backgroundImage:"url(http://psp.247ilabs.com/psp/fingerhut/images/all.png)",backgroundPosition:"-215px -71px"},inviteStyle:{position:"absolute",top:"5px",left:"5px",width:"190px",height:"20px",fontFamily:"Arial",fontSize:"14px",fontWeight:"bold",textAlign:"center"},inviteMessage:"Do you want to chat?",cancelText:"Cancel"},chatAppConfigs:{popupStyle:{backgroundColor:"#E3F4FD",height:"350px",left:"10px",top:"140px",width:"300px",zIndex:"21001",position:"fixed",overflow:"hidden",visibility:"true"},iframeStyle:{height:"100%",width:"100%",display:"none",overflow:"hidden"},loadingStyle:{backgroundImage:"",width:"100%",height:"100%",margin:"0px auto",padding:"0px","textAlign ":"center",display:"table-cell",position:"absolute",top:"50%",left:"50%",verticalAlign:"middle",backgroundRepeat:"no-repeat"}}},mappedrulevariables:[{key:"anyInviteAccepted_0",scope:"v"},{key:"anyInviteCount_0",scope:"v"},{key:"anyInviteDeclined_0",scope:"v"},{key:"anyInviteNotOffered_0",scope:"v"},{key:"cart_value",scope:"v"},{key:"country_0",scope:"r"},{key:"country_0",scope:"v"},{key:"finalProbabilityToChat",scope:"v"},{key:"fsmVariable_0",scope:"v"},{key:"gen_time_on_site",scope:"v"},{key:"gen_time_on_site",scope:"v"},{key:"geoispip_0",scope:"v"},{key:"geoispname_0",scope:"v"},{key:"geoisporg_0",scope:"v"},{key:"homePageVisitCount_0",scope:"v"},{key:"ip_0",scope:"r"},{key:"isSiteReferrerASearchEngine_0",scope:"r"},{key:"metaTagInformation_0",scope:"v"},{key:"mv_btnpsup",scope:"r"},{key:"mv_loggedInPast",scope:"r"},{key:"mv_userJourney",scope:"r"},{key:"mv_lastpagevisit_pc",scope:"r"},{key:"mv_vhaUserType",scope:"r"},{key:"mv_btnrulesup",scope:"r"},{key:"mv_btnssup",scope:"r"},{key:"mv_btnsup",scope:"r"},{key:"mv_btnprepaidsup",scope:"r"},{key:"mv_chtDc",scope:"r"},{key:"mv_cntus_st_btn_avl",scope:"r"},{key:"mv_cntus_st_sprsd",scope:"r"},{key:"mv_iscontact_testpage",scope:"r"},{key:"mv_currentPageUrl",scope:"r"},{key:"mv_geoIp",scope:"r"},{key:"mv_intDone",scope:"r"},{key:"mv_intelli_btn_sprsd",scope:"r"},{key:"mv_isDeviceMobile",scope:"r"},{key:"mv_deviceType",scope:"r"},{key:"mv_isMobiPage",scope:"r"},{key:"mv_isbtnpg",scope:"r"},{key:"mv_isinstbtnavl",scope:"r"},{key:"mv_ispbtnpg",scope:"r"},{key:"mv_ispropg",scope:"r"},{key:"mv_pagename",scope:"r"},{key:"mv_proactivePageType",scope:"r"},{key:"mv_prosup",scope:"r"},{key:"mv_tfsOnChat",scope:"r"},{key:"mv_uniquepagename",scope:"r"},{key:"number_of_pages_visited",scope:"v"},{key:"offlineComputedVar",scope:"v"},{key:"pageVisitSequence_0",scope:"v"},{key:"product_category",scope:"v"},{key:"referrer",scope:"r"},{key:"siteVisitCount_0",scope:"v"},{key:"testVC",scope:"v"},{key:"timeOnSite_0",scope:"v"},{key:"urlId_0",scope:"r"},{key:"urlId_1",scope:"r"},{key:"urlId_2",scope:"r"},{key:"mv_isRepeatVisitor",scope:"r"},{key:"mv_proInvCount",scope:"r"},{key:"mv_geoCountry",scope:"r"},{key:"mv_geoCity",scope:"r"},{key:"mv_geoisp",scope:"r"},{key:"mv_os",scope:"r"},{key:"mv_browser",scope:"r"},{key:"mv_initialReferrer",scope:"r"},{key:"mv_activeSessionForRule",scope:"r"},{key:"mv_nopCount",scope:"r"},{key:"mv_vhaUserType",scope:"r"},{key:"mv_isComplaintsTime",scope:"r"},{key:"mv_isIntelliResponseTime",scope:"r"},{key:"mv_isComplaintsPage",scope:"r"},{key:"mv_isVhaRetailSupportPage",scope:"r"},{key:"mv_isvhabtnidavl",scope:"r"},{key:"mv_isRechargingPrepaidService",scope:"r"},{key:"mv_isNonAUSupportedPages",scope:"r"}],chatPlatformConfigs:{IS:{departmentConfigs:{Main:{deptId:"43563",pollingInterval:2,maxPollCount:2,pollingPolicy:0},OverFlow:{deptId:"43563",pollingInterval:2,maxPollCount:2,pollingPolicy:1}}},PS:{departmentConfigs:{Main:{deptId:"43563",pollingInterval:2,maxPollCount:5,pollingPolicy:0},OverFlow:{deptId:"43563",pollingInterval:2,maxPollCount:5,pollingPolicy:1}}}}}};SN.EventManager.fire("pageevent",b)}function v(a){return a=="http://247testsite.com/test.html"?"h":a=="abcd type of product category"?"a":a=="in.yahoo.com"?"Y":a=="www.google.co.in"?"G":a}function x(){w=window.setTimeout(function(){SN.CrossXDataHandler.getLocalStorageItem("persD",SN.CustomScript.getPersistenceData)},500)}function y(a,b){try{var c={};!$undefinedOrNull(b)&&b!=""&&(c=b.evalJSON());if(!$undefinedOrNull(c)&&!$undefinedOrNull(c.tfsOnChat)&&c.tfsOnChat==="0"){z("0"),window.clearTimeout(w);return}if(!$undefinedOrNull(c)&&!$undefinedOrNull(c.tfsOnChat)&&c.tfsOnChat==="1"){if(!$undefinedOrNull(c.t)){var d=(new Date).getTime()-parseInt(c.t),e=parseInt(d/1e3);if(e>=10){z("0"),window.clearTimeout(w);return}}else if(!$undefinedOrNull(c.trigT)){var f=(new Date).getTime()-parseInt(c.trigT),g=parseInt(f/1e3/60);if(g>2){z("0"),window.clearTimeout(w);return}}x()}}catch(h){}}function z(a){a==="1"?(x(),jb("trigT",(new Date).getTime())):$undefinedOrNull(bb)||($undefinedOrNull(bb.t)||delete bb.t,$undefinedOrNull(bb.trigT)||delete bb.trigT),jb("tfsOnChat",a),A(a)}function A(a){if(rb()){var b=parent.document.getElementById("sn-button-main-vha_button_retail_support_page");b&&(b.style.opacity=a=="1"?"0.5":"1")}}function B(a){return a=="h"?"http://247testsite.com/test.html":a=="Y"?"in.yahoo.com":a=="G"?"www.google.co.in":a}function D(){return C}function E(){C=1}function G(){var a="",b=escape(parent.document.location.href).toLowerCase();return b.match(escape("vodafone.com.au/extras/extras").toLowerCase())!=null||b.match(escape("vodafone.com.au/cart").toLowerCase())!=null||b.match(escape("vodafone.com.au/order-personal-details").toLowerCase())!=null||b.match(escape("vodafone.com.au/order-payment-details").toLowerCase())!=null||b.match(escape("vodafone.com.au/upgrades/extras").toLowerCase())!=null||b.match(escape("vodafone.com.au/upgrades/cart").toLowerCase())!=null||b.match(escape("vodafone.com.au/upgrades/checkout").toLowerCase())!=null||b.match(escape("vodafone.com.au/checkout").toLowerCase())!=null||b.match(escape("vodafone.com.au/upgrades/userlogin").toLowerCase())!=null||b.match(escape("vodafone.com.au/order-prepaid-payment-details").toLowerCase())!=null||b.match(escape("vodafone.com.au:30020/extras/extras").toLowerCase())!=null||b.match(escape("vodafone.com.au:30020/cart").toLowerCase())!=null||b.match(escape("vodafone.com.au:30020/order-personal-details").toLowerCase())!=null||b.match(escape("vodafone.com.au:30020/order-payment-details").toLowerCase())!=null||b.match(escape("vodafone.com.au:30020/upgrades/extras").toLowerCase())!=null||b.match(escape("vodafone.com.au:30020/upgrades/cart").toLowerCase())!=null||b.match(escape("vodafone.com.au:30020/upgrades/checkout").toLowerCase())!=null||b.match(escape("vodafone.com.au:30020/upgrades/userlogin").toLowerCase())!=null||b.match(escape("vodafone.com.au:30020/order-prepaid-payment-details").toLowerCase())!=null?a="-Need help with your order?-An online specialist is available to assist you. Would you like to be connected now?":a="Live Chat - Got a question?-Chat right now with a Vodafone advisor",msg={header:a.split("-")[0],subHeader:a.split("-")[1],chatMsg:a.split("-")[2]},msg}function H(){var a="unknown",b=escape(parent.document.location.href).toLowerCase(),c=escape(parent.document.location.host+parent.document.location.pathname).toLowerCase();if(b==escape("http://shop.vodafone.com.au/").toLowerCase()||b==escape("http://shop.vodafone.com.au/all-mobiles?type=All").toLowerCase()||c==escape("shop.vodafone.com.au/compare-mobiles/").toLowerCase()||c==escape("www.vodafone.com.au/personal/android/home").toLowerCase()||c==escape("www.vodafone.com.au/personal/mobile-internet").toLowerCase()||c==escape("www.vodafone.com.au/personal/tablets/tablets").toLowerCase()||c==escape("www.vodafone.com.au/personal/windows-phone").toLowerCase()||b==escape("http://shopstaging.vodafone.com.au:30020/").toLowerCase()||b==escape("http://shopstaging.vodafone.com.au:30020/all-mobiles?type=All").toLowerCase()||c==escape("shopstaging.vodafone.com.au:30020/compare-mobiles/").toLowerCase()||c==escape("shopstaging.vodafone.com.au:30020/personal/android/home").toLowerCase()||c==escape("shopstaging.vodafone.com.au:30020/personal/mobile-internet").toLowerCase()||c==escape("shopstaging.vodafone.com.au:30020/personal/tablets/tablets").toLowerCase()||c==escape("shopstaging.vodafone.com.au:30020/personal/windows-phone").toLowerCase())a="vha_pro_find";else if(b==escape("http://shop.vodafone.com.au/all-mobiles?type=Contract").toLowerCase()||c==escape("shop.vodafone.com.au/extras/extras.jsp").toLowerCase()||c==escape("shop.vodafone.com.au/offers/hot-offers").toLowerCase()||c==escape("www.vodafone.com.au/personal/iphone/home").toLowerCase()||c==escape("www.vodafone.com.au/personal/plans").toLowerCase()||b==escape("http://shop.vodafone.com.au:30020/all-mobiles?type=Contract").toLowerCase()||c==escape("shopstaging.vodafone.com.au:30020/extras/extras.jsp").toLowerCase()||c==escape("shopstaging.vodafone.com.au:30020/offers/hot-offers").toLowerCase()||c==escape("shopstaging.vodafone.com.au:30020/personal/iphone/home").toLowerCase()||c==escape("shopstaging.vodafone.com.au:30020/personal/plans").toLowerCase())a="vha_pro_best_deals";else if(c.match(escape("vodafone.com.au/cart").toLowerCase())!=null||c==escape("shop.vodafone.com.au/upgrades/cart.jsp").toLowerCase()||c==escape("shop.vodafone.com.au/upgrades/userlogin").toLowerCase()||c==escape("shop.vodafone.com.au/order-payment-details").toLowerCase()||c==escape("shop.vodafone.com.au/order-personal-details").toLowerCase()||c==escape("shop.vodafone.com.au/upgrades/checkout.jsp").toLowerCase()||c==escape("shop.vodafone.com.au/checkout").toLowerCase()||c==escape("shop.vodafone.com.au/upgrades/extras.jsp").toLowerCase()||c==escape("shop.vodafone.com.au/upgrades/handset_list.jsp").toLowerCase()||c==escape("shopstaging.vodafone.com.au:30020/cart.jsp").toLowerCase()||c==escape("shopstaging.vodafone.com.au:30020/cart").toLowerCase()||c==escape("shopstaging.vodafone.com.au:30020/upgrades/cart.jsp").toLowerCase()||c==escape("shopstaging.vodafone.com.au:30020/upgrades/userlogin").toLowerCase()||c==escape("shopstaging.vodafone.com.au:30020/order-payment-details").toLowerCase()||c==escape("shopstaging.vodafone.com.au:30020/order-personal-details").toLowerCase()||c==escape("shopstaging.vodafone.com.au:30020/upgrades/checkout.jsp").toLowerCase()||c==escape("shopstaging.vodafone.com.au:30020/checkout").toLowerCase()||c==escape("shopstaging.vodafone.com.au:30020/upgrades/extras.jsp").toLowerCase()||c==escape("shopstaging.vodafone.com.au:30020/upgrades/handset_list.jsp").toLowerCase())a="vha_pro_checkout";return a}function I(){var a=H();return!!$undefinedOrNull(a)||a!=="vha_pro_find"&&a!=="vha_pro_best_deals"&&a!=="vha_pro_checkout"?!1:!0}function K(a,b,c){b.map(function(b){a[b]=c})}function Q(a){return J&&J[a]?J[a]:"Sales_invite_3"}function R(){try{var a="unknown",b=escape(parent.document.location.href).toLowerCase(),c=escape(parent.document.location.host+parent.document.location.pathname).toLowerCase(),d=parent.document.location.pathname;if(b.indexOf("shopstaging.vodafone.com.au")!==-1||b.indexOf("shop.vodafone.com.au")!==-1){switch(d){case"":case"/":return"home";case"/all-mobiles":if(b.indexOf(escape("type=All").toLowerCase())!=-1)return"typeAllMob";if(b.indexOf(escape("type=Contract").toLowerCase())!=-1)return"typeContractMob";break;case"/compare-mobiles/":case"/compare-mobiles":return"compareMob";case"/extras/extras.jsp":return"extras";case"/offers/hot-offers":return"hotOffers";case"/cart.jsp":case"/cart":case"/cart/":return"cart";case"/upgrades/cart.jsp":case"/upgrades/cart/":return"upgradescart";case"/upgrades/userlogin":case"/upgrades/userLogin.jsp":return"upgradesUserLogin";case"/order-payment-details":return"orderPaymentDetails";case"/order-personal-details":return"orderPersonalDetails";case"/checkout":case"/upgrades/checkout.jsp":case"/upgrades/checkout":return"checkout";case"/upgrades/extras.jsp":return"upgradesExtras";case"/upgrades/handset_list.jsp":return"upgradesHandList";case"/personal/android/home":case"/personal/android/home/":return"androidhome";case"/upgrades":return"upgrades"}if(d.indexOf("/mobile-details/iPhone-5")!=-1)return"iPhone5Details";if(d.indexOf("mobile-specs/iPhone")!=-1)return"iPhone5Spec";if(d.indexOf("/mobile-specs/samsung-galaxy-")!==-1)return"samsungMobSpec";if(d.indexOf("/mobile-details/samsung-galaxy-")!==-1)return"samsungMobDet";if(d.indexOf("mobile-details")!==-1)return"mobile-details"}else if(b.indexOf(escape("www.vodafone.com.au").toLowerCase())!==-1){switch(d){case"/personal/android/home":case"/personal/android/home/":return"androidHome";case"/personal/mobile-internet":case"/personal/mobile-internet/":return"mobileInternet";case"/personal/tablets/tablets":return"tablets";case"/personal/windows-phone":return"windowsPhone";case"/personal/iphone/home":return"iPhoneHome";case"/personal/plans":return"plans"}if(d.indexOf("/personal/android/samsung-galaxy-")!==-1)return"samsungGalaxy";if(d.indexOf("/personal/samsung")!==-1)return"samsung";if(d.indexOf("/personal/iphone/home/iphone-5")!==-1&&d.indexOf("pricing")!==-1)return"iPhone5xPricing";if(d.indexOf("/personal/mobile-phones")!==-1)return"mobile-phones";if(d.indexOf("red")!==-1)return"red-plan";if(d.indexOf("sim-cards")!==-1)return"sim-cards"}}catch(e){return window.console&&window.console.log&&console.log("error while getting the page name"+e),""}}function T(a){S[a]=1}function U(a){return S[a]?S[a]:0}function W(){var a=escape(parent.document.location.href).toLowerCase();return a.match(escape("vodafone.intelliresponse.com").toLowerCase())!=null?!0:!1}function X(){var a=escape(parent.document.location.href).toLowerCase();return a.match(escape("vodafone.com.au/cart").toLowerCase())==null&&a.match(escape("vodafone.com.au/order-personal-details").toLowerCase())==null&&a.match(escape("vodafone.com.au/order-payment-details").toLowerCase())==null&&a.match(escape("vodafone.com.au/extras/extras").toLowerCase())==null&&a.match(escape("vodafone.com.au:30020/cart").toLowerCase())==null&&a.match(escape("vodafone.com.au:30020/order-personal-details").toLowerCase())==null&&a.match(escape("vodafone.com.au:30020/order-payment-details").toLowerCase())==null&&a.match(escape("vodafone.com.au:30020/extras/extras").toLowerCase())==null||a.match(escape("business").toLowerCase())!=null?"false":"true"}function Y(){var a=escape(parent.document.location.href).toLowerCase();return a.match(escape("vodafone.com.au/cart").toLowerCase())==null&&a.match(escape("vodafone.com.au/upgrades/cart").toLowerCase())==null&&a.match(escape("vodafone.com.au/upgrades/checkout").toLowerCase())==null&&a.match(escape("vodafone.com.au/checkout").toLowerCase())==null&&a.match(escape("vodafone.com.au:30020/cart").toLowerCase())==null&&a.match(escape("vodafone.com.au:30020/upgrades/cart").toLowerCase())==null&&a.match(escape("vodafone.com.au:30020/upgrades/checkout").toLowerCase())==null||a.match(escape("business").toLowerCase())!=null?"false":"true"}function Z(){var a=escape(parent.document.location.href).toLowerCase();return a.match(escape("vodafone.com.au/cart").toLowerCase())!=null||a.match(escape("vodafone.com.au:30020/cart").toLowerCase())!=null?!0:!1}function $(a,b,c){Mc(a,b,c,"b"),SN.CustomScript.setButtonSuppression(b)}function _(a,b,c,d){SN.EventManager.fire("WOWPXAPP_EVENT",{eventId:"400009",fireImmediately:!0,data:{f:{a:{qu:Xd(b)},o:{ii:a,id:"VAU_APP01_01",it:c},p:{cp:parent.location.href,ty:Lc()},v:{pcs:$getTotalVisitCount(),ip:$geoIPAddress(),ct:$geoCity()||"",na:parent.document.location.pathname,ri:b,rc:c,co:$geoCountry()||"",org:$geoOrganization()||"",isp:$geoIsp()||"",wr:$geoRegion()||""}}}})}function ab(a,b,c,d){SN.EventManager.fire("WOWPXAPP_EVENT",{eventId:"11104",fireImmediately:!0,data:{f:{a:{qu:Xd(b)},o:{ii:a,id:"VAU_APP01_01",it:c},p:{cp:parent.location.href,ty:Lc()},v:{pcs:$getTotalVisitCount(),ip:$geoIPAddress(),ct:$geoCity()||"",na:parent.document.location.pathname,ri:b,rc:c,co:$geoCountry()||"",org:$geoOrganization()||"",isp:$geoIsp()||"",wr:$geoRegion()||""}}}})}function db(a,b){try{!$undefinedOrNull(b)&&b!=""&&(bb=b.evalJSON(),t||y(a,b)),cb=!0}catch(c){}}function fb(){return sf&&gb(),eb=ib("puj")||"",eb}function gb(){eb=ib("uj")||"",jb("puj",eb),hb()}function hb(){jb("uj","")}function ib(a){try{return!$undefinedOrNull(bb)&&!$undefinedOrNull(bb[a])?bb[a]:""}catch(b){return""}}function jb(a,b){!$undefinedOrNull(bb)&&typeof bb!="undefined"&&(bb[a]=b,SN.CrossXDataHandler.setLocalStorageItem("persD",JSON.stringify(bb),31536e6,function(a){}))}function kb(a,b,c){if(t&&localStorage.getItem("xdmc")!=null&&localStorage.getItem("xdmc")!="null"){var d=JSON.parse(localStorage.getItem("xdmc"));return d}var e=SN.WOWPx.InviteConf.getContextVarMap();e.vi=SN.SessionManager.getGlobalSession().getVisitorId()||"",e.vg=SN.SessionManager.getGlobalSession().getVisitorGroup()||"",e.queue=Xd(b),e.accountId=zb.accountId,e.server=zb.server,e.caserver=zb.caserver,e.psid=c,e.psid=c,e.ruleId=b;var f=e.ooo;e.ooo=function(){return b=="button_complaints"||b=="vha_button_complaints_page"?nc()||(f="c"):b=="button_intelliresponse"&&(oc()||(f="i")),f}(),e.rc=b.indexOf("button")!=-1?"b":"p",e.chatType=e.rc,e.clid=c,e.appid=a,e.sc=b;if(sb())for(var g in parent.conf)e[g]=escape(parent.conf[g]);return e.btnTyp=e.rc,e.asid=SN.SessionManager.getGlobalSession().getActiveSessionId()|"",e.tpid=SN.SessionManager.getGlobalSession().getTargetPopulationId()|"",jb("ri",b),Oc("ruleId",b),Oc("rc",e.rc),Oc("appId",a),Oc("clid",c),$cookieSet("sn.ct",JSON.stringify(e),{domain:ac()}),SN.CrossXDataHandler.setLocalStorageItem("context",JSON.stringify(e),31536e6,function(a){}),e}function lb(a){SN.CrossXDataHandler.setLocalStorageItem("xdmc",JSON.stringify(a).replace("&","and"),1e6,function(a,b){}),localStorage.setItem("xdmc",JSON.stringify(a).replace("&","and"))}function nb(a,b,c){$undefinedOrNull(parent.VHA_A)||parent.VHA_A.record.push(["247chat",{status:"accepted",type:"reactive"}]);if(ed()!="1"){if(!mb){var c=SN.Utils.getUniqueId();Mc(a,b,c,"b")}ab(c,b,"b",a),!t||b!="button_intelliresponse"&&b!="button_complaints"&&b!="vha_button_complaints_page"&&b!="vha_button_retail_support_page"?gc(a,b,c):Cc(a,b,c)}mb=!1}function ob(){var a=["vodafone.com.au/contact","vodafone.com.au/help/account/billexplainer","vodafone.com.au/plans/international-roaming","vodafone.com.au/personal/test247"],b=parent.document.location.href,c=!1;for(var d=0;d<a.length;d++)b.indexOf(a[d])>-1&&(c=!0);return c}function pb(){var a=parent.document.location.href;return!$undefinedOrNull(a)&&a.toLowerCase().indexOf("vodafone.com.au/contactus2")>-1?"true":"false"}function qb(){var a=parent.document.location.href;return!$undefinedOrNull(a)&&a.toLowerCase().indexOf("compliments-and-complaints")>-1||!$undefinedOrNull(a)&&a.toLowerCase().indexOf("support/contact/complaints")>-1||a.toLowerCase().indexOf("button-test")>-1||pb()=="true"?"1":"0"}function rb(){var a=parent.document.location.href;return!$undefinedOrNull(a)&&a.toLowerCase().indexOf("vodafone.com.au/contact/retail-support")>-1?"1":"0"}function sb(){return parent.location.href.toLowerCase().indexOf("directchat")>-1}function tb(){var a=parent.location.href.toLowerCase();return a.indexOf("vodafone.com.au/prepaid")>-1||a.indexOf("vodafone.intelliresponse.com/index.jsp?requestType=NormalRequest&source=100&id=1355&question=Recharging+your+prepaid+service")>-1?!0:!1}function ub(){return parent.location.href.toLowerCase().indexOf("vodafone.com.au/tracking")>-1}function vb(){var a=parent.location.href.toLowerCase();return a.indexOf("myaccount.myvodafone.com.au/manage_my_plan")>-1||a.indexOf("vodafone.com.au/support/plans/upgrade")>-1}function wb(){var a=parent.location.href.toLowerCase();return a.indexOf("myaccount.myvodafone.com.au/online_sim_replacement/otp")>-1||a.indexOf("myaccount.myvodafone.com.au/online_sim_replacement/new")>-1}function xb(){if("www.vodafone.com.au"!==parent.location.host)return!1;var a=["/support/billing","/support/device","/support/my-vodafone","/support/plans","/support/network","/support/prepaid","/support/sign-up"];for(var b=0;b<a.length;b++)if((new RegExp(a[b]+"(/.*)?$")).test(parent.location.pathname))return!0;return!1}function Sb(a){if(!Array.prototype.indexOf){for(var b=0;b<Rb.length;b++)if(Rb[b]==a)return b;return-1}return Rb.indexOf(a)}function Vb(a){if(!$undefinedOrNull(a)&&Sb(a)>-1)zb.queue=parent.SN.Conf.AQU_QUEUE;else if(!$undefinedOrNull(Jb[a]))zb.queue=Jb[a];else{var b=J[a];$undefinedOrNull(b)?conf=SN.WOWPx.InviteConf.getConfigs(a):conf=SN.WOWPx.InviteConf.getConfigs(b),!$undefinedOrNull(conf)&&!$undefinedOrNull(conf.queue)&&zb&&(zb.ruleIdToQueueMapping[a]=conf.queue)}}function Wb(a){return!$undefinedOrNull(a)&&Sb(a)>-1?!0:!1}function Xb(){return SN.SessionManager.getGlobalSession().getTargetPopulationId()|""}function Yb(){var a=parent.document.domain;return!$undefinedOrNull(a)&&a.indexOf("myaccount.myvodafone.com.au")!==-1?!0:!1}function Zb(a){var b=["button_intelliresponse","vha_pro_track_trace_page","VHA_Service_Rule_5_ContactUs","VHA_Service_Rule_6_BillExplainer","VHA_Service_Rule_7_IntRoaming","VHA_Service_Rule_prepaid","VHA_Service_Rule_8_Tracking","VHA_Service_Rule_9_IntRoaming","VHA_Service_Rule_10_IntRoaming","VHA_Service_Rule_11_Retail","VHA_Service_Rule_12_Intelliresponse","VHA_Service_Rule_myvf_bal","VHA_Service_Rule_myvf_dtusg","VHA_service_Rule_myvf_mngmypl","VHA_Service_Rule_13_nbnservice","VHA_Service_Rule_14_nbnsupport","VHA_Service_Rule_15_nbntrbshting","VHA_Service_Rule_15_nbnbarred","vha_pro_support_complaints","vha_pro_support_billing","vha_pro_support_device","vha_pro_support_myvodafone","vha_pro_support_plans","vha_pro_support_upgrade","vha_pro_support_prepaid","vha_pro_support_signup","vha_button_complaints_page"];return!$undefinedOrNull(a)&&(a.toLowerCase().match("service")||b.indexOf(a.toLowerCase())>-1)?!0:!1}function $b(){var a=parent.document.domain;return!$undefinedOrNull(a)&&a.indexOf("vodafone.com.au")!==-1?!0:!1}function _b(){var a=parent.document.location.pathname;return!$undefinedOrNull(a)&&a.indexOf("/FormContactUs")!==-1?!0:!1}function ac(){var a=parent.document.domain;return!$undefinedOrNull(a)&&a.indexOf("myvodafone.com.au")!==-1?"myaccount.myvodafone.com.au":!$undefinedOrNull(a)&&a.indexOf("vodafone.com.au")!==-1?"vodafone.com.au":!$undefinedOrNull(a)&&a.indexOf("vodafone.intelliresponse.com")!==-1?"vodafone.intelliresponse.com":"force.com"}function bc(){var a=function(){if(t&&parent.document.domain.indexOf("shop.vodafone.com")!==-1)return"shop.vodafone.com.au/static/psp247/247SN.html";if(parent.document.domain.indexOf("vodafone.com")!==-1)return"www.vodafone.com.au/psp247/247SN.html";if(parent.document.domain.indexOf("vodafone.intelliresponse.com")!==-1)return"vodafone.intelliresponse.com/psp247/247SN.html";var a=["staging-vha.cs15.force.com","staging-vha.cs14.force.com"],b="vha.secure.force.com";for(var c=0;c<a.length;c++)parent.document.domain.indexOf(a[c])!=-1&&(b=parent.document.domain);return b+"/resource/1412892367000/tfsSendData/tfsSendData/psp247/247SN.html"}();return a}function cc(){var a=["/nbn","/nbn/plans/about","/business/nbn","/247tag-test1","/247tag-test2"];return parent.location.host=="www.vodafone.com.au"&&a.indexOf(parent.location.pathname)>-1}function dc(){var a=["/support/nbn","/support/nbn/close","/support/nbn/troubleshooting","/support/nbn/barred","/247tag-test3","/support/nbn/change-address","/support/nbn/change-plan","/support/nbn/installation","/support/nbn/offline","/support/nbn/troubleshooting","/support/nbn/wi-fi-hub"];return parent.location.host=="www.vodafone.com.au"&&a.indexOf(parent.location.pathname)>-1}function ec(){var a=["checkout","extras","mobileInternet","OrderPersonalDetails","plans","samsungMobDet","tablets","upgradeextras","upgradesHandList","upgradesUserLogin"],b=["www.vodafone.com.au/personal/hot-offers","shop.vodafone.com.au/cart","www.vodafone.com.au/personal/ipad","shop.vodafone.com.au/mobile-details/iphone-6","shop.vodafone.com.au/mobile-details/iphone-7","www.vodafone.com.au/personal/iphone/iphone-7","www.vodafone.com.au/personal/iphone/iphone-6","www.vodafone.com.au/iphone/iphone-6s","www.vodafone.com.au/iphone/iphone-7","www.vodafone.com.au/iphone","shop.vodafone.com.au/mobile-details/iphone-6s","shop.vodafone.com.au/cart?bundleSku=sku1350811651stgvha","iphone-se","www.vodafone.com.au/personal/wireless-internet/mobile-broadband","shop.vodafone.com.au/mobile-details","samsung-galaxy-s7","www.vodafone.com.au/personal/sim-cards/sim-only/","www.vodafone.com.au/plans/sim-only","shop.vodafone.com.au/tablet-details","www.vodafone.com.au/personal/tablets","shop.vodafone.com.au/upgrades/cart","samsung-galaxy-s8","shop.vodafone.com.au/mobile-details/iphone-8","shop.vodafone.com.au/mobile-details/samsung-galaxy-note8","shop.vodafone.com.au/mobile-details/iphone-x","www.vodafone.com.au/iphone/iphone-8","www.vodafone.com.au/iphone/compare","shop.vodafone.com.au/upgrades#/login/passcode","shop.vodafone.com.au/upgrades/eligibility","www.vodafone.com.au/plans/sim-only","www.vodafone.com.au/iphone/iphone-x","www.vodafone.com.au/android/samsung-galaxy-s9","shop.vodafone.com.au/mobile-details/samsung-galaxy-s9"];if(a.indexOf(R())>-1)return!0;for(var c=0;c<b.length;c++)if(parent.location.href.indexOf(b[c])>-1)return!0;return!1}function fc(){var a=parent.document.location.href,b=parent.document.domain;return ec()||Xc()||cc()||dc()||ob()||tb()||W()||vb()||wb()||ub()||"myaccount.myvodafone.com.au"==b&&/(.*)?myaccount.myvodafone.com.au\/services\/[0-9]+\/data_usage(.*)?/.test(a)||"myaccount.myvodafone.com.au"==b&&/(.*)?myaccount.myvodafone.com.au\/account_balance(.*)?/.test(a)?"1":"0"}function gc(a,b,c){function e(a){return"vha-account-default-queue-Acquisition"==Xd(a)&&"vha_pro_non_au_ip"!==a||ec()?"salesPcf":rb()=="1"?"retailPcf":"servicePcf"}ed()!="1"&&kb(a,b,c);var d=function(){if(parent.document.domain.indexOf("vodafone.com")!==-1)return"www.vodafone.com.au/psp247/247SN.html";if(parent.document.domain.indexOf("vodafone.intelliresponse.com")!==-1)return"vodafone.intelliresponse.com/psp247/247SN.html";var a=["staging-vha.cs15.force.com","staging-vha.cs14.force.com"],b="vha.secure.force.com";for(var c=0;c<a.length;c++)parent.document.domain.indexOf(a[c])!=-1&&(b=parent.document.domain);return b+"/resource/1412892367000/tfsSendData/tfsSendData/psp247/247SN.html"}(),f=function(){return cc()?!1:"sales-docked-button-rule"==b||"vha_pro_non_au_ip"==b?e(b):Zb(b)?"servicePcf":b=="vha_button_retail_support_page"?"retailPcf":"salesPcf"}(),g="https://"+d+"#key="+parent.SN.Conf.CONST_PSP_KEY+"&version="+parent.SN.Conf.CONST_CDN_VERSION+"&cdnPath="+parent.SN.Conf.CDN_DOMAIN+"&pspVersion="+SN.Conf.CONST_PSP_VERSION+"&src=1"+"&up="+parent.SN.Tracker.getUniquePageId()+"&id="+a+"&r=chatApp.gz.js"+"&vi="+SN.ConfigurationManager.getVisitorId()+"&pURL="+encodeURIComponent(parent.location.href)+"&pcf="+f,h="vodafone_LIVE_CHAT",i="width=740,height=590,scrollbars=no,status=no,toolbar=no,menubar=no,location=no,channelmode=no,fullscreen=no,resizable=yes";parent.window.open(g,h,i),ed()!="1"&&ic(),z("1"),SN.CustomScript.setButtonSuppression(b)}function ic(){var a=ib("nsid"),b=ib("intId");if(!$undefinedOrNull(a)&&a!="0"&&a!==""&&!$undefinedOrNull(Bd)&&!$undefinedOrNull(b)&&b!==""){window.clearTimeout(hc),Ad(Bd);return}hc=window.setTimeout(ic,500)}function jc(a){while(a.getUTCDay()<6)a.setUTCDate(a.getUTCDate()+1);return a}function kc(a){var b=jc(new Date(a.getFullYear(),9,1)),c=jc(new Date(a.getFullYear(),3,1));return a>=c&&a<=b}function lc(){var a=$cookieGet("sn.decide")?parseInt($cookieGet("sn.decide")):SN.ConfigurationManager.getServerTimeStamp();if(!$undefinedOrNull(a)){var b=new Date(a),c=20,d=8,e=kc(b)?10:11,f=new Date(a+e*1e3*60*60+b.getTimezoneOffset()*1e3*60),g=f.getHours(),h=f.getDay();return h==6||h==0?!0:!1}return!1}function mc(){var a=$cookieGet("sn.decide")?parseInt($cookieGet("sn.decide")):SN.ConfigurationManager.getServerTimeStamp();if(!$undefinedOrNull(a)){var b=new Date(a),c=20,d=8,e=kc(b)?10:11,f=new Date(a+e*1e3*60*60+b.getTimezoneOffset()*1e3*60),g=f.getHours(),h=f.getDay();return g>=c||g<d||h==6||h==0?!1:!0}return!1}function nc(){var a=$cookieGet("sn.decide")?parseInt($cookieGet("sn.decide")):SN.ConfigurationManager.getServerTimeStamp();if(!$undefinedOrNull(a)){var b=new Date(a),c=0,d=7,e=kc(b)?10:11,f=new Date(a+e*1e3*60*60+b.getTimezoneOffset()*1e3*60),g=f.getHours();if(c<=g&&g<d)return 0}return 1}function oc(){var a=$cookieGet("sn.decide")?parseInt($cookieGet("sn.decide")):SN.ConfigurationManager.getServerTimeStamp();if(!$undefinedOrNull(a)){var b=new Date(a),c=0,d=7,e=kc(b)?10:11,f=new Date(a+e*1e3*60*60+b.getTimezoneOffset()*1e3*60),g=f.getHours();if(c<=g&&g<d)return 0}return 1}function qc(a){var b=parent.document.getElementById("sn-button-main-vha_button_persistent");$undefinedOrNull(b)||(b.style.display=a?"block":"none");var c=parent.document.getElementById("sn-button-main-vha_button_service");$undefinedOrNull(c)||(c.style.display=a?"block":"none")}function rc(a){try{if(pc[a])return;var b=(new Date).getTime(),c=t?"mobilechat":"chatApp",a=a,d=b+"_"+c,e=SN.WOWPx.InviteConf.getConfigs(c);$undefinedOrNull(e)&&(e=SN.WOWPx.InviteConf.getConfigs(a)),t&&e.useMobileButton?Cc(d,a,ib("intId"),Xd(a),0):__wowpx[d]=new SN.WOWPx.UI.WOWPxButtonChat(e,e.parentElementId,c,a),pc[a]=!0,SN.CustomScript.setButtonSuppression(a),U(a)!==1&&SN.EventManager.fire("CUSTOM_TRIGGER_EVENT",{eventId:110001,data:{ruleId:a}})}catch(f){console.log("Attach Button Error : : "+f)}}function tc(){try{if(t){uc(),window.addEventListener?window.addEventListener("storage",vc,!1):window.attachEvent&&window.attachEvent("storage",vc);var a="mobilechat",b=parent.SN.Tracker.getUniquePageId(),c=SN.CustomScript.getCFVCookie("ruleId");SN.CrossXDataHandler.getLocalStorageItem("by247-chat-session-by247",function(d,e){e&&e!=null&&e!="null"&&e!=""&&JSON.parse(e).state==="chatting"&&c&&SN.CustomScript.loadMobileChat(a,c,b)})}sb()&&!sc&&(sc=parent.conf.ruleId,yc("in onBootstrapComp() triggering direct chat"),Nd(sc))}catch(d){console.log("pxfwk.onBootstrapCompleted.error"+d)}}function uc(){try{var a=0,b=["by247-chat-session","by247-chat-session-by247","xdmc","by247-chat-agents"];for(var c=0;c<b.length;c++)SN.CrossXDataHandler.getLocalStorageItem(b[c],function(b,c){if(b){localStorage[b]=c,b=="by247-chat-agents"&&localStorage["by247-chat-agents"]&&localStorage["by247-chat-agents"]!="null"&&Object.keys(localStorage).forEach(function(a){/^by247-chat-agents-/.test(a)&&localStorage.removeItem(a)});if(++a>3){var d,e=localStorage["by247-chat-agents"].split(",");for(var f=0;f<e.length;f++)e[f]!="null"&&(d=e[f]);d&&d!=""?SN.CrossXDataHandler.getLocalStorageItem("by247-chat-agents-"+d,function(a,b){a&&(localStorage[a]=b,wc())}):wc()}}})}catch(d){console.log("error in getMetaDataFromPSPDomain : "+d)}}function vc(a){var b="by247-chat-session-by247~";try{a=a||window.event,a&&a.key&&b.indexOf(a.key+"~")>-1&&SN.CrossXDataHandler.setLocalStorageItem(a.key,a.newValue,1e6,function(){}),a&&a.key&&a.key.indexOf("by247-chat-agents")>-1&&SN.CrossXDataHandler.setLocalStorageItem(a.key,a.newValue,1e6,function(){})}catch(c){console.log("pxfwk.onChatMetaDataChange.error --> "+c.message.toString())}}function wc(){if(Tc())return;var a,b,c,d;a=SN.Constants,b=Pc("ruleId"),isChatOn=ed();var e=JSON.parse(localStorage.getItem("xdmc"));b!=null&&b!=""&b!="xxx"&&isChatOn&&isChatOn==="1"?(localStorage["by247-chat-history"]&&(localStorage["by247-chat-history"]=""),Object.keys(localStorage).forEach(function(a){/^by247-chat-history-/.test(a)&&localStorage.removeItem(a)}),SN.EventManager.fire(a.PAGE_ACTION_EVENT,{eventId:a.SHOW_UI,data:{handlerType:a.EVENT_HANDLER_WOWPX,ruleId:b,appId:"mobilechat"}})):isChatOn&&isChatOn==="1"&&(b==null||b==""||b=="xxx")&&xc(a)}function xc(){var a;SN.CrossXDataHandler.getLocalStorageItem("persD",function(b,c){a=$undefinedOrNull(c)?"":JSON.parse(c).ri,a!=null&&a!=""&a!="xxx"&&(localStorage["by247-chat-history"]&&(localStorage["by247-chat-history"]=""),Object.keys(localStorage).forEach(function(a){/^by247-chat-history-/.test(a)&&localStorage.removeItem(a)}),SN.EventManager.fire(SN.Constants.PAGE_ACTION_EVENT,{eventId:SN.Constants.SHOW_UI,data:{handlerType:SN.Constants.EVENT_HANDLER_WOWPX,ruleId:a,appId:"mobilechat"}}));return})}function yc(a){parent.location.href.toLowerCase().indexOf("directchat")>-1&&parent.location.href.toLowerCase().indexOf("tfs_debug=true")>-1&&console&&console.log&&console.log("DirectChatLog: "+a)}function zc(a){try{yc("in triggerDirectChat()");var b=a,c="mobilechat",d="chatApp",e=parent.conf.clid;if(t)Mc(c,b,e,"b"),ab(e,b,"b",c),Cc(c,b,parent.SN.Tracker.getUniquePageId());else{Mc(d,b,e,"b"),ab(e,b,"b",d),parent.conf.queue=parent.conf.desktopQueue;var f=parent.document.createElement("iframe");f.style.width="1366px",f.style.height="670px",f.style.border="0px",f.style.position="absolute",f.style.top="0",f.async=!0,f.id="directChat_iFrame";var g=parent.document.getElementsByTagName("script")[0];yc("Before creating directChat_iFrame"),parent.document.body.appendChild(f),doc=f.contentWindow.document;var h="//"+SN.Conf.CONST_PSP_CDN_ROOT+"/psp/vha-v1-001/default/"+SN.Conf.CONST_CDN_VERSION+"/chatApp.gz.js";yc("Before adding chatApp.gz.js inside directChat_iFrame"),doc.open().write("<body onload=\"window.documentDomain='"+document.domain+"';var d = document;d.getElementsByTagName('head')[0]."+"appendChild(d.createElement('script')).src"+"='"+h+"';\">"),doc.close()}}catch(i){yc("Error in triggerDirectChat() - "+i)}}function Bc(){if($undefinedOrNull(Ac)){Ac=!1;var a=$geoIPAddress(),b=["58.166.222.228","165.228.171.114","121.96.45.206","120.18.206.109","27.59.115.136","123.136.153.165","106.209.217.232","203.214.166.153","103.23.24.33","103.23.24.34","103.23.26.33","103.23.27.33","103.23.25.33","103.23.25.34","115.97.49.101","125.22.43.16","115.114.50.215","115.98.186.138","115.69.241.15","122.169.95.109"];!$undefinedOrNull(a)&&(a.match("^101.119.57.([1-9]|10)$")!==null||a.match("^119.11.1.([1-9]|10)$")!==null||b.indexOf(a)>-1)&&(Ac=!0)}return Ac}function Cc(a,b,c,d,e){var f={cdnPath:SN.Conf.CONST_PSP_CDN_ROOT,key:"/psp/vha",pspVersion:SN.Conf.CONST_CDN_VERSION+"/"+"mobileChatApp",r:"mobileChatApp.gz.js",cv:"v1",vs:zb.server,ai:zb.accountId,env:_tfsc.env,ca:zb.caserver,qu:Xd(b),type:0,ri:b,appId:"VAU_APP01_01",clid:SN.Utils.getUniqueId()};infoObj={id:a,ri:b,ii:c,qu:Xd(b),type:e};if(typeof __wowpx[a]=="undefined"||__wowpx[a]===null){var g=SN.ConfigurationManager.getWowpxAppConfigs(),h=SN.ConfigurationManager.getWowpxWidgetConfigs(g.mobilechat.widgetConfigName);h.type=h.type||0,h.url="",f.src=h.type,h.params=f,__wowpx[a]=new WoWPxApp(a,h)}__wowpx[a].show()}function Dc(a){try{if(ed()!="0")return;var c=SN.WOWPx.InviteConf.getConfigs(a);if(!$undefinedOrNull(c)&&!$undefinedOrNull(c.checkAvailability)&&c.checkAvailability.required)SN.WOWPx.AssistChatDecider.checkAvailability(a,c.checkAvailability.callBack);else{if(!!$undefinedOrNull(a))return;SN.EventManager.observe(b.CONST_PERIODICAL_EXECUTION_TIMER_EVENT,rc(a))}}catch(d){console.log("error whild handling button rule "+d)}}function Ec(a,b,c){_(c,b,"p",a)}function Fc(a,b,c){zb.queue=parent.SN.Conf.AQU_QUEUE,Ic(a,b,c)}function Gc(a,b,c){zb.queue=yb,Ic(a,b,c)}function Hc(a,b,c){zb.queue=yb,Ic(a,b,c)}function Ic(a,b,c){parent.VHA_A.record.push(["247chat",{status:"accepted",type:"proactive"}]),ab(c,b,"p",a),gc(a,b,c)}function Jc(a,b,c,d){Mc(a,b,c,"p"),SN.CustomScript.setProRuleSuppression(),qf(),Kc(!1)}function Kc(a){var b=parent.document.location.pathname,c=a?"block":"none";if(!$undefinedOrNull(b)&&/\/contact\/?$/.test(b.toLowerCase())){var d=parent.document.getElementById("sn-button-main-vha_button_service");d&&(d.style.display=c)}}function Lc(){try{var a="",b=parent.s?parent.s.eVar31:"";return b.indexOf("D=")!==-1&&(a=parent.s[b.replace("D=","")]),a}catch(c){return""}}function Mc(a,b,c,d){SN.EventManager.fire("WOWPXAPP_EVENT",{eventId:"11103",fireImmediately:!0,data:{f:{a:{qu:Xd(b)},o:{ii:c,id:"VAU_APP01_01",it:d},p:{cp:parent.location.href,ty:Lc()},v:{pcs:$getTotalVisitCount(),ip:$geoIPAddress(),ct:$geoCity()||"",na:parent.document.location.pathname,ri:b,rc:d,co:$geoCountry()||"",org:$geoOrganization()||"",isp:$geoIsp()||"",wr:$geoRegion()||""}}}})}function Nc(a,b,c){parent.VHA_A.record.push(["247chat",{status:"unaccepted",type:"proactive"}]),($undefinedOrNull(b)||b.toLowerCase().match("service")==null)&&Uc("1"),_c(),Kc(!0),SN.EventManager.fire("WOWPXAPP_EVENT",{eventId:"11105",fireImmediately:!0,data:{f:{a:{qu:Xd(b)},o:{ii:c,id:"VAU_APP01_01",it:"p"},p:{cp:parent.location.href,ty:Lc()},v:{pcs:$getTotalVisitCount(),ip:$geoIPAddress(),ct:$geoCity()||"",na:parent.document.location.pathname,ri:b,rc:"p",co:$geoCountry()||"",org:$geoOrganization()||"",isp:$geoIsp()||"",wr:$geoRegion()||""}}}})}function Oc(a,b){var c=Qc("sn.cfv"),d,e=ac();!SN.Utils.isUndefinedOrNull(c)&&c!=""?(d=JSON.parse(decodeURIComponent(c)),typeof d=="object"&&(d[a]=b,Rc("sn.cfv",encodeURIComponent(JSON.stringify(d)),{time:36e5,domain:e}))):(d={},d[a]=b,Rc("sn.cfv",encodeURIComponent(JSON.stringify(d)),{time:36e5,domain:e}))}function Pc(a){var b=Qc("sn.cfv"),c;if(!!SN.Utils.isUndefinedOrNull(b)||b=="")return null;c=JSON.parse(decodeURIComponent(b));if(typeof c=="object")return c[a]}function Qc(a){var b=a+"=",c=document.cookie.split(";");for(var d=0;d<c.length;d++){var e=c[d];while(e.charAt(0)==" ")e=e.substring(1,e.length);if(e.indexOf(b)==0)return e.substring(b.length,e.length)}return null}function Rc(b,c,d){SN.Utils.isUndefinedOrNull(d)&&(d={});var e=[];e.push(a.augmentKeyValuePair(b,c));if(!SN.Utils.isUndefinedOrNull(d.time)){var f=new Date;f.setTime(f.getTime()+d.time),e.push(a.augmentKeyValuePair("expires",f.toGMTString()))}SN.Utils.isUndefinedOrNull(d.path)&&(d.path="/"),e.push(a.augmentKeyValuePair("path",d.path)),SN.Utils.isUndefinedOrNull(d.domain)||e.push(a.augmentKeyValuePair("domain",d.domain)),document.cookie=e.join("; ")}function Sc(a,c){var d=unescape(Qc(a));if(c==null)return d;if(d==null)return null;var e=d.split(b.KEY_SEPERATOR),f=c+b.KEY_VALUE_SEPERATOR;for(var g=0;g<e.length;g++){var h=e[g];if(h.indexOf(f)==0){var i=h.substring(f.length,h.length);return i}}return null}function Tc(){var a=parent.document.domain.toLowerCase(),b=parent.document.location.href.toLowerCase(),c=parent.document.location.pathname.toLowerCase(),d=["/twitter","/facebook","/contact/facebook","/contact/twitter","/search","/support/search"];return a=="www.vodafone.com.au"&&(d.indexOf(c)>-1||/^http(s)?:\/\/www.vodafone.com.au\/$/.test(b))?!0:!1}function Uc(a){Oc("chatD",a)}function Vc(a){Oc("chatI",a)}function Xc(){var a=[].concat.apply([],Object.values(Wc));return parent.location.host=="www.vodafone.com.au"&&a.indexOf(parent.location.pathname)>-1}function Yc(){var a,b;for(a in Wc){b=Wc[a];if(b.indexOf(parent.location.pathname)>-1&&parent.location.host=="www.vodafone.com.au")return a}return null}function Zc(){if(cc()||dc()||Xc())return!1;var a=SN.SessionManager.getGlobalSession().getTargetPopulationId()|"",b=parent.document.domain.toLowerCase(),c=parent.document.location.href.toLowerCase();if(b=="myaccount.myvodafone.com.au")return!1;if(b=="vodafone.intelliresponse.com")return!0;if(c.match("prepaid")!=null||c.match("recharge")!=null||c.match("activat")!=null)return!0;if(b=="www.vodafone.com.au"){if(c.match("network")!=null||c.match("help")!=null||c.match("contact")!=null||c.match("business")!=null||c.match("careers")!=null||c.match("support")!=null||c.match("personal/service-and-repair")!=null||c.match("personal/plans/international-roaming")!=null||c.match("plans/international-roaming")!=null||c.match("tools/locator")!=null||c.match("/twitter")!=null||c.match("/facebook")!=null||c.match("/contact/facebook")!=null||c.match("/contact/twitter")!=null||/^http(s)?:\/\/www.vodafone.com.au\/$/.test(c))return!0;if(a=="6"&&(c.match("personal/add-ons")!=null||c.match("personal/request-a-callback")!=null||c.match("personal/android/home")!=null))return!0}if(b=="shop.vodafone.com.au"){if(a=="6"&&(c.match("broadband-details/usb-3g-white")!=null||c.match("all-broadbands")!=null||c.match("tablet-details/ipad")!=null))return!0;if(a=="6"&&c.match("mobile-details")!=null&&c.match("mobile-details/iphone")==null&&c.match("mobile-details/samsung")==null&&c.match("mobile-details/htc")==null&&c.match("mobile-details/huawei")==null&&c.match("mobile-details/moto-x")==null&&c.match("mobile-details/sony")==null&&c.match("cid")==null)return!0}return b=="support.vodafone.com.au"?!0:sb()?!0:c.match("service")!=null&&c.match("cid")==null?!0:!1}function _c(){if(Zc())return;$c==0&&(zb.queue=Yc()||zb.queue,$c=1,SN.CustomScript.attachButtonForRule("sales-docked-button-rule"))}function ad(){var a=cd(),b=dd();(a>0||b>0)&&_c()}function bd(a){SN.WOWPx.Controller.removeProInvite(),($undefinedOrNull(a)||a.toLowerCase().match("service")==null)&&Vc(1),_c(),Kc(!0)}function cd(){var a=Pc("chatD");return $undefinedOrNull(a)?"0":a}function dd(){var a=Pc("chatI");return $undefinedOrNull(a)?"0":a}function ed(){if(sb()||Tc())return"1";var a=ib("tfsOnChat");return!$undefinedOrNull(a)&&a!==""?a:"0"}function fd(){var a,b="D";return parent.SN&&parent.SN.UserAgentParser&&parent.SN.UserAgentParser.getDeviceDetails&&(a=parent.SN.UserAgentParser.getDeviceDetails(),a.indexOf("~M~")>0?b="M":a.indexOf("~T~")>0&&(b="T")),b}function gd(a){Oc("intDone",a)}function hd(){var a=Pc("intDone");return $undefinedOrNull(a)?"0":a}function id(){var a=Sc("sn.vi","as"),b=Pc("as");b!=a&&(Uc("0"),Vc("0"),gd("0")),Oc("as",a)}function jd(){btnShown=1}function md(a){try{var b={};if(!$undefinedOrNull(a)&&a!=""){var c=$undefinedOrNull(a.products)?"":a.products;c===""&&SN.loadTrackingScript("productsNotFoundInConversionData","","",SN.Conf.CUSTOM_TRACK_SERVER,SN.Conf.CONST_PSP_KEY,SN.Constants.LOGLEVEL_ERROR),b.orderID=function(){var b=$undefinedOrNull(a.purchaseID)?"":a.purchaseID;return b===""&&SN.loadTrackingScript("purchaseIdNotFound","","",SN.Conf.CUSTOM_TRACK_SERVER,SN.Conf.CONST_PSP_KEY,SN.Constants.LOGLEVEL_ERROR),b}(),b.totalAmount=function(){try{var a=0,d=c!=""?c.length:0,e=new RegExp("^UP"),f=$undefinedOrNull(b.orderID)?!1:e.test(b.orderID);for(var g=0;g<d;g++)if(!$undefinedOrNull(c[g])&&!$undefinedOrNull(c[g].minTotalCost)){var h=$undefinedOrNull(c[g].term)?1:parseInt(c[g].term);f?a+=parseFloat(c[g].minTotalCost*h):a+=parseFloat(c[g].minTotalCost)}else a+=0,SN.loadTrackingScript("minTotalCostNotFound","","",SN.Conf.CUSTOM_TRACK_SERVER,SN.Conf.CONST_PSP_KEY,SN.Constants.LOGLEVEL_ERROR);return $undefinedOrNull(a)&&(a=0),a}catch(i){return SN.loadTrackingScript("NotAbleToGetTotalAmount","","",SN.Conf.CUSTOM_TRACK_SERVER,SN.Conf.CONST_PSP_KEY,SN.Constants.LOGLEVEL_ERROR),0}}(),b.noOfUnits=function(){try{var a=0,b=c!=""?c.length:0;for(var d=0;d<b;d++){var e=c[d].unitCount?parseInt(c[d].unitCount):1;a+=e}return a}catch(f){return SN.loadTrackingScript("unitCountMissing","","",SN.Conf.CUSTOM_TRACK_SERVER,SN.Conf.CONST_PSP_KEY,SN.Constants.LOGLEVEL_ERROR),0}}()}return b}catch(d){SN.loadTrackingScript("clientDataNotFound","","",SN.Conf.CUSTOM_TRACK_SERVER,SN.Conf.CONST_PSP_KEY,SN.Constants.LOGLEVEL_ERROR),console&&console.log&&console.log("Error in parsing client Data: "+d)}}function nd(){var a=escape(parent.document.location.href).toLowerCase(),b={};try{sd()?(b.orderID=parent.s.purchaseID||parent.s.transactionID||"",b.totalAmount=parent.s.products?parent.s.products.split(";")[3]:"",b.noOfUnits=parent.h3gOrderQuantityJS||""):td()?(b.orderID=parent.s.eVar56||"",b.totalAmount=parent.s.products.split("event29=")[1]||"",b.noOfUnits=""):ud()&&vd(parent,"s.tfs.VHA_A.sc.s_copy.purchaseID".split("."))&&(b.orderID=parent.s.tfs.VHA_A.sc.s_copy.purchaseID||"",b.totalAmount="",b.noOfUnits=""),!$undefinedOrNull(b.totalAmount)&&b.totalAmount!=""&&(b.totalAmount=parseFloat(b.totalAmount))}catch(c){console.log("conver var "+c)}return b}function od(){return Pc("conversion")||0}function pd(a){Fd=!0;var b=a?md(a):nd();SN.EventManager.fire("WOWPXAPP_EVENT",{eventId:"11122",fireImmediately:!0,data:{f:{ed:{intid:ib("intId")},a:{qu:Xd(ib("ri"))},o:{ii:Pc("clid")||"",id:"VAU_APP01_01"},p:{cp:parent.location.href},v:{pcs:$getTotalVisitCount(),ip:$geoIPAddress(),ct:$geoCity()||"",na:parent.document.location.pathname,ri:ib("ri"),rc:Pc("rc"),co:$geoCountry()||"",org:$geoOrganization()||"",isp:$geoIsp()||"",wr:$geoRegion()||""},u:{am:b.totalAmount,pi:b.orderID,on:b.noOfUnits},c:{numprod:b.noOfUnits}}}}),SN.EventManager.fire("WOWPXAPP_EVENT",{eventId:"400110",fireImmediately:!0,data:{f:{ed:{intid:ib("intId")},a:{qu:Xd(ib("ri"))},o:{ii:Pc("clid")||"",id:"VAU_APP01_01"},p:{cp:parent.location.href},v:{pcs:$getTotalVisitCount(),ip:$geoIPAddress(),ct:$geoCity()||"",na:parent.document.location.pathname,ri:ib("ri"),rc:Pc("rc"),co:$geoCountry()||"",org:$geoOrganization()||"",isp:$geoIsp()||"",wr:$geoRegion()||""},u:{am:b.totalAmount,pi:b.orderID,on:b.noOfUnits},c:{numprod:b.noOfUnits}}}}),Oc("conversion",1)}function qd(){var a=escape(parent.document.location.host+""+parent.document.location.pathname).toLowerCase();return a.match(escape("vodafone.com.au/thank-you").toLowerCase())!=null||a.match(escape("vodafone.com.au/upgrades/confirmation").toLowerCase())!=null||a.match(escape("shop.vodafone.com.au/prepaid/confirmation").toLowerCase())!=null?!0:!1}function rd(){var a=escape(parent.document.location.host+""+parent.document.location.pathname).toLowerCase();return a.match(escape("vodafone.com.au:30020").toLowerCase())!=null?!0:!1}function sd(){var a=escape(parent.document.location.host+""+parent.document.location.pathname).toLowerCase();return a.match(escape("vodafone.com.au/thank-you").toLowerCase())!=null||a.match(escape("vodafone.com.au:30020/thank-you").toLowerCase())!=null?!0:!1}function td(){var a=escape(parent.document.location.host+""+parent.document.location.pathname).toLowerCase();return a.match(escape("vodafone.com.au/upgrades/confirmation").toLowerCase())!=null||a.match(escape("vodafone.com.au:30020/upgrades/confirmation").toLowerCase())!=null?!0:!1}function ud(){var a=escape(parent.document.location.host+""+parent.document.location.pathname).toLowerCase();return a.match(escape("shop.vodafone.com.au/prepaid/confirmation").toLowerCase())!=null||a.match(escape("vodafone.com.au:30020/prepaid/confirmation").toLowerCase())!=null?!0:!1}function vd(a,b){var c=b.shift();return a[c]&&(!b.length||vd(a[c],b))}function wd(){if(sd()&&!$undefinedOrNull(parent.s)&&!$undefinedOrNull(parent.s.purchaseID)||!$undefinedOrNull(parent.s.eVar56)&&td()||ud()&&vd(parent,"s.tfs.VHA_A.sc.s_copy.purchaseID".split("."))){pd();return}window.setTimeout(wd,500)}function zd(){if(Gd&&Md("conversionData")&&Hd&&(cb||yd>10)){pd(Md("conversionData")),yd=0;return}yd++;if(!Hd||!cb)xd=window.setTimeout(zd,500)}function Ad(a,b){var c,d,e,f,g,h="NO_INIT",i=zb;if(i&&i.server&&a){c=i.server,e=ib("intId"),f=ib("nsid"),g=zb.queue,a.queue=g;if(e&&f&&g&&ed()=="1"){d="https://"+c+"/cb/vs/rest/visitorSession/"+f+"/interaction/"+e+"/context";try{h=Nemo.Ajax.Jsonp({url:d,content:{visitorInfo:JSON.stringify(a)},load:function(a){var b=a.status||{},c=a.data||{};b.code!=0},error:function(a){console.log(a)}})}catch(j){console.log(j,"--update Context")}}}}function Cd(a,b){var c=parent.document.title,d="!@#$^&%*()+=-[]/{}|:<>?,.&";for(var e=0;e<d.length;e++)c=c.replace(new RegExp("\\"+d[e],"gi"),"");var f={},g,h,i,j=5,k,l=SN.ConfigurationManager.getServerTimeStamp();i={title:c,url:Ed(top.location.href),time:10,order:l,loadts:l},b?(h=b.evalJSON(),h&&(h.length>=j&&h.shift(),h.push(i))):h=[i],f.urls=Bd.urls=h,SN.CrossXDataHandler.setLocalStorageItem("urls",JSON.stringify(h),31536e6,function(a){}),k=Ad(f),k==="JSONP_TOO_MUCH_DATA"&&(f.urls=[i],k=Ad(f))}function Dd(a){return typeof a=="string"&&(a=a.replace(/%25/g,""),a=a.replace(/%+/g,"%")),a}function Ed(a){if(a){var b=a.indexOf("?");b==-1&&(b=a.indexOf("#")),b>-1&&(a=a.substr(0,b))}return a}function Id(a){$undefinedOrNull(xd)||clearTimeout(xd),Kd(a);var b={c:{}};try{for(var c in a)a.hasOwnProperty(c)&&(b.c[c]=a[c])}catch(d){}Fd||zd(),SN.PSPCustomTrackingUtil.fireCustomEvent(b,"","400100")}function Jd(a){try{if(typeof a!="object")return!0;for(var b in a)if(!$undefinedOrNull(a[b]))return!1;return!0}catch(c){return!0}}function Kd(a){Ld(a,Gd)}function Ld(a,b){if(a){b=b||{};for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c])}}function Md(a){if(!$undefinedOrNull(a))return Gd[a]}function Nd(a){var b="rule",c=11e4,d="pageevent",e=SN.EventManager,f=SN.ConfigurationManager,g=c,h={};h.eventId=g;var i={},j={};j.ruleId=a,i.ed=j,i.ruleId=a;var k=f.getTrackableRuleVariables(g,a);$undefinedOrNull(k)||(i.r=k);var l=f.getTrackableFSMVariables(g,a);$undefinedOrNull(l)||(i.f=l,$undefinedOrNull(i.f.v)&&(i.f.v={}),i.f.v.ri=a,i.f.v.rc=sb()?"b":"p",i.f.a={qu:Xd(a)},$undefinedOrNull(i.f.p)&&(i.f.p={}),$undefinedOrNull(i.f.p.cp)&&(i.f.p.cp=parent.location.href)),h.data=i,h.sr=b,e.fire(d,h)}function Od(){return ed()==="0"&&cd()==="0"&&hd()==="0"&&D()===0?!0:!1}function Rd(){if(!Od()){$undefinedOrNull(Pd)||window.clearTimeout(Pd),Qd=!0;return}Qd=!1,Pd=window.setTimeout(function(){Rd()},1e4)}function Td(){parent.jQuery&&(parent.jQuery("i.fa-thumbs-down").length!=-1?(window.clearTimeout(Sd),parent.jQuery("i.fa-thumbs-down").click(function(){Od()&&Qd&&Rd()})):Sd=window.setTimeout(Td,500))}function Wd(a){switch(a){case"LOADED":console.log("loaded"),SN.WOWPx.MessageChannelMain.sendMessage({cmd:"chatParams",dt:Vd})}}function Xd(a){if(!$undefinedOrNull(zb)){if(!$undefinedOrNull(zb.ruleIdToQueueMapping)&&!$undefinedOrNull(zb.ruleIdToQueueMapping[a]))return zb.ruleIdToQueueMapping[a];if(!$undefinedOrNull(zb.queue))return zb.queue}return""}function Yd(){var a=Qc("sn.chat.config"),b={};return $undefinedOrNull(a)?null:(b.caserver=Sc("sn.chat.config","caserver"),b.queue=Sc("sn.chat.config","queue"),b.server=Sc("sn.chat.config","server"),b.accountId="vha-account-default",b)}function Zd(){var a=Yd();a!=null&&($undefinedOrNull(a.caserver)||(zb.caserver=a.caserver),$undefinedOrNull(a.queue)||(zb.queue=a.queue),$undefinedOrNull(a.server)||(zb.server=a.server),$undefinedOrNull(a.accountId)||(zb.accountId=a.accountId))}function $d(){return zb}function _d(a){var b=parent.document.getElementById(a);return!$undefinedOrNull(b)&&qb()=="1"?1:!$undefinedOrNull(b)&&mc()?1:0}function ae(a){var b=parent.document.getElementById(a);return $undefinedOrNull(b)?0:1}function ne(a,b){if(typeof b=="string"){var c=b.split(".");if(c.length>0){var d=c.pop(),e=be,f=c.length;for(var g=0;g<f;g++)$undefinedOrNull(e[c[g]])&&(e[c[g]]={}),e=e[c[g]];$undefinedOrNull(a)||(e[d]=a)}}}function oe(){try{if(!$undefinedOrNull(parent.authenticator)){var a=parent.authenticator,b=ib("loggedInPast");return a.isLoggedIn()?(($undefinedOrNull(b)||b=="")&&jb("loggedInPast",le),1):(($undefinedOrNull(b)||b=="")&&jb("loggedInPast",me),0)}return($undefinedOrNull(b)||b=="")&&jb("loggedInPast",me),0}catch(c){SN.Utils.error("Could not check parent.authenticator availability - ",c)}}function pe(){var a=oe()||0,b=qe()||0;SN.EventManager.fire("WOWPXAPP_EVENT",{eventId:ge,fireImmediately:!0,data:{f:{a:{qu:Xd(ib("ri"))},p:{cp:parent.location.href,ty:Lc()},v:{wl:b},c:{c39:a}}}})}function qe(){try{var a=ib("loggedInPast");return!$undefinedOrNull(a)&&a!==""?a:0}catch(b){return SN.Utils.error("Could not check past login - ",b),0}}function se(){re={},!$undefinedOrNull(parent.angular)&&!$undefinedOrNull(parent.angular.element(".col1-wide").scope())&&!$undefinedOrNull(parent.angular.element(".col1-wide").scope().cartcontent)&&(re=parent.angular.element(".col1-wide").scope().cartcontent)}function te(){try{$undefinedOrNull(re)&&se();if(!$undefinedOrNull(re.bundledItems)){var a=re.bundledItems,b=[];for(i in a){var c=a[i].device.displayName,d=a[i].device.selectedSku.capacity;!$undefinedOrNull(d)&&!$undefinedOrNull(c)?b.push(c+" "+d):$undefinedOrNull(d)&&b.push(c)}return b.join(" | ")}return""}catch(e){SN.Utils.error("Could not check the products in Cart - ",e)}}function ue(){try{$undefinedOrNull(re)&&se();if(!$undefinedOrNull(re.bundledItems)){var a=re.bundledItems;return a.length}return""}catch(b){SN.Utils.error("Could not get the count of items in cart - ",b)}}function ve(){try{$undefinedOrNull(re)&&se();if(!$undefinedOrNull(re.bundledItems)){var a=re.bundledItems,b=[];for(i in a){var c=a[i].formattedMonthlyAmountInclGst;c==0?b.push("No extra cost"):b.push("$"+c)}return b.join(" | ")}return""}catch(d){SN.Utils.error("Could not get the value of product in cart - ",d)}}function we(){try{$undefinedOrNull(re)&&se();if(!$undefinedOrNull(re.bundledItems)){var a=re.bundledItems,b=[];for(i in a){var c=a[i].plan.price.monthlyAmountInclGst;b.push("$"+c+" Plan")}return b.join(" | ")}return""}catch(d){SN.Utils.error("Could not get the plan in cart - ",d)}}function xe(){try{return $undefinedOrNull(re)&&se(),$undefinedOrNull(re.totalMonthlyPrice)?"":"$"+re.totalMonthlyPrice}catch(a){SN.Utils.error("Could not get the total amount in cart - ",a)}}function ye(){try{var a=document.location.href.split("&")[0],b=ib("lastVisitedUrl");if($undefinedOrNull(b))return jb("lastVisitedUrl",a),"missing";if(!$undefinedOrNull(b))return jb("lastVisitedUrl",a),b}catch(c){SN.Utils.error("Could not get the last visit in cart - ",c)}}function ze(){try{var a=ib("cpc");!$undefinedOrNull(a)&&a!==""?jb("ppc",a):jb("ppc",jf),jb("cpc",jf),sf&&Ae()}catch(b){}}function Ae(){try{var a=parseInt(SN.SessionManager.getGlobalSession().getActiveSessionId()||1);if(a==1)return;var b=ib("ppc");b==""&&(b=ib("cpc")),!$undefinedOrNull(b)&&b!=""&&jb("lvpcs",b)}catch(c){}}function Be(){var a=ib("lvpcs");return $undefinedOrNull(a)||a==""?"missing":a}function Ce(a){try{var b="";if($undefinedOrNull(a)){if(!$undefinedOrNull(ke)){var c=document.location.href;if(ke=="samsungMobSpec"||ke=="samsungMobDet"||ke=="mobile-details")b=he.newCust,ne(b,ce.customerType);if(ke=="upgrades"||c.indexOf("upgrades")!=-1)b=he.existing}return b}var d=a.target,e=d.innerText.trim().toLowerCase();e=="view plans"?b=he.newCust:e=="upgrade"&&(b=he.existing),ne(b,ce.customerType),Ee(be,de)}catch(f){return SN.Utils.error("Could not get customer type - ",f),""}}function De(a,b,c){try{if(a.length>0)for(var d=0;d<a.length;d++)a[d].addEventListener?a[d].addEventListener(c,b):a[d].attachEvent&&a[d].attachEvent("on"+c,b)}catch(e){return SN.Utils.error("Event didn't captured - ",e),""}}function Ee(a,b){SN.EventManager.fire("WOWPXAPP_EVENT",{eventId:b.toString(),fireImmediately:!0,data:a})}function Fe(a){try{var b="";$undefinedOrNull(a)?b=parent.jQuery(".spl-dfj-filters-col-radio input:checked").val():b=parent.jQuery(a.target).val(),b=b.toLowerCase(),$undefinedOrNull(ie[b])||ne(ie[b],ce.productPhone);if($undefinedOrNull(a))return $undefinedOrNull(ie[b])?"":ie[b];$undefinedOrNull(ie[b])||Ee(be,de)}catch(c){return SN.Utils.error("Could not get product type - ",c),""}}function Ge(a){try{var b=parent.jQuery(".spl-dfj-filters-col-dropdown select.brand").val();!$undefinedOrNull(b)&&b==""&&(b="All brands"),$undefinedOrNull(b)||ne(b,ce.brand);if($undefinedOrNull(a))return $undefinedOrNull(b)?"":b;Ee(be,de)}catch(c){return SN.Utils.error("Could not get the brand - ",c),""}}function He(a){try{var b=parent.jQuery(".spl-dfj-filters-col-dropdown select.sortType").val();$undefinedOrNull(b)||(b=b.toLowerCase(),ne(je[b],ce.priceRange));if($undefinedOrNull(a))return $undefinedOrNull(je[b])?"":je[b];$undefinedOrNull(b)||Ee(be,de)}catch(c){return SN.Utils.error("Could not get the price range - ",c),""}}function Ie(a){try{var b=parent.jQuery("#listCapacities").scope(),c="";b&&b.selectedCapacity&&(c=b.selectedCapacity,ne(c,ce.productCapacity));if($undefinedOrNull(a))return ke=="samsungMobSpec"||ke=="samsungMobDet"||ke=="mobile-details"?c:""}catch(d){SN.Utils.error("Could not get the product capacity - ",d)}}function Je(a){try{var b=parent.jQuery(".capacity-color").scope(),c="";b&&b.selectedColor&&(c=b.selectedColor,ne(c,ce.productColor));if($undefinedOrNull(a))return ke=="samsungMobSpec"||ke=="samsungMobDet"?c:""}catch(d){return SN.Utils.error("Could not get the product color - ",d),""}}function Me(a,b){try{var c=parent.jQuery(".total-monthly-cost .plan-value").text().trim();if(c!=a||Le==5){b(c),Le=0;return}if(Le<5){Le+=1;var d=setTimeout(function(){Me(a,b)},Ke)}}catch(e){return SN.Utils.error("failed to check for updated value - ",e),""}}function Oe(a,b){try{var c=parent.jQuery("#deliveryTimeResponse").text().trim();if(c!=a||Ne==5){b(c),Ne=0;return}if(Ne<5){Ne+=1;var d=setTimeout(function(){Oe(a,b)},Ke)}}catch(e){return SN.Utils.error("failed to check for updated value - ",e),""}}function Pe(a){try{var b=parent.jQuery(".total-monthly-cost .plan-value");b.length>0&&(recommendation=b.text()),ne("$"+recommendation,ce.recommPlan);if($undefinedOrNull(a))return ke=="samsungMobSpec"||ke=="samsungMobDet"||ke=="mobile-details"?"$"+recommendation:"";$undefinedOrNull(a)||(Le=0,Me(recommendation,function(a){ne("$"+a,ce.recommPlan),Ee(be,de);var b=parent.jQuery(".capacity-color button");return De(b,Je,"click"),De(b,Pe,"click"),""}))}catch(c){return SN.Utils.error("Could not get the plan recommendation - ",c),""}}function Qe(){try{var a=parent.jQuery("#postCode"),b="";$undefinedOrNull(a)||(b=a.val()),ne(b,ce.zipCode)}catch(c){SN.Utils.error("Could not get Delivery Est ZipCode - ",c)}}function Re(){try{var a=parent.jQuery("#deliveryTimeResponse"),b="";a&&(b=a.text().trim()),Ne=0,Oe(b,function(a){var a=a.replace(/\n +(?= )/g,"").split(" ");for(var b=0;b<a.length;b++)(a[b]==""||a[b]==" ")&&a.splice(b,1);a=a.join(" ").toLowerCase(),a!="please enter postcode"&&ne(a,ce.deliveryTimeEst)})}catch(c){SN.Utils.error("Could not get Delivery Est time - ",c)}}function Se(a){try{var b=[];parent.jQuery(a.target).parent().find(".custom-radio span").each(function(a,c){b.push(parent.jQuery(this).text().trim())}),ne(b.join(" | "),ce.planExtraSelected),Ee(be,de)}catch(c){SN.Utils.error("Could not get Delivery Est time - ",c)}}function Ue(a){try{Te+=1,ne(Te,ce.scrolCount),Ee(be,de)}catch(b){SN.Utils.error("Could not get scroll count - ",b)}}function Ve(a){try{if(!$undefinedOrNull(a)){var b=a.target.innerText.trim();b.toLowerCase().indexOf("no")!=-1&&(b="No"),ne(b,ce.device),Ee(be,de)}}catch(c){SN.Utils.error("Could not get device req - ",c)}}function We(a){try{if(!$undefinedOrNull(a.target)){var b=a.target.innerText.trim();ne(b,ce.planDuration),Ee(be,de)}}catch(c){SN.Utils.error("Could not get plan duration - ",c)}}function Ze(a){try{var b;if(t)var c=a.originalEvent.touches[0].clientY;else var c=a.clientY;if(c>b+20){Ye=!1;return}if(c<b-20){Ye=!1;return}b=c,Ye=!0}catch(d){SN.Utils.error("Could not get plan choosen - ",d)}}function $e(a){try{Ye=!1;var b=parent.jQuery('.pricing-card-active:not(".pricing-card-filtered") .price .prefix').text().trim(),c=parent.jQuery('.pricing-card-active:not(".pricing-card-filtered") .price .amount').text().trim(),d=parent.jQuery('.pricing-card-active:not(".pricing-card-filtered") .price .month').text().trim();c=b+c+" "+d,Xe.push(c),Xe=parent.jQuery.unique(Xe),Xe=parent.jQuery.grep(Xe,function(a){return a!=c}),Xe.push(c),ne(Xe.join(" | "),ce.choosePhone)}catch(e){SN.Utils.error("Could not get plan choosen - ",e)}}function _e(a){try{var b=parent.jQuery('.pricing-card-active:not(".pricing-card-filtered") .price .prefix').text().trim(),c=parent.jQuery('.pricing-card-active:not(".pricing-card-filtered") .price .amount').text().trim(),d=parent.jQuery('.pricing-card-active:not(".pricing-card-filtered") .price .month').text().trim();c=b+c+" "+d,Xe.push(c),Xe=parent.jQuery.unique(Xe),Xe=parent.jQuery.grep(Xe,function(a){return a!=c}),Xe.push(c),ne(Xe.join(" | "),ce.choosePhone),Ee(be,de)}catch(e){SN.Utils.error("Could not get plan choosen - ",e)}}function af(a){try{if(!$undefinedOrNull(a)){var b=a.target.innerText.trim();ne(b,ce.simType),Ee(be,fe)}}catch(c){SN.Utils.error("Could not get sim type - ",c)}}function cf(){try{ne(1,ce.saveCart),Ee(be,ee)}catch(a){SN.Utils.error("Could not get click on save cart - ",a)}}function df(){try{if(ke=="cart"){var a=parent.jQuery('#applyPromoCodeForm input[name="promo-code"]').val();return $undefinedOrNull(a)?"":a}return""}catch(b){SN.Utils.error("Could not get promotional code - ",b)}}function ef(){try{var a=SN.SessionManager.getGlobalSession().getActiveSessionId()||1;return parseInt(a)}catch(b){SN.Utils.error("Could not get active session value - ",b)}}function ff(){try{var a="",a=Pc("ir")||document.referrer;return a}catch(b){SN.Utils.error("Could not get initial referrer url value - ",b)}}function gf(){try{var a=parent.SN.UserAgentParser.getBrowserDetails()||"";return a}catch(b){SN.Utils.error("Could not get browser details - ",b)}}function hf(){try{var a=parent.SN.UserAgentParser.getOSType()||"";return a}catch(b){SN.Utils.error("Could not get OS details - ",b)}}function kf(a,b){if(document.domain.match("vodafone.com.au")!==null)return;jb(a,b)}function lf(a){if(document.domain.match("vodafone.com.au")==null)return"";var b=ib(a);return jb(a,""),!$undefinedOrNull(b)&&b!==""?b:""}function mf(){try{var a=ib("uj")||"";a==""?(jb("uj",jf),jb("lpc",jf)):(userJourneyArr=a.split("|"),userJourneyArr.length>19&&(userJourneyArr.shift(),a=userJourneyArr.join("|")),a+="|"+jf,jb("uj",a))}catch(b){}}function nf(){var a=ib("lpc")||"";return a}function of(){var a=ib("uj")||"";return a}function pf(){var a=0;try{a=Pc("pic")||0}catch(b){pSp_Console("customScript::getProactiveInviteCount.fire.error --> "+b.message.toString())}return a}function qf(){try{Oc("pic",parseInt(Pc("pic"))+1||1)}catch(a){pSp_Console("customScript::setProactiveButtonShown.fire.error --> "+a.message.toString())}}function rf(){var a=parent._tfsc.j("sn.country")||"";return a==""&&(a=$geoCountry()||""),a}function tf(){var a=function(){var a=new Date,b,c=a.getTime(),d=a.getYear(),e=function(a,b){return(b.match("(^|; )"+a+"=([^;]*)")||0)[2]},f=function(a){return(a.match("([^|]*)|([^|]*)")||0)[1]};return a.setTime(c+2592e6),e("s_pers",document.cookie)?(b=f(e("s_nr",unescape(e("s_pers",document.cookie)).trim())),b.length==0?"New":b.length!=0&&c-b<18e5?"New":b<1123916400001?(a.setTime(b+2592e6),"Repeat"):"Repeat"):"New"},b=function(){var a,b=function(a,b){return(b.match("(^|; )"+a+"=([^;]*)")||0)[2]},c=function(a){return(a.match("([^|]*)|([^|]*)")||0)[1]};return!b("s_pers",document.cookie)||!b("s_pers",document.cookie)?!1:b("s_prop66",unescape(b("s_pers",document.cookie)).trim())?(a=c(b("s_prop66",unescape(b("s_pers",document.cookie)).trim())),a==="Customer"?!0:!1):!1};return b()?"Customer":a()=="Repeat"?"Repeat":"New-visit"}var a=SN.Utils,b=SN.Constants,c=SN.PSPCustomTrackingUtil,d=1e3,e=400,f=200,g=100,h=SN.WebPageFilter,j=h.filterTypeEnum.NONE,k={},l={},m=[],n=[];if(document.all&&!window.setTimeout.isPolyfill){var o=window.setTimeout;window.setTimeout=function(a,b){var c=Array.prototype.slice.call(arguments,2);return o(a instanceof Function?function(){a.apply(null,c)}:a,b)},window.setTimeout.isPolyfill=!0}var t=parent.SN.UserAgentParser.getDeviceDetails().search(/~M~|~T~/)!=-1?!0:!1,w,C=0,F,J={},L=["VHA_Service_Rule_1","VHA_Service_Rule_2","VHA_Service_Rule_3","VHA_Service_Rule_4"];K(J,L,"vha_pro_service");var M=["vha_pro_home","vha_pro_typeAllMob","vha_pro_androidHome","vha_pro_windowsPhone","vha_pro_compareMob","vha_pro_home_TP2","vha_pro_typeAllMob_TP2","vha_pro_androidHome_TP2","vha_pro_mobileInternet_TP2","vha_pro_tablets_TP2","vha_pro_windowsPhone_TP2","vha_pro_compareMob_TP2","vha_pro_typeContractMob_TP2","vha_pro_extras_TP2","vha_pro_hotOffers_TP2","vha_pro_plans_TP2","vha_pro_iPhoneHome_TP2","vha_pro_typeContractMob","vha_pro_iPhoneHome"];K(J,M,"vha_pro_find");var N=["vha_pro_cart_TP2","vha_pro_upgradescart_TP2","vha_pro_upgradesUserLogin_TP2","vha_pro_orderPaymentDetails_TP2","vha_pro_orderPersonalDetails_TP2","vha_pro_checkout_TP2","vha_pro_upgradesExtras_TP2","vha_pro_upgradesHandList_TP2","vha_pro_orderPaymentDetails"];K(J,N,"vha_pro_checkout"),J.vha_pro_non_au_ip="Invite_1";var O=["vha_pro_track_trace_page","VHA_Service_Rule_5_ContactUs","VHA_Service_Rule_6_BillExplainer","VHA_Service_Rule_7_IntRoaming","VHA_Service_Rule_prepaid","VHA_Service_Rule_8_Tracking","VHA_Service_Rule_9_IntRoaming","VHA_Service_Rule_10_IntRoaming","VHA_Service_Rule_11_Retail","VHA_Service_Rule_12_Intelliresponse","VHA_Service_Rule_myvf_bal","VHA_Service_Rule_myvf_dtusg","VHA_service_Rule_myvf_mngmypl","VHA_Service_Rule_13_nbnservice","VHA_Service_Rule_14_nbnsupport","VHA_Service_Rule_15_nbntrbshting","VHA_Service_Rule_15_nbnbarred","vha_pro_support_complaints","vha_pro_support_billing","vha_pro_support_device","vha_pro_support_myvodafone","vha_pro_support_plans","vha_pro_support_upgrade","vha_pro_support_prepaid","vha_pro_support_signup"];K(J,O,"Service_invite_2");var P=["vha_pro_checkout","vha_pro_extras","vha_pro_hotOffers","vha_pro_mobileInternet","vha_pro_orderPersonalDetails","vha_pro_plans","vha_pro_tablets","vha_pro_upgradesExtras","vha_pro_upgradesHandList","vha_pro_upgradesUserLogin","vha_pro_ipad_Spec_newlaunch","vha_pro_iPhone_Prodpg_newlaunch","vha_pro_iPhone_Spec_newlaunch","vha_pro_iphone_spec_landingpage","vha_pro_iphone_product_page","vha_pro_iphone-se","vha_pro_MobileBB_Plan","vha_pro_productPages","vha_pro_samsung_galaxy_s7","vha_pro_samsungMobDet","vha_pro_SimOnly","vha_pro_TabletDetails","vha_pro_TabletHome","vha_pro_samsung_galaxy_s8","VHA_MNB_DESKTOP_NEW","vha_pro_nbn","vha_pro_nbnplans","vha_pro_business","vha_pro_iphone8","vha_pro_samsung_note8","vha_pro_iphonex","vha_pro_iphonecom","vha_pro_iphonecompare","vha_pro_eligibility","vha_pro_plansim","vha_pro_iphonexcom","vha_pro_samsungs9com","vha_pro_samsung_Galaxy_S9"];K(J,P,"Sales_invite_3"),J.vha_pro_cart=J.vha_pro_upgradescart=J.vha_pro_iphone_cart_page="Sales_cart_page";var S={},V={"http://shop.vodafone.com.au/cart":!0,"https://shop.vodafone.com.au/order-personal-details":!0,"https://shop.vodafone.com.au/order-payment-details":!0,"http://shop.vodafone.com.au/extras/extras":!0},bb={},cb=!1,eb,mb=!0,yb="vha-VHA-Service",zb={queue:function(){var a=parent.document.domain;if(sb())return t?parent.conf.mobiQueue:parent.conf.desktopQueue;if(ub())return"vha-account-default-queue-Campaign";if(wb())return"vha-account-default-queue-SIM-Swap";if(vb())return"vha-account-default-queue-Upgrades";if(Yb())return"vha-account-default-queue-Care";if(qb()=="1"){var b=parent.location.href.toLowerCase();return!$undefinedOrNull(b)&&b.toLowerCase().indexOf("support/contact/complaints")>-1?"vha-account-default-queue-prepaid":"vha-account-default-queue-Care"}return rb()=="1"?"vha-retail-support":tb()?"vha-account-default-queue-prepaid":cc()?"vha-account-default-queue-NBN-Sales":dc()?"vha-account-default-queue-NBN-Service":xb()?"vha-account-default-queue-Care":$b()&&!ob()?parent.SN.Conf.AQU_QUEUE:ob()?"vha-account-default-queue-Care":W()?"vha-account-default-queue-Care":Yc()?Yc():_b()?"vha-VHA-Complaints":yb}(),ruleIdToQueueMapping:{},accountId:"vha-account-default",server:"vha.vs.assist.247-inc.net",caserver:"vha.ca.assist.247-inc.net"},Ab="vha-account-default-queue-Acquisition",Bb="vha-account-default-queue-Upgrades",Cb="vha-account-default-queue-Care",Db="vha-retail-support",Eb="vha-account-default-queue-prepaid",Fb="vha-account-default-queue-Campaign",Gb="vha-account-default-queue-SIM-Swap",Hb="vha-account-default-queue-NBN-Sales",Ib="vha-account-default-queue-NBN-Service",Jb={},Kb=["vha_pro_cart","vha_pro_checkout","vha_pro_extras","vha_pro_hotOffers","vha_pro_ipad_Spec_newlaunch","vha_pro_iPhone_Prodpg_newlaunch","vha_pro_iPhone_Spec_newlaunch","vha_pro_iphone_spec_landingpage","vha_pro_iphone_product_page","vha_pro_iphone_cart_page","vha_pro_iphone-se","vha_pro_MobileBB_Plan","vha_pro_mobileInternet","vha_pro_orderPersonalDetails","vha_pro_plans","vha_pro_productPages","vha_pro_samsung_galaxy_s7","vha_pro_samsungMobDet","vha_pro_SimOnly","vha_pro_TabletDetails","vha_pro_TabletHome","vha_pro_tablets","vha_pro_upgradescart","vha_pro_upgradesExtras","vha_pro_upgradesHandList","vha_pro_upgradesUserLogin","vha_pro_samsung_galaxy_s8","VHA_MNB_DESKTOP_NEW","vha_pro_iphone8","vha_pro_samsung_note8","vha_pro_iphonex","vha_pro_iphonecom","vha_pro_iphonecompare","vha_pro_eligibility","vha_pro_plansim","vha_pro_iphonexcom","vha_pro_samsungs9com","vha_pro_samsung_Galaxy_S9"],Lb=["VHA_Service_Rule_5_ContactUs","VHA_Service_Rule_12_Intelliresponse","VHA_Service_Rule_7_IntRoaming","VHA_Service_Rule_myvf_bal","VHA_Service_Rule_myvf_dtusg","vha_pro_support_billing","vha_pro_support_device","vha_pro_support_myvodafone","vha_pro_support_plans","vha_pro_support_prepaid","vha_pro_support_signup"],Mb=["VHA_Service_Rule_9_IntRoaming","VHA_Service_Rule_10_IntRoaming"],Nb=["vha_pro_nbn","vha_pro_nbnplans","vha_pro_business"],Ob=["VHA_Service_Rule_13_nbnservice","VHA_Service_Rule_14_nbnsupport","VHA_Service_Rule_15_nbntrbshting","VHA_Service_Rule_15_nbnbarred"],Pb=["vha_pro_track_trace_page","VHA_Service_Rule_6_BillExplainer","VHA_service_Rule_myvf_mngmypl","vha_pro_support_upgrade"],Qb=["VHA_Service_Rule_prepaid","vha_pro_support_complaints"];K(Jb,Kb,Ab),K(Jb,Lb,Cb),K(Jb,Mb,Gb),K(Jb,Nb,Hb),K(Jb,Ob,Ib),K(Jb,Pb,Bb),K(Jb,Qb,Eb),Jb.VHA_Service_Rule_11_Retail=Db,Jb.VHA_Service_Rule_8_Tracking=Fb;var Rb=["VHA_MNB_DESKTOP_REPEAT","VHA_MNB_DESKTOP_CUSTOMER","vha_pro_cart_mnb_sup","vha_pro_ckot_mnb_sup"],Tb={7:"vha_pro_doe_tp1",8:"vha_pro_doe_tp2",9:"vha_pro_doe_tp3",10:"vha_pro_doe_tp4",11:"vha_pro_doe_tp5",12:"vha_pro_doe_tp6",13:"vha_pro_doe_tp7",14:"vha_pro_doe_tp8"},Ub=function(a){return Tb[a]},hc,pc={},sc,Ac,Wc={"vha-account-default-queue-Upgrades":["/support/plans/upgrade"],"vha-account-default-queue-NBN-Service":["/support/nbn/change-address","/support/nbn/change-plan","/support/nbn/installation","/support/nbn/offline","/support/nbn/troubleshooting","/support/nbn/wi-fi-hub","/support/nbn","/support/nbn/close","/support/nbn/barred"],"vha-account-default-queue-Care":["/support/billing/bill-explainer","/support/billing/first-bill","/support/billing/pay","/support/billing/payment-extension","/support/device/call-barring","/support/device/stolen","/support/device/replace-sim","/support/device/text-message","/support/device/unlock","/support/device/voicemail","/support/my-vodafone/access-troubleshooting-guide","/support/my-vodafone/user-guide","/support/plans/change-plan","/support/plans/close","/support/plans/data-add-ons","/support/plans/international-calls","/support/plans/international-roaming","/support/network/troubleshooting-guide","/support/plans/mobile-payment-plans","/support/plans/roaming-rates","/support/plans/usage-history","/support/prepaid/activate-sim","/support/prepaid/check-balance","/support/prepaid/international-call-rates","/support/prepaid/international-roaming","/support/prepaid/recharge","/support/prepaid/roaming-rates","/support/prepaid/transfer-to-prepaid","/support/sign-up/credit-checks","/support/sign-up/delivery-tracking","/support/sign-up/transfer-number","/support/sign-up/transfer-ownership"]},$c=0,kd,ld=500,xd,yd=0,Bd={},Fd=!1,Gd={},Hd=!1;(function(){try{var a=parent.tfsInitializeData?parent.tfsInitializeData.readAndFlushData():"";if(!$undefinedOrNull(a)&&!$undefinedOrNull(a.tfsSendPageData)&&!Jd(a.tfsSendPageData)){var b={};for(var c in a.tfsSendPageData)b[c]=a.tfsSendPageData[c].value;Id(b)}}catch(d){console&&console.log&&console.log("error on readData : "+d)}})(),parent.tfsSendData=function(a,b,c,d){var e={};e[b]=c,Id(e)};var Pd,Qd=!0,Sd,Ud="bootstrapDone";SN.EventManager.observe(b.VISITOR_EVENT,function(){try{ze(),mf()}catch(a){}}),SN.EventManager.observe(Ud,function(){try{parent.location.pathname.indexOf("FormContactUs")!==-1&&Td()}catch(a){}}),SN.EventManager.observe(Ud,function(){try{id();var a=window.setTimeout(function(){SN.CustomScript.sendLoggedInData()},3e4);SN.CrossXDataHandler.getLocalStorageItem("urls",SN.CustomScript.updateJourneyInfo),qd()&&wd(),!Fd&&rd()&&Gd&&Md("conversionData")&&zd(),Hd=!0}catch(b){}});var Vd={};Vd.cmd="chatParams",Vd.dt={ooo:"t",vi:"12"},function(){SN.EventManager.observe(SN.Constants.SESSION_START_EVENT,function(){var a=parent.document.referrer+"/";matchArr=a.match(/\/\/(.*?)\//),!$undefinedOrNull(matchArr)&&!$undefinedOrNull(matchArr[1])&&Oc("ir",matchArr[1])})}(),p();var be={},ce={customerType:"f.v.ct",productPhone:"f.c.pf",brand:"f.c.c01",priceRange:"f.c.srt",productCapacity:"f.c.pcap",productColor:"f.c.pcol",recommPlan:"f.c.rpln",zipCode:"f.v.zip",deliveryTimeEst:"f.c.ddur",planExtraSelected:"f.c.c16",scrolCount:"f.c.spc",device:"f.c.dr",planDuration:"f.c.pdur",choosePhone:"f.c.pln",simType:"f.c.c32",saveCart:"f.c.svcrt"},de=100010,ee=400111,fe=400112,ge=400113,he={newCust:"New",existing:"Existing"},ie={prepay:"Pre Paid",postpay:"Post Paid"},je={ranking:"Recommended",highlow:"High to Low",lowhigh:"Low to High"},ke=R(),le=1,me=0,re=null;SN.EventManager.observe(Ud,function(){try{if(typeof parent.jQuery=="function"){if(ke=="mobile-phones"){var a=parent.jQuery(".spl-dfj-filters-col-radio input");De(a,Fe,"change");var b=parent.jQuery(".spl-dfj-filters-col-dropdown select.brand");De(b,Ge,"change");var c=parent.jQuery(".spl-dfj-filters-col-dropdown select.sortType");De(c,He,"change")}if(ke=="samsungMobSpec"||ke=="samsungMobDet"||ke=="mobile-details"){var d=parent.jQuery("#listCapacities");De(d,Ie,"change");var e=parent.jQuery(".capacity-color button");De(e,Je,"click");var f=parent.jQuery("#deliveryForm");De(f,Qe,"submit"),De(f,Re,"submit"),De(d,Pe,"change"),De(e,Pe,"click"),De(f,Pe,"submit");var g=parent.jQuery(".plans-carousel a");De(g,Ue,"click");var h=parent.jQuery(".tile-buttons button, #upgrade-button");De(h,Ce,"click")}if(ke=="red-plan"){var i=parent.jQuery("#1355183557550, #1355183557604");De(i,Ve,"click");var j=parent.jQuery("#1355183557838, #1355183557952");De(j,We,"click");var k=parent.jQuery(".info .vha-vca-cbtn");De(k,_e,"click");if(t){var l=parent.jQuery(".pricing-filter-outer");De(l,Ze,"touchmove"),De(l,$e,"touchend")}else{var l=parent.jQuery(".pricing-filter-outer");De(l,Ze,"mousemove"),De(l,$e,"mouseup");var l=parent.jQuery(".pricing-left, .pricing-right");De(l,$e,"click")}var m=parent.jQuery("#1355187912043, #1355187912049, #1355189091797, #1355189091816, #1355183557661, #1355183557740");De(m,af,"click")}if(ke=="sim-cards"){var m=parent.jQuery("#1355187912043, #1355187912049, #1355189091797, #1355189091816, #1355183557661, #1355183557740");De(m,af,"click")}if(ke=="cart"){var n=parent.jQuery(".extras-detail input");De(n,Se,"click");var o=parent.jQuery(".shop-cart-cta a.button--secondary");De(o,cf,"click")}}}catch(p){}});var Ke=1e3,Le=0,Ne=0,Te=0,Xe=[],Ye=!1,bf=0,jf="";(function(){try{var a="www.vodafone.com.au",b="shop.vodafone.com.au",c=parent.document.domain,d=encodeURI(parent.document.location.href).toLowerCase(),e=!1,f={"plans/shared":"shrd",plan:"pln",mobile:"mob",campaign:"cam",manufacturers:"man",android:"andr",iphone:"iphn","hot-offer":"htof","mobile-broadband":"mbb",sim:"sim",tablet:"tblt","add-ons":"addn","4g":"4g",idd:"intd","international-roaming":"roam",bill:"bill"},g={activation:"actv",business:"bus","aboutvodafone/network/checker":"ntck",aboutvodafone:"abvf",myvodafone:"myvf",intelliresponse:"intr",support:"supp",help:"help",contact:"cnt",criticalinformationsummary:"cis"},h={"mobile-details/samsung":"mbds","mobile-details/iphone":"mbdi","mobile-details/sony":"mbdy","mobile-details/htc":"mbdh","mobile-details/nexus":"mbdn","mobile-details/moto":"mbdm","mobile-details":"mbd","tablet-details":"tabd","mobile-specs/samsung":"mbss","mobile-specs/iphone":"mbsi","mobile-specs/sony":"mbsy","mobile-specs/htc":"mbsh","mobile-specs/nexus":"mbsn","mobile-specs/moto":"mbsm","mobile-specs":"mbs",broadband:"bb","compare-mobile":"cmmb","all-plans":"apln",offer:"offr","all-mobile":"almb","all-tablet":"altb","all-phone":"alph","order-personal-detail":"opd"},i={upgrade:"upg",prepaid:"prep"},j={cart:"crt",checkout:"ckot",nomatch:"upgrade"};if(c.match(a)!==null)for(var k in f)if(d.match(k)!==null){jf=f[k];break}if(jf=="")for(var k in g)if(d.match(k)!==null){jf=g[k];break}if(jf==""&&c.match(b)!==null)for(var k in h)if(d.match(k)!==null){jf=h[k];break}if(jf=="")for(var k in i)if(d.match(k)!==null){jf=i[k];break}if(jf=="")for(var k in j)if(k!=="nomatch"&&d.match(k)!==null&&d.match(j["nomatch"])==null){jf=j[k];break}jf==""&&(jf="ot")}catch(l){SN.Utils.error("Presant page category setting failed - ",l)}})();var sf=!1;SN.EventManager.observe(SN.Constants.SESSION_START_EVENT,function(){Oc("pic",0),sf=!0});var uf={renderInitcall:u,getEncodedValue:v,getDecodedValue:B,handleButtonRule:$,handleProRule:Jc,getContextData:kb,onBootstrapComp:tc,setXDMC:lb,getSNPath:bc,loadMobileChat:Cc,isButtonPage:X,isPersistentButtonPage:Y,getButtonSuppression:U,setButtonSuppression:T,setProRuleSuppression:E,getProRuleSuppression:D,getChatDeclinedInCurrSession:cd,getInteractionDoneInCurrSession:hd,proactivePageType:H,isProactivePage:I,getPageName:R,getConfByRuleId:Q,getTfsOnChat:ed,getDeviceType:fd,recieveMessage:Wd,updateTfsOnChat:z,handleButtonChatClick:nb,setButtonShown:jd,handleInviteExpand:Ec,handleSubBtnOne:Fc,handleSubBtnTwo:Gc,handleSubBtnThree:Hc,handleInviteAccept:Ic,handleInviteDecline:Nc,fireInviteOfferedEvent:Mc,getInviteMsg:G,getCFVCookie:Pc,setCFVCookie:Oc,isOfficeTime:mc,getQueue:Xd,isCartPage:Z,insertButtonChat:Dc,updateJourneyInfo:Cd,getChatConfigFromCookie:Yd,sanitizeData:Dd,chatConfigDecider:Zd,getPersistenceData:db,setValueInPSP:jb,isSales:$b,isContact:_b,isMyVodafonePage:Yb,isServiceRule:Zb,compareTfsUpdateTimeWithPresentTime:y,showButton:qc,getNemoChatConfig:$d,isBtnIdAvl:_d,isVhaBtnIdAvl:ae,isLoggedIn:oe,getMobileProductType:Fe,getPriceRange:He,getProductsInCart:te,getItemsCountInCart:ue,getValueOfProduct:ve,getPlanInCart:we,getTotalCartValue:xe,getLastVisitExitPage:ye,getExitPageVisitCategoryInSession:Be,getCustomerForUpgrades:Ce,getPrevConversion:od,getPromotionalCode:df,getRecommendationPlan:Pe,getProductColor:Je,getProductCapacity:Ie,getBrand:Ge,IsLoggedInPast:qe,activeSessionForRule:ef,getInitialReferrer:ff,getBrowser:gf,getOS:hf,getLandingPageCat:nf,getUserJourney:of,getPreviousUserJourney:fb,getProactiveInviteCount:pf,getGeoCountry:rf,getVhaUserType:tf,handleProInviteIgnore:bd,onPageLoadDockButton:ad,setChatIgnoredInCurrSession:Vc,getChatIgnoredInCurrSession:dd,sendLoggedInData:pe,isComplaintsTime:nc,isIntelliResponseTime:oc,isVhaComplaintsPage:qb,isVhaRetailSupportPage:rb,isContactTestPage:pb,setQueueForRuleID:Vb,isMultiCategorizedRule:Wb,getTp:Xb,suppressDockedButton:Zc,triggerDirectChat:zc,isIPBlocked:Bc,getDoETPConfig:Ub,attachButtonForRule:rc,customDClog:yc,isDirectChat:sb,isNonAUSupportedPages:fc};return uf}(),Nemo={JSONP_COUNTER:0},Nemo.Ajax=function(){function Xhr(params){function createXMLHTTPObject(){var a=!1;for(var b=0;b<XMLHttpFactories.length;b++){try{a=XMLHttpFactories[b]()}catch(c){continue}break}return a}function sendRequest(){req=createXMLHTTPObject();if(!req)return;var method=params.type||"GET";req.open(method,params.url,!0),params.contentType&&req.setRequestHeader("Content-type",params.contentType),req.onreadystatechange=function(){var response;if(req.readyState!=4)return;if(req.status!=200&&req.status!=304)return;params.handleAs=="json"?response=eval("("+req.responseText+")"):response=req.responseText,params.load(response)};if(req.readyState==4)return;req.send(eval(params.postData))}var XMLHttpFactories=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],req;return sendRequest(),req}function Jsonp(a){function g(a){var b=document.createElement("script"),d=!1;b.src=a,b.async=!0,/MSIE/.test(navigator.userAgent)?b.attachEvent("error",function(a){errorObj={},errorObj.errorCode="4",f(errorObj)},!0):b.addEventListener("error",function(a){errorObj={},errorObj.errorCode="4",f(errorObj)},!0),b.onload=b.onreadystatechange=function(){!d&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")&&(d=!0,b.onload=b.onreadystatechange=null,b&&b.parentNode&&b.parentNode.removeChild(b))},c||(c=document.getElementsByTagName("head")[0]),c.appendChild(b)}function h(){}function i(a,b,c,i){d="?",b=b||{},f=typeof i=="function"?i:h;var j=1500;for(e in b)b.hasOwnProperty(e)&&(d+=encodeURIComponent(e)+"="+encodeURIComponent(b[e])+"&");var k="nemo_json_"+ ++Nemo.JSONP_COUNTER,l=a+d+"jsonp="+k;return l=SN.CustomScript.sanitizeData(l),l.length>j?"JSONP_TOO_MUCH_DATA":(window[k]=function(a){c(a);try{delete window[k]}catch(b){}window[k]=null},g(l),k)}var b=0,c,d,e,f;i(a.url,a.content,a.load,a.error)}var me={Xhr:Xhr,Jsonp:Jsonp};return me}(),typeof SN.Custom=="undefined"&&(SN.Custom={}),SN.Custom.getGlobalHotSpots=function(){},SN.CustomScript.chatConfigDecider(),SN=SN||{},SN.Session=function(a){function d(a){if($undefinedOrNull(a))throw"Invalid key: "+a;return a}function e(e,f){return $undefined(f)?b.warn("Ignored key(",e,") value(",f,"), call was to set in session with id:(",a,")"):c.set(d(e),JSON.stringify(f)),f}function f(e){var f=c.remove(d(e));return $undefined(f)?(b.warn("SN.SessionManager: Removed key(",e,") from session with id:(",a,")"),f):(b.debug("SN.SessionManager: Removed key(",e,") value(",f,") from session with id:(",a+")"),JSON.parse(f))}function g(a){var b=c.get(d(a));return!$undefinedOrNull(b)&&b.isJSON()?JSON.parse(b):b}function h(){return a}function i(){c.clear()}var b=SN.Utils,c=SN.Store.getStore(a),j={set:e,remove:f,get:g,getSessionId:h,destroy:i};return j};var SN=SN||{};SN.SessionUtils=function(){function createWindowId(){return CONST_PSP_WINDOW+(new Date).getTime()}function assembleUrlParams(urlParams,original){var result=original||{},sessionManager=SN.SessionManager,globalSession=sessionManager.getGlobalSession();if(globalSession!=null){result.vi=globalSession.getVisitorId();var visitorGroup=globalSession.getVisitorGroup();$undefinedOrNull(visitorGroup)||(result.vg=visitorGroup);var targetId=globalSession.getTargetId();$undefinedOrNull(targetId)||(result.ti=targetId);var targetPopulationId=globalSession.getTargetPopulationId();$undefinedOrNull(targetPopulationId)||(result.tp=targetPopulationId);var tpRandomNumber=globalSession.getTPRandomNumber();$undefinedOrNull(tpRandomNumber)||(result.rt=tpRandomNumber);var vgRandomNumber=globalSession.getVGRandomNumber();$undefinedOrNull(vgRandomNumber)||(result.rv=vgRandomNumber),result.v=parent.SN.Conf.CONST_PSP_VERSION}if($undefinedOrNull(urlParams))return result;for(var i=0;i<urlParams.length;i++){var param=urlParams[i];try{var value=encodeURIComponent(eval(param.expr));!$undefinedOrNull(value)&&!$isEmpty(value)&&(result[encodeURIComponent(param.key)]=value)}catch(err){utils.error("Failed to evaluate expression: "+param.expr,err)}}return result}var CONST_PSP_WINDOW="wid",utils=SN.Utils,me={createWindowId:createWindowId,assembleUrlParams:assembleUrlParams};return me}(),SN=SN||{},SN.GlobalSession=function(){function w(){return o}function x(){return p}function y(){return q}function z(){return r}function A(){var a=c.getWindowName();if($undefinedOrNull(a)||$isEmpty(a))a=d.createWindowId(),c.setWindowName(a)}function B(){parent.SN.Conf.viStore=="cookie"?v=new SN.CookieManager:v=new SN.LocalStorageWrapper,o=v.getValueFromStore(a.SN_VI_STORE_NAME,e),p=b.getValueFromStore(a.SN_AS_STORE_NAME,g),$undefinedOrNull(p)||(q=b.getValueFromStore(a.SN_AS_STORE_NAME,h),r=b.getValueFromStore(a.SN_AS_STORE_NAME,i)),j=b.getValueFromStore(a.SN_RN_STORE_NAME,a.TP_RANDOM_NUMBER),k=b.getValueFromStore(a.SN_RN_STORE_NAME,a.VG_RANDOM_NUMBER),l=b.getValueFromStore(a.SN_VI_STORE_NAME,a.ACTIVE_SESSION),A()}function C(){m=c.getStoreLifetime(a.SN_VI_STORE_NAME)}function D(d,f,u,v,w,x,y,z,A){var B=!1;s=y,t=31536e3,vIdLifetimeInSeconds=m/1e3,vIdLifetimeInSeconds<t&&(t=vIdLifetimeInSeconds,s=vIdLifetimeInSeconds),c.setStoreLifetime(a.SN_AS_STORE_NAME,s),c.setStoreLifetime(a.SN_RN_STORE_NAME,t),o=d;var C=b.isActiveSessionPresent(),D=b.getValueFromStore(a.SN_VI_STORE_NAME,a.PREVIOUS_ACTIVE_SESSION_TIME),H=(new Date).getTime();b.setValueInStore(a.SN_VI_STORE_NAME,e,o),$undefinedOrNull(k)&&(b.setValueInStore(a.SN_RN_STORE_NAME,a.VG_RANDOM_NUMBER,w,t),k=w),$undefinedOrNull(j)&&(b.setValueInStore(a.SN_RN_STORE_NAME,a.TP_RANDOM_NUMBER,x,t),j=x);var I=(new Date).getTime();n=I,C||($undefinedOrNull(l)&&(l=0),D=b.getValueFromStore(a.SN_VI_STORE_NAME,a.CURRENT_ACTIVE_SESSION_TIME),$undefinedOrNull(D)||b.setValueInStore(a.SN_VI_STORE_NAME,a.PREVIOUS_ACTIVE_SESSION_TIME,D),l=parseInt(l)+1,b.setValueInStore(a.SN_VI_STORE_NAME,a.ACTIVE_SESSION,l),b.setValueInStore(a.SN_VI_STORE_NAME,a.ACTIVE_SESSION_START_TIME,I),G(),E()),(parent.SN.Conf.dataStore!="server"||c.isVidBasedonfpid())&&b.setValueInStore(a.SN_VI_STORE_NAME,a.CURRENT_ACTIVE_SESSION_TIME,H);if($undefinedOrNull(p)||$undefinedOrNull(r)||$undefinedOrNull(q))B=!0;if(p!=f||r!=u)B=!0;B&&(b.setValueInStore(a.SN_AS_STORE_NAME,g,f),b.setValueInStore(a.SN_AS_STORE_NAME,i,u),b.setValueInStore(a.SN_AS_STORE_NAME,h,v),p=f,r=u,q=v),G(),b.setValueInStore(a.SN_RN_STORE_NAME,a.VG_RANDOM_NUMBER,w,t),F()}function E(){c.info("SN.GlobalSession: firing tracking events for eventId - ",a.SESSION_START_EVENT_ID);var b={eventId:a.SESSION_START_EVENT_ID,sessionStartEvent:!0,previousActivesession:$getPreviousActiveSessionStartTime(),data:{f:{v:{geo:{loc:[$geoLongitude(),$geoLatitude()],co:$geoCountry(),cc:$geoCountryCode(),ci:$geoCity(),wr:$geoRegion(),isp:$geoIsp(),ip:$geoIPAddress(),org:$geoOrganization(),zip:$geoPostalCode()}}}}};$undefinedOrNull(b.data.f.v)&&(b.data.f.v={}),$undefinedOrNull(b.data.f.v.geo)&&(b.data.f.v.geo={}),parent.SN.Conf.browserGeoLocationFlag?(b.data.f.v.geo.lt="b",$getGeoBrowserLocationError().length!=2?b.data.f.v.geo.loc=[parseFloat($getGeoLongitudeBrowser()),parseFloat($getGeoLatitudeBrowser())]:(b.data.f.v.geo.le=$getGeoBrowserLocationError(),b.data.f.v.geo.lt="s",b.data.f.v.geo.loc=[parseFloat($geoLongitude()),parseFloat($geoLatitude())])):(b.data.f.v.geo.lt="s",b.data.f.v.geo.loc=[parseFloat($geoLongitude()),parseFloat($geoLatitude())]),u.fire(a.SESSION_START_EVENT,b),c.debugTrack("fired:"+a.SESSION_START_EVENT_ID)}function F(){var c=b.getValueFromStore(a.SN_VI_STORE_NAME,a.PAGE_LOAD_COUNTER);$undefinedOrNull(c)&&(c=0),c=parseInt(c)+1,b.setValueInStore(a.SN_VI_STORE_NAME,a.PAGE_LOAD_COUNTER,c)}function G(){b.createASStore()}function H(){return j}function I(){return k}function J(){return SN.StoreManager.getValueFromStore(a.SN_VI_STORE_NAME,a.ACTIVE_SESSION)}function K(){return(new Date).getTime()-n}var a=SN.Constants,b=SN.StoreManager,c=SN.Utils,d=SN.SessionUtils,e="vi",f="as",g="vg",h="ti",i="tp",j=null,k=null,l=null,m=null,n=null,o=null,p=null,q=null,r=null,s=null,t=null,u=SN.EventManager,v=null,L={load:C,updateVisitorInfo:D,initialize:B,getVisitorId:w,getVisitorGroup:x,getTargetId:y,getTargetPopulationId:z,getTPRandomNumber:H,getVGRandomNumber:I,getActiveSessionId:J,keepAliveActiveSession:G,getTimeOnPage:K};return B(),L},SN=SN||{},SN.SessionManager=function(){function onControllerInit(){var a=configStore.isActionPage();a&&parent.focus()}function initializeOnLoad(){if(sessionManagerInitialized)return;globalSession=new SN.GlobalSession,xdsession=new SN.Session(CONST_XDSESSION_ID),sessionManagerInitialized=!0}function load(){globalSession.load()}function getVisitorSession(){return{}}function getXDSession(){return xdsession}function getGlobalSession(){return globalSession}function doGetFSMVariable(a){var b=null,c=a.scope;return c==SCOPE_RUNTIME?b=configStore.getRuntimeFSMVarValue(a.key):b=storeManager.getValueFromStore(SN_CONSTANTS.SN_VARIABLE_STORE_NAME,a.key),b}function doUpdateFSMVariable(update){var value=null,strategy=update.strategy,scope=update.scope,doEval=strategy==STRATEGY_EVALUATE_ONCE&&updatedVarMap[update.key]!=CONST_UPDATED||strategy==STRATEGY_POLL;if(doEval)try{value=eval(update.expr),strategy==STRATEGY_EVALUATE_ONCE&&update.rollingcount==0&&(update.value=value),updatedVarMap[update.key]=CONST_UPDATED}catch(err){value=null,utils.error("Failed to evaluate expr: ",update.expr,err)}else strategy==STRATEGY_CONSTANT?value=update.expr:value=update.value;return scope==SCOPE_RUNTIME?($undefinedOrNull(value)&&(value=configStore.getRuntimeFSMVarValue(update.key)),configStore.setRuntimeFSMVarValue(update.key,value),value):(update.rollingcount>0&&doEval&&(value=doUpdateRollingFSMVariable(update,value)),$undefinedOrNull(value)||(scope==SCOPE_AS?(oldValue=storeManager.getValueFromStore(SN_CONSTANTS.SN_AS_STORE_NAME,update.key),oldValue!=value&&(value=storeManager.setValueInStore(SN_CONSTANTS.SN_AS_STORE_NAME,update.key,value))):value=storeManager.setValueInStore(SN_CONSTANTS.SN_VARIABLE_STORE_NAME,update.key,value)),value)}function doUpdateRollingFSMVariable(a,b){var c=null;return a.scope=="a"?(c=storeManager.getValueFromStore(SN_CONSTANTS.SN_AS_STORE_NAME,a.key),(parent.SN.Conf.dataStore=="server"||utils.isVidBasedonfpid())&&eventManager.fire(SN_CONSTANTS.UPDATE_SN_AS_EVENT,null)):c=storeManager.getValueFromStore(SN_CONSTANTS.SN_VARIABLE_STORE_NAME,a.key),$undefinedOrNull(c)?c=[]:parent.SN.Conf.dataStore!="server"&&!utils.isVidBasedonfpid()&&(c=JSON.parse(c)),c.push(b),c.length>a.rollingcount&&c.shift(),parent.SN.Conf.dataStore=="localstorage"&&!utils.isVidBasedonfpid()?JSON.stringify(c):c}var SN_CONSTANTS=SN.Constants,CONST_XDSESSION_ID="xdsession",storeManager=SN.StoreManager,STRATEGY_EVALUATE_ONCE="o",STRATEGY_POLL="p",STRATEGY_CONSTANT="c",SCOPE_RUNTIME="r",SCOPE_AS="a",CONST_UPDATED=!0,globalSession=null,xdsession=null,updatedVarMap={},sessionManagerInitialized=!1,utils=SN.Utils,configStore=SN.ConfigurationManager,eventManager=SN.EventManager,me={onControllerInit:onControllerInit,load:load,getVisitorSession:getVisitorSession,getGlobalSession:getGlobalSession,getXDSession:getXDSession,doUpdateFSMVariable:doUpdateFSMVariable,doGetFSMVariable:doGetFSMVariable};return initializeOnLoad(),me}(),$undefined(SN)&&(SN={}),SN.WebTracker=function(){function l(){f=!1,j=parent.document.referrer.split("/")[2],u()}function m(a){var b=i.getValueFromStore(SN.Constants.SN_WEBTRACKER_STORE_NAME,k);return $undefinedOrNull(b)?!1:b.indexOf(a+SN.Constants.CONST_URL_SEPARATOR)==0?!0:b.indexOf(SN.Constants.CONST_URL_SEPARATOR+a+SN.Constants.CONST_URL_SEPARATOR)!=-1?!0:!1}function n(b){var d=0,e=i.getValueFromStore(SN.Constants.SN_WEBTRACKER_STORE_NAME,k);if($undefinedOrNull(e))return 0;b=c.removeDuplicates(b.split(a)).join(a);if(e.indexOf(a)==-1)if(b.indexOf(a)==-1)e==b&&(d=1);else{var f="#"+b.split(a).join("#|#")+"#";d=f.split("#"+e+"#").length-1}else{var g="#"+e.split(a).join("#|#")+"#",f=b.split(a);for(var h=0;h<f.length;h++)d+=g.split("#"+f[h]+"#").length-1}return d}function o(){var b=i.getValueFromStore(SN.Constants.SN_WEBTRACKER_STORE_NAME,k);if($undefinedOrNull(b))return 0;if(b.indexOf(a)==-1)return 1;var c=b.split(a);return c.length}function p(){return typeof j=="undefined"||j==null||j==""?!1:!0}function q(){if(p()){for(var a=0;a<d.length;a++)if(j.indexOf(d[a])!=-1)return!0;return!1}return!1}function r(){var b=i.getValueFromStore(SN.Constants.SN_WEBTRACKER_STORE_NAME,k),c=parent.SN.Conf.getUrlId();if($undefinedOrNull(b))b=c;else{b=b+a+c;var d=b.split(a);d!=null&&d.length>20&&(b=b.substring(b.indexOf(a)+1))}i.setValueInStore(SN.Constants.SN_WEBTRACKER_STORE_NAME,k,b)}function s(){return i.getValueFromStore(SN.Constants.SN_WEBTRACKER_STORE_NAME,k)}function t(a){f=!0,SN.Conf.dataStore!="server"&&r()}function u(){g.observe(b,t)}var a="|",b="bootstrapDone",c=SN.Utils,d=["google","yahoo","bing","aol","ask"],e=(new Date).getTime(),f=!1,g=SN.EventManager,h=SN.CustomScript,i=SN.StoreManager,j="",k="u",v={getPageVisitUrlSequence:s,isSiteReferrerASearchEngine:q,isSiteVisitedFromAReferrer:p,getTotalVisitCount:o,getVisitCount:n,hasVisited:m};return l(),v}(),$timeOnPage=function(){var a=SN.SessionManager.getGlobalSession();return Math.floor(a.getTimeOnPage()/1e3)},$isSiteVisitedFromAReferrer=function(){return SN.WebTracker.isSiteVisitedFromAReferrer()},$isSiteReferrerASearchEngine=function(){return SN.WebTracker.isSiteReferrerASearchEngine()},$getPageVisitUrlSequence=function(){return SN.WebTracker.getPageVisitUrlSequence()},$hasVisited=function(a){return SN.WebTracker.hasVisited(a)},$visitCount=function(a){return SN.WebTracker.getVisitCount(a)},$getTotalVisitCount=function(){return SN.WebTracker.getTotalVisitCount()},$previousPageId=function(){var a=$getPageVisitUrlSequence();if($undefinedOrNull(a))return null;var b=a.split(SN.Constants.CONST_URL_SEPARATOR);return b.length>1?b[b.length-2]:null},$allPagesVisited=function(a){var b=$getPageVisitUrlSequence();if($undefinedOrNull(b))return!1;var c=a.split(SN.Constants.CONST_URL_SEPARATOR),d=0;for(d=0;d<c.length;d++)if(b.indexOf(c[d])==-1)return!1;return!0},$AnyPagesVisited=function(a){var b=$getPageVisitUrlSequence();if($undefinedOrNull(b))return!1;var c=a.split(SN.Constants.CONST_URL_SEPARATOR),d=0;for(d=0;d<c.length;d++)if(b.indexOf(c[d])!=-1)return!0;return!1},$pageStrictSeqVisited=function(a){var b=$getPageVisitUrlSequence();return $undefinedOrNull(b)?!1:b==null?!1:b.indexOf(a)!=-1},$pageLooseSeqVisited=function(a){var b=$getPageVisitUrlSequence();if($undefinedOrNull(b))return!1;var c=a.split(SN.Constants.CONST_URL_SEPARATOR),d=b,e=0,f=0,g=0;for(e=0;e<c.length;e++){d=d.substring(g);var h=c[e];if(d.indexOf(h)==-1)return!1;if(d.indexOf(h+SN.Constants.CONST_URL_SEPARATOR)==0)f++;else if(d.indexOf(SN.Constants.CONST_URL_SEPARATOR+h+SN.Constants.CONST_URL_SEPARATOR)!=-1)f++;else if(d.indexOf(h)!=-1){var i=b.split(SN.Constants.CONST_URL_SEPARATOR);i[i.length-1]==h&&f++;break}g=d.indexOf(h+SN.Constants.CONST_URL_SEPARATOR)+h.length+1}return f==c.length?!0:!1},$getSpecificPagesVisitCount=function(a,b){var c=$getPageVisitUrlSequence();return $undefinedOrNull(c)||$undefinedOrNull(a)?0:a(c,b)?$visitCount(b):0},typeof SN=="undefined"&&(SN={}),SN.XDStorageHandler=function(){function j(d){$undefinedOrNull(d)&&a.error("cookieData is undefined: check the object");if($undefinedOrNull(localStorage)){a.error("Local Storage is not supported");return}for(var e in d){var f=d[e].cvalue;if(!$undefinedOrNull(f)){var g=(new Date).getTime(),h="",i=d[e].clifetime;i+=g,h=f+c.LOCALSTORAGE_VALUE_SEPARATOR+i;var j=b+c.LOCALSTORAGE_KEY_SEPARATOR+e;localStorage.setItem(j,h)}}}function k(){var a=[c.SN_VI_STORE_NAME,c.SN_WEBTRACKER_STORE_NAME,c.SN_RN_STORE_NAME,c.SN_VARIABLE_STORE_NAME],d={},e="";for(var f=0;f<a.length;f++){e=b+c.LOCALSTORAGE_KEY_SEPARATOR+a[f],console.warn(localStorage);if(e in localStorage){var g=(new Date).getTime();d[a[f]]={};var h=localStorage.getItem(e);if(!$undefinedOrNull(h)){d[a[f]].cvalue=h.split(c.LOCALSTORAGE_VALUE_SEPARATOR)[0];var i=h.split(c.LOCALSTORAGE_VALUE_SEPARATOR)[1],j=i-g;d[a[f]].clifetime=j}}}return d}function l(){var a={};cookieData=k();for(var d in cookieData){var e=cookieData[d].clifetime;if(e<0){var f=b+c.LOCALSTORAGE_KEY_SEPARATOR+d;localStorage.removeItem(f);if(d==c.SN_VI_STORE_NAME){for(var g in cookieData)f=b+LOCALSTORAGE_KEY_SEPARATOR+g,localStorage.removeItem(f);break}}}}function m(){var a=null;parent.SN.Conf.viStore=="cookie"?(a=new SN.CookieManager,a.init()):a=new SN.LocalStorageWrapper;var d=a.getValueFromStore(c.SN_VI_STORE_NAME,c.DATA_CLEAN_UP_DONE_FOR_FPID_KEY),e=-1;d!=null&&(e=d.indexOf("l"));if(e==-1||d==null){stores=[c.SN_AS_STORE_NAME,c.SN_RN_STORE_NAME,c.SN_EXIT_HISTORY_STORE_NAME,c.SN_VARIABLE_STORE_NAME,c.SN_WEBTRACKER_STORE_NAME,c.SN_VI_STORE_NAME],parent.SN.Conf.CustomStoresToBeCleanedUp.length>0&&(stores=stores.concat(parent.SN.Conf.CustomStoresToBeCleanedUp));for(var f in stores){var g=b+c.LOCALSTORAGE_KEY_SEPARATOR+f;localStorage.removeItem(g)}d==null&&(d=""),a.setValueInStore(c.SN_VI_STORE_NAME,c.DATA_CLEAN_UP_DONE_FOR_FPID_KEY,d+"l")}}function n(){g=setInterval(l,e)}function o(){var a=document.location.href,c=a.split("#"),d=c[1].split("&"),e="clientkey";for(var f=0;f<d.length;f++){var g=d[f].split("=");if(g[0]==e){b=g[1];return}}}function p(){document.domain==d&&(o(),n(),a.isVidBasedonfpid()&&m())}var a=SN.Utils,b=null,c=SN.Constants,d=parent.SN.Conf.CONST_PSP_ROOT,e=1e4,f=3e4,g=null,h=!0,i=null,q={storeData:j,retrieveData:k,checkCookieLifetime:l,initialize:p};return p(),q}(),$undefined(SN)&&(SN={}),SN.XD={},SN.XD.XDCommand=Class.create({initialize:function(a,b){this.name=a,this.params=b},getCommand:function(){return this.name},getParamObj:function(){return this.params}}),SN.XD.Sender=Class.create({_TIMEOUT:10,CONST_XD_UPDATE_SESSION:"updatesession",CONST_XD_SAVE_STATE:"savestate",CONST_XD_BOOTSTRAP:"bootstrap",CONST_XD_WIDGET_CMD:"widgetcmd",WIDGET_ACTION:"action",WIDGET_NAME:"name",CONST_XD_SAVE_VAR:"savevar",CONST_XD_REDIRECT:"redirect",CONST_XD_RULE_EVENT:"ruleevent",initialize:function(a){this._proxyUrl=a,this._commands=[],this._ready=!0,this.processCommands();var b=this},processCommands:function(){var a=this._TIMEOUT/5;if(this._commands.length!=0&&this._ready){var b=this._commands.shift();this.createReqIFrame(b.getCommand(),b.getParamObj()),a=2*this._TIMEOUT}var c=this;window.setTimeout(function(){c.processCommands()},a)},sendUpdateSessionReq:function(a){this._commands.push(new SN.XD.XDCommand(this.CONST_XD_UPDATE_SESSION,a))},sendSaveStateReq:function(a){if($undefined(a))throw"new state cannot be empty";this._commands.push(new SN.XD.XDCommand(this.CONST_XD_SAVE_STATE,a))},sendBootstrapReq:function(a){if($undefined(a))throw"bootstrapConfig cannot be empty";this._commands.push(new SN.XD.XDCommand(this.CONST_XD_BOOTSTRAP,a))},sendWidgetReq:function(a,b){if($undefined(b))throw"widget name cannot be empty";this._commands.push(new SN.XD.XDCommand(this.CONST_XD_WIDGET_CMD,{action:a,name:b}))},sendSaveVarReq:function(a){if(!$isArray(a)||a.size()===0)throw"not an array of (key, value) pairs";this._commands.push(new SN.XD.XDCommand(this.CONST_XD_SAVE_VAR,a))},sendRedirectReq:function(a){if($undefined(a))throw"url cannot be empty";this._commands.push(new SN.XD.XDCommand(this.CONST_XD_REDIRECT,a))},sendRulesEngineReq:function(a){if($undefined(a))throw"parameters cannot be empty";this._commands.push(new SN.XD.XDCommand(this.CONST_XD_RULE_EVENT,a))},sendXDRequest:function(a,b){if($undefined(a))throw"command cannot be empty";this._commands.push(new SN.XD.XDCommand(a,b))},makeAServerCall:function(a,b){if($undefined(a))throw"command cannot be empty";this._commands.push(new SN.XD.XDCommand("serverCall",b))},createReqIFrame:function(a,b){if($undefined(a))throw"No command defined";var c=new Element("iframe");c.hide();var d=this;c.observe("load",function(){Event.stopObserving(c),window.setTimeout(function(){d._ready=!0,c.remove()},2e3)});var e=this._proxyUrl+"#cmd="+a;$undefined(b)||(e+="&params="+JSON.stringify(b)),c.src=e,document.body.appendChild(c)}}),SN.XD.Proxy=function(){function p(a){var b=null,c=location.hash;c=c.replace(e,"");var d=c.split("&");for(var f=0;f<d.length;f++){var g=d[f].split("=");if(g[0]==a){b=g[1];break}}return b}function s(){var a=["Msxml2.XMLHTTP","Microsoft.XMLHTTP"];if(!window.ActiveXObject)return window.XMLHttpRequest?new XMLHttpRequest:null;for(var b=0;b<a.length;b++)try{return new ActiveXObject(a[b])}catch(c){SN.Utils.error("exception while trying to get new activeXobject  : ",c)}}function t(a,b){if(a==c){v(b);return}if(a==m.SEND_SERVER_DATA)return;a==m.SET_XD_DATA?o.storeData(b):SN.Utils.info("SN.XD.runProxy:Nothing to do")}function u(){var a=SN.Utils,b=a.readParam("cmd"),c=a.readParam("params");t(b,c)}function v(a){var b=new s;b.onreadystatechange=function(){if(b.readyState==4)if(b.status==200||window.location.href.indexOf(k)==-1){var a="cmd="+j;a=a+"&params="+b.responseText;try{window.setTimeout(function(){SN.XDFrameMessagingUtils.postMessage(a,r,parent)},5)}catch(c){SN.Utils.error("errorWhileMakingPostMessage call to XD Iframe",c)}}else SN.Utils.error("SN.XD : An error has occured making the request")};var c=a,d="",e=!0;for(var f in c)e?(e=!1,d=f+"="+c[f]):d=d+"&"+f+"="+c[f];b.open(l,q,!0),b.setRequestHeader("Content-type","application/x-www-form-urlencoded"),b.send(d)}function w(a){var b=new s;b.onreadystatechange=function(){if(b.readyState==4)if(b.status==200||window.location.href.indexOf(k)==-1){var a="cmd="+j;a=a+"&params="+b.responseText;try{window.setTimeout(function(){SN.XDFrameMessagingUtils.postMessage(a,r,parent)},5)}catch(c){SN.Utils.error("errorWhileMakingPostMessage call to XD Iframe",c)}}else SN.Utils.error("SN.XD : An error has occured making the request")};var c=a,d="",e=!0;for(var f in c)e?(e=!1,d=f+"="+c[f]):d=d+"&"+f+"="+c[f];b.open(l,i,!0),b.setRequestHeader("Content-type","application/x-www-form-urlencoded"),b.send(d)}function x(){try{if($undefinedOrNull(p("n")))return;var a={};a.loaded=p("caller"),o.checkCookieLifetime(),a.data=o.retrieveData();var b="cmd="+m.IFRAME_LOADED+"&params="+JSON.stringify(a);SN.XDFrameMessagingUtils.postMessage(b,r,parent)}catch(c){SN.Utils.error("Error while notifying load event to parent:"+c),SN.Utils.errorTrack("Error while notifying load event to parent:"+c)}}function y(){try{n=p(m.PSP_VERSION_KEY),q=location.protocol+f+p(a)+"/"+n+g,i=location.protocol+f+p(a)+"/"+n+h}catch(b){SN.Utils.error("Error while initializing pspVersion and PSP_RUN_CALL:"+b)}}function z(){SN.XDFrameMessagingUtils.receiveMessage(function(a){var b="",c="";try{var d=a.data,e=d.split("&");for(var f=0;f<e.length;f++)e[f].indexOf("cmd")==0&&(b=e[f].replace("cmd=","")),e[f].indexOf("params")==0&&(c=e[f].replace("params=",""));c=c.evalJSON()}catch(g){SN.Utils.error("Badly formed JSON, the request is not meant for this listener","error: ",g)}t(b,c)},r)}var a="clientkey",b="parentdomain",c="serverCall",d="sendSeverData",e="#",f="//"+parent.SN.Conf.CONST_PSP_ROOT+"/psp/",g="/run",h="/v0/setdatatoserver/",i=null,j="serverResponse",k="http",l="POST",m=SN.Constants,n=null,o=SN.XDStorageHandler,q=null,r=p(b),A={runProxy:u};return y(),x(),A}(),$undefined(SN)&&(SN={}),SN.WindowLifecycleManager=function(){function g(){if(f)return;f=!0}function h(b,f,g){if($undefinedOrNull(b)){var h="Invalid Input: URL is  undefined or null";throw h}f[e.PSP_STATIC_SERVER_ID]=c.getPSPStaticRoot(),d.setValueInStore("sn.t","t",JSON.stringify(f)),b+="&",b+=e.PSP_STATIC_SERVER_ID,b+="=",b+=encodeURIComponent(c.getPSPStaticRoot()),a.info("SN.WindowLifecycleManager: Opening a new window with url = "+b),window.open(b,"pxoewindow",g||"width=570,height=395,scrollbars=0")}var a=SN.Utils,b=SN.SessionUtils,c=SN.ConfigurationManager,d=SN.StoreManager,e=SN.Constants,f=!1,i={init:g,openNewWindow:h};return i}(),$undefined(SN)&&(SN={}),SN.Controller=function(){function L(){t.debug("doing clearDomStateRetry: ",(new Date).getTime()),I!=null&&(clearInterval(I),I=null)}function M(a){O(),I=setInterval(function(){N()},a)}function N(){var b=parent.document.readyState;if(b!=F&&E<D){E++,t.info("Retrying for doc ready,docReadyStatus : "+b+", retryCount:"+E);return}L(),SN.Utils.setDomready(!0),v.fire(a.DOMLOADED,{fireImmediately:!0,data:{}}),t.debug("dom is ready: ",(new Date).getTime()),SN.CustomScript.renderInitcall(J)}function O(){t.debug("doing clearRetry: ",(new Date).getTime()),z!=null&&(clearTimeout(z),z=null)}function P(a){O(),retryTimout=setTimeout(function(){S()},a)}function Q(){t.info("SN.Controller:Clearing the psp load timer"),y!=null&&(clearTimeout(y),y=null)}function R(a){try{a!=null&&($(a).remove(),a=null)}catch(b){t.error("Couldn't remove script id : "+a,b)}}function S(){try{if(k){t.info("SN.Controller::service next ready, clearing retry timer"),O();return}if(A>=a.BOOTSRTAP_RETRY_INTERVALS.length){O();return}A++;if(i&&!j){t.infoTrack("inDoRetry:bootstrapRecvd="+j+",retryAttemptCount="+A);var b=s.getGlobalSession();b.initialize(),U(),P(a.BOOTSRTAP_RETRY_INTERVALS[A])}else j?k||(t.infoTrack("inDoRetry:bootstrapRecvd="+j+",bootstrapCompleted="+k+",retryAttemptCount="+A),bb()):t.warn("No retry conditions satisfied, should not be here!!")}catch(c){t.error("exception in doRetry : ",c),t.errorTrack("errorIndoRetry",c)}}function U(){T||(SN.CrossXDataHandler.getLocalStorageItem("persD",SN.CustomScript.getPersistenceData),T=!0);if(t.isCrossDomainSupported()&&r.isXDChannelReady()&&r.isMigrationDone()){var b=s.getGlobalSession();b.initialize()}var c=r.getPageId();if($undefinedOrNull(c)){t.info("SN.Controller: Configuration error, pageId is undefined."),t.info("SN.Controller: Firing a psptrackingupdate event"),t.errorTrack("errorInPageIdUndefined"),v.fireException(null,"pageId is undefined");return}var d=r.getPSPKey(),e=r.getPSPRoot(),f=parent.SN.Conf.CONST_PSP_VERSION,g={};g=u.assembleUrlParams(r.getHotSpots(c),g);var h=r.isBootstrapCachingOn();if($undefinedOrNull(h)||h==0)g[a.PARAM_UUIT]=(new Date).getTime();g[a.ACTIVE_SESSION_START_TIME]=(new Date).getTime(),g[a.PARAM_KEY_ACC_KEY]=d,g[a.PARAM_KEY_PAGEID]=c,g[a.PARAM_KEY_CDN_VERSION]=parent.SN.Conf.CONST_CDN_VERSION,r.isActionPage()&&(g[a.PARAM_ACTION_CONTEXT]=r.getActionContext()),g[a.PARAM_KEY_VI_MAINTAINANCE]=parent.SN.Conf.shouldMaintainVi,g[a.PARAM_KEY_DATA_STORE]=parent.SN.Conf.dataStore,g[a.PARAM_KEY_UNIQUE_TIMESTAMP]=parent.SN.Tracker.getUniquePageId(),g[a.PARAM_KEY_URL_ID]=parent.SN.Conf.getUrlId(),g[a.FINGER_PRINT_ID]=t.getFingerPrint(),g[a.VID_BASED_ON_FPID]=t.isVidBasedonfpid(),g[a.BROWSER_DETAILS]=encodeURIComponent(navigator.userAgent),r.setBootstrapParams(g);var i=t.appendUrlParams(e+"/"+d+"/"+f+a.BOOTSTRAP_CONTEXT,g);t.info("SN.Controller:bootstrap request url: ",i);var j=a.BOOTSTRAP_ID_PREFIX+(new Date).getTime();t.loadJs(i,j),B=j,t.info(new Date,": SN.Controller: Made bootstrap call: id = ",j),t.info("SN.Controller:bootstrap call made at : ",(new Date).getTime())}function V(a){if(g)return;g=!0,h=(new Date).getTime(),B=null;try{r.saveInitConfiguration(a)}catch(b){throw O(),t.info("SN.Controller: Firing a psptrackingupdate event"),v.fireException(null,"pageId evaluation failed."),t.errorTrack("InvalidConfigurationErrorInInitialize,",b),"Invalid configuration: ("+b+")"+a[r.INIT_JS_PAGE_ID]}Y()}function W(){n=window.setInterval(function(){++o;if(r.isXDChannelReady()||o>a.MAX_XD_RETRY_COUNT)X(),U(),P(a.BOOTSRTAP_RETRY_INTERVALS[A])},a.XD_RETRY_INTERVAL)}function X(){$undefinedOrNull(n)||clearInterval(n)}function Y(){try{t.info(new Date,": SN.Controller: initializing on focus"),s.load(),i=!0,r.isXDChannelReady()||!t.isCrossDomainSupported()?(U(),P(a.BOOTSRTAP_RETRY_INTERVALS[A])):W()}catch(b){O(),X(),t.info("Exception occured in SN.Controller.initializeOnlyWhenInFocus:,",b),t.errorTrack("errorInInitializeOnlyWhenInFocus",b)}}function Z(b,c){t.info("SN.Controller:bootstrap response: ",b);if(j)return;j=!0,B=null;if(b.code==a.BOOTSTRAP_VISITOR_GROUP_NOT_FOUND){t.errorTrack("VisitorGroupNotFound:"+b.code),O();return}if(b.code==a.BOOTSTRAP_TARGET_ERROR_CODE){t.errorTrack("OutOfTargetGeo:"+b.code),O();return}if($undefinedOrNull(b.bsdata)){t.errorTrack("bootstrap configuration is undefined"),O();return}try{r.saveBootstrapConfiguration(b),w.saveBootstrapData(b)}catch(d){throw t.info("SN.Controller: Firing a psptrackingupdate event"),t.errorTrack("errorInSaveBootstrapConfiguration",d),O(),"Invalid bootstrap configuration: ("+d+")"}v.fire(a.BOOTSTRAP_RECEIVED_EVENT,{data:{psi:c}});var e=r.getRuleGroupId(),f=r.shouldStartRE();!$undefinedOrNull(b.bsdata)&&!$undefinedOrNull(b.bsdata.newState)&&(K=b.bsdata.newState.state),f&&!$undefinedOrNull(e)&&e!=""&&(t.info("SN.Controller:GetRules response: ",b),r.saveGetRulesConfiguration(b)),Q(),bb(c)}function _(b,c){t.info("SN.Controller:stateChange response: ",b),!$undefinedOrNull(b.bsdata)&&!$undefinedOrNull(b.bsdata.newState)&&(K=b.bsdata.newState.state);try{r.saveBootstrapConfiguration(b)}catch(d){throw t.info("SN.Controller: Firing a psptrackingupdate event"),v.fireException(null,"Invalid statechange configuration."),t.errorTrack("doStateChangeUpdate:InvalidConfigurationException",d),"Invalid bootstrap configuration: ("+d+")"}var e=s.getGlobalSession(),f=r.getVisitorId();e.updateVisitorInfo(f,r.getVisitorGroup(),r.getTargetPopulationId(),r.getTargetId(),r.getVGRandomNumber(),r.getTPRandomNumber(),r.getActiveSessionLifeTime(),r.getRandomNoLifeTime(),r.getSamplingStorage()),t.info("SN.Controller: Updated visitor and visitor session info"),cb();var g={},h={};h.newState=K,h.newVid=f;var i=r.getBootstrapParams();$undefinedOrNull(i)||(h.ed=i),g.data=h,g.eventId=a.STATE_CHANGE_COMPLETED_EVENT,v.fire(a.STATE_CHANGE_COMPLETED_EVENT,g),t.info("SN.Controller: Fired state change event"),db(c)}function ab(){v.fire(a.BOOTSTRAP_UPDATE_COMPLETED_EVENT,{eventId:a.BOOTSTRAP_UPDATE_COMPLETED_EVENT})}function bb(b){if(k)return;var c=s.getGlobalSession();t.info("SN.Controller : Session creation start time : ",(new Date).getTime());var d=r.getVisitorId(),e=r.getVisitorGroup(),f=r.getTargetPopulationId(),g=r.getTargetId();t.info("SN.Controller: ####### doBootstrapUpdates: updating visitor Info with newVisitorId:",d,", visGroup:",e,"targetPopulationId:",f,"targetId:",g),c.updateVisitorInfo(d,e,f,g,r.getVGRandomNumber(),r.getTPRandomNumber(),r.getActiveSessionLifeTime(),r.getRandomNoLifeTime(),r.getSamplingStorage());var h={},i={};i.newState=K,i.newVid=d;var j=r.getBootstrapParams();$undefinedOrNull(j)||(i.ed=j),h.data=i,h.eventId=a.BOOTSTRAP_COMPLETED_EVENT,v.fire(a.BOOTSTRAP_COMPLETED_EVENT,h),k=!0,t.info(new Date,": SN.Controller: bootstrap update completed. firing onload events next"),cb(),eb(),db(b),ib(),t.isCrossDomainSupported()&&ab(),t.debugTrack("bootstrapUpdatesLoaded")}function cb(){var b=r.getFSMUpdateVariables();if($undefinedOrNull(b)){t.info("There are no update variables defined for this page");return}for(var c=0;c<b.length;c++){var d=b[c];try{var e=s.doUpdateFSMVariable(d);r.updateMappedRuleVariables(d,e)}catch(f){t.error("SN.Controller: error occurred while evaluating/updating mapped rule variables using update :",d,f)}}(parent.SN.Conf.dataStore=="server"||t.isVidBasedonfpid())&&v.fire(a.UPDATE_SN_AS_EVENT,null),v.fire(a.UPDATE_FSMVARIABLES_EVENT,{eventId:a.UPDATE_FSMVARIABLES_EVENT})}function db(b){var c=r.getOnLoadEvent();$undefinedOrNull(c)||(t.info("SN.Controller: firing on load event: ",c),v.fire(a.PAGE_TRIGGER,{eventId:a.PAGE_TRIGGER,data:{psi:b,ruleId:c}}))}function eb(){var b=SN.ExitHistory?SN.ExitHistory.getLastExitLink():null,c=null;t.info("SN.Controller: firing tracking events for eventId - ",a.PAGE_EVENT_VISIT_TO_TAGGED_PAGE);var d={eventId:a.PAGE_EVENT_VISIT_TO_TAGGED_PAGE,data:{f:r.getTrackableFSMVariables(a.PAGE_EVENT_VISIT_TO_TAGGED_PAGE)},sr:"PAGE_LOAD",x:!1};$undefinedOrNull(SN.CustomScript.getDecodedValue)||(c=SN.CustomScript.getDecodedValue(b),$undefinedOrNull(c)||(d.data.ed={},d.data.ed.el=c)),$undefinedOrNull(d.data.f.v)&&(d.data.f.v={}),$undefinedOrNull(d.data.f.v.geo)&&(d.data.f.v.geo={}),parent.SN.Conf.browserGeoLocationFlag?(d.data.f.v.geo.lt="b",$getGeoBrowserLocationError().length!=2?d.data.f.v.geo.loc=[parseFloat($getGeoLongitudeBrowser()),parseFloat($getGeoLatitudeBrowser())]:(d.data.f.v.geo.le=$getGeoBrowserLocationError(),d.data.f.v.geo.lt="s",d.data.f.v.geo.loc=[parseFloat($geoLongitude()),parseFloat($geoLatitude())])):(d.data.f.v.geo.lt="s",d.data.f.v.geo.loc=[parseFloat($geoLongitude()),parseFloat($geoLatitude())]),$undefinedOrNull(d.data.f.c)||(d.data.f.c={}),d.data.f.c.pas=SN.CustomScript.getPreviousUserJourney(),v.fire(a.VISITOR_EVENT,d),t.debugTrack("fired:"+a.PAGE_EVENT_VISIT_TO_TAGGED_PAGE)}function fb(b,c,d,e){t.debugTrack("processRuleTrigger: ruleFired:"+b);var f=r.getPageId(),g=r.getRuleConfig(b);if($undefinedOrNull(g)){v.fire(a.VISITOR_EVENT,{eventId:a.PAGE_EVENT_RULE_TRIGGER_DROPPED,data:{psi:d,ssi:c,ed:{pageid:f,reason:"ruleConfig is undefined or null",ruleId:b}},sr:"RULE_TRIGGERED",x:!0}),t.errorTrack("ruleConfigIsNotDefinedForRule:"+b);return}var h=e;$undefinedOrNull(h)&&(h={}),h.psi=d,h[a.SOURCE_SEQUENCE_ID]=c,h.ruleId=b,t.info("SN.Controller: processing (",b,")");var i=r.getHandlerConfig(b),j=r.getEventhandlerConfig(i),k=j.handlerType;if($undefinedOrNull(k)||p[k]!=1){v.fire(a.EXCEPTION_EVENT,{eventId:a.RULE_TRIGGERED_EXCEPTION_EVENT,data:{psi:d,ssi:c,ed:{pageid:f,reason:"handlerConfig is either not defined or invalid"}},sr:"RULE_TRIGGERED",x:!0}),t.errorTrack("ruleHandlerIsInvalidForRule:"+b);return}h.handlerType=k;var l={};l.data=e,$undefinedOrNull(l.data.f)&&(l.data.f={}),$undefinedOrNull(l.data.f.v)&&(l.data.f.v={}),SN.CustomScript.setQueueForRuleID(h.ruleId),l.data.f.v.ri=h.ruleId,l.data.f.v.rc=h.ruleId.indexOf("button")!=-1?"b":"p",l.data.f.v.rn=h.ruleId,l.data.f.a.qu=SN.CustomScript.getQueue(h.ruleId),l.eventId=G,v.fire(H,l),k==a.EVENT_HANDLER_JS?(t.info("SN.Controller: Firing a custom js handler event for rule ",b),v.fire(a.PAGE_ACTION_EVENT,{eventId:a.EVENT_HANDLER_JS,data:h})):(t.info("SN.Controller: Firing a show UI event for rule ",b),v.fire(a.PAGE_ACTION_EVENT,{eventId:a.SHOW_UI,data:h}))}function gb(){cb(),v.fire(a.PERIODICAL_EXECUTION_TIMER_EVENT,{data:{iterationId:++d}}),l=(new Date).getTime()}function hb(){c!=null&&(clearInterval(c),c=null)}function ib(){hb();var a=r.getPollingInterval();gb(),c=setInterval(function(){gb()},a*1e3)}function jb(){x.init()}function kb(a,b){try{m=b,r.setPSPKey(a),f=parent.SN.Conf.CONST_PSP_VERSION,r.setPSPVersion(f),r.setPSPStaticRoot(b);if(C==1){t.warn("SN.Controller.doInit: controller already started");return}t.info(new Date,": SN.Controller: SN loaded, starting initialization procedure"),t.infoTrack("inDoInit"),C=!0,s.onControllerInit(),jb(),J=a,M(200)}catch(c){t.error("Exception in SN.Controller.doInit(),",c),t.errorTrack("errorInDoInit",c)}}function lb(){return e||{location:{},isp:{}}}function nb(a){a.indexOf("http://")==0?top.location.href=a:top.location.href=t.getContext(top.location.href)+"/"+a}function ob(b){var c=b.memo,d=c.eventId,e=c.data,f=c.s;if(d==a.PAGE_EVENT_INITIALIZE)V(e);else if(d==a.PAGE_EVENT_BOOTSTRAP)Z(e,f);else if(d==a.PAGE_EVENT_STATE_CHANGE_UPDATE)_(e,f);else if(d==a.RULES_TRIGGERED){var g=c.data.ruleId,h=e.ssi;fb(g,h,f,e)}}function pb(){v.observe(a.PAGE_TRIGGER,function(b){var c=b.memo.data,d=c.ruleId,e=r.getTrackableFSMVariables(a.PAGE_TRIGGER,d),f=c.ssi,g=b.memo.s;v.fire(a.PAGE_EVENT,{eventId:a.RULES_TRIGGERED,sr:a.PAGE_TRIGGER,data:{psi:g,ssi:f,ruleId:d,f:e}})}),v.observe(a.CUSTOM_RULE_TRIGGER_EVENT,function(b){var c=b.memo.data,d=c.ruleId,e=r.getTrackableFSMVariables(a.CUSTOM_RULE_TRIGGERED,d),f=c.ssi,g=b.memo.s;v.fire(a.PAGE_EVENT,{eventId:a.RULES_TRIGGERED,sr:a.CUSTOM_RULE_TRIGGER_EVENT,data:{psi:g,ssi:f,ruleId:d,f:e}})}),v.observe(a.PAGE_EVENT,ob)}var a=SN.Constants,b="bsid",c=null,d=0,e=null,f=null,g=!1,h=-1,i=!1,j=!1,k=!1,l=-1,m=null,n=null,o=0,p={};p[a.EVENT_HANDLER_CHAT]=!0,p[a.EVENT_HANDLER_CHAT_INVITE]=!0,p[a.EVENT_HANDLER_PP]=!0,p[a.EVENT_HANDLER_VIDEO]=!0,p[a.EVENT_HANDLER_JS]=!0,p[a.EVENT_HANDLER_SHOW_CHAT_WINDOW]=!0,p[a.EVENT_HANDLER_SCC]=!0,p[a.EVENT_HANDLER_WOWPX]=!0,p[a.EVENT_HANDLER_ADP]=!1;var q=SN.WebTracker,r=SN.ConfigurationManager,s=SN.SessionManager,t=SN.Utils,u=SN.SessionUtils,v=SN.EventManager,w=SN.StoreManager,x=SN.WindowLifecycleManager,y=null,z=null,A=0,B=null,C=!1,D=15,E=0,F="complete",G=11e4,H="RULE_ENGINE_EVENT",I=null,J=null,K="",T=!1,mb={start:ib,doInit:kb,getGeoInfo:lb};return pb(),window.setTimeout(function(){hb()},SN.Constants.POLLER_TIMEOUT),mb}(),typeof SN=="undefined"&&(SN={}),SN.DecisionMaker=function(){function e(){var e=parent.location.hostname+parent.location.pathname;SN.WebPageFilter.shouldServeURL(e)?a.doInit(c,d):b.info("This url is filtered out : "+e)}var a=SN.Controller,b=SN.Utils,c=b.getClientKey(),d=b.getPSPCDNRoot();e()}(),$undefinedOrNull(SN)&&(SN={}),SN.JSEventController=function(){var SN_CONSTANTS=SN.Constants,utils=SN.Utils,eventManager=SN.EventManager,configStore=SN.ConfigurationManager;eventManager.observe(SN_CONSTANTS.PAGE_ACTION_EVENT,function(event){if(SN.CustomScript.isIPBlocked()&&SN.CustomScript.isVhaRetailSupportPage()=="0"&&!SN.CustomScript.isDirectChat())return;var eventContext=event.memo,eventId=eventContext.eventId,ruleId=eventContext.data[SN_CONSTANTS.RULE_ID];if(eventId!=SN_CONSTANTS.EVENT_HANDLER_JS)return;try{var ruleConfig=configStore.getRuleConfig(ruleId);if($undefinedOrNull(ruleConfig)){utils.error("SN.JSEventController: ruleConfig is null, returning..without being able to process the custom JS..");return}eval(ruleConfig.js),utils.debug("SN.JSEventController: Sucessfully executed custom javascript for rule: ",ruleId)}catch(err){utils.errorTrack("SN.JSEventControllerJSExecutionFailedForRule:"+ruleId,err)}})}(),$undefined(SN)&&(SN={}),SN.Executer=function(){function u(a){if(!v(a)){var c="invalid input, invalid senderObject";throw c}var b=a.getName();k[b]=a,f.info("SN.Executer:senderName- ",b," registered as a Data Sender")}function v(a){return a.getName&&a.getRequestDataCallback&&a.putResponseDataCallback&&!$undefinedOrNull(a.getName())&&a.getName().length>0}function w(){var a="rr-"+q;return q++,a}function x(a,b,c){f.info("SN.Executer: runRules call post params = ",b),lastPostCallTs=(new Date).getTime(),p!=null&&(clearTimeout(p),p=null,f.warn("SN.Execuer: runRulesTimeoutTimer was not null just before making the runRules call, could be a potential issue!")),p=window.setTimeout(y,o),l=!0,n=!1,m=c,r=!1,s=[],h.makeXDRequest(a,b,function(a){var b=null,c=a.data.split("&");for(var g=0;g<c.length;g++)if(c[g].indexOf("params")==0){b=c[g].replace("params=","");break}if(b==null){f.warn("SN.Executer: null Response received from server");return}var h=b.evalJSON(),j=h.s,k=h.response;if(j==0){var l=h.code,m=h.category;f.error("SN.Executer: Error Response received from server with (errorCode, Category) = (",l,", ",m,"); Msg: ",a)}else i.fire(d,{data:{cmd:e,params:k}})}),f.infoTrack("makeRunRulesCallLoaded")}function y(){l&&(f.warn("SN.Executer:RunRules timed out, setting runRulesGoingOn to false "),C(),D())}function z(a,b){for(var c in b)a[c]=b[c]}function A(d){var e=s,g=j.getPSPRoot(),h=j.getPSPKey(),i=j.getPSPVersion();if($undefinedOrNull(g)||$undefinedOrNull(h)){var l="pspRoot ("+g+") or pspKey ("+h+") not available";throw f.error(l),l}var m={};m[b]=h;var n=w();m[c]=n;var o=!1;if(d)for(var p in k){var q=k[p],r=q.getRequestDataCallback();$undefinedOrNull(r)||(f.info("SN.Executor: received sender data from sender name - "+p),z(m,r),t.push(p),o=!0)}else while(e.length>0){var p=e.pop(),q=k[p],r=q.getRequestDataCallback();$undefinedOrNull(r)||(f.info("SN.Executor: received sender data from sender name - "+p),z(m,r),t.push(p),o=!0)}o&&x(g+"/"+h+"/"+i+a,m,n)}function B(a){f.info("SN.Executer: runRules response ",a);while(t.length>0){var b=t.pop(),c=k[b];$undefinedOrNull(c)||c.putResponseDataCallback(a)}C(),D()}function C(){t=[],l=!1,m=null,clearTimeout(p),p=null}function D(){n&&A(r)}function E(){i.observe(g.CONST_PERIODICAL_EXECUTION_TIMER_EVENT,function(a){if(l)n=!0,r=!0;else{var b=!0;A(b)}}),i.observe(d,function(a){var b=a.memo;if($undefinedOrNull(b)||$undefinedOrNull(b.data))return;var c=b.data.cmd;if($undefinedOrNull(b.data)||$undefinedOrNull(b.data.params)||$undefinedOrNull(b.data.params.response))return;var d=b.data.params.response;if($undefinedOrNull(c)||$undefinedOrNull(d))return;if(c==e){var g=d.req;l&&g==m?B(d):f.info("SN.Executer: received a late response from the server, so, ignoring it.")}})}var a="/run.js?",b="key",c="req",d="xdevent",e="ruleevent",f=SN.Utils,g=SN.Constants,h=SN.CrossXHR,i=SN.EventManager,j=SN.ConfigurationManager,k={},l=!1,m=null,n=!1,o=4e3,p=null,q=1,r=!1,s=[],t=[],F={registerAsDataSender:u};return E(),F}(),$undefined(SN)&&(SN={}),SN.PSPTracker=function(){function u(){k.observe(b,v),k.observe(c,v),k.observe(e,v),k.observe(d,v),k.observe(f,v),k.observe(h,w),k.observe(g,v),k.observe(i,v),k.observe(j,v)}function v(a){var b=a.memo;l.debug("SN.PSPTracker: Recieved a tracking event, eventId - ",b.eventId);var c=b.data,d=b[q],e=c.ruleId,f=!1,g={};g[r]=d;var h=c.idm;$undefinedOrNull(h)||(g.idm=h),$undefinedOrNull(b.trackingSecured)||(f=b.trackingSecured);if(!$undefinedOrNull(b.sessionStartEvent)){g.fpid=l.getFingerPrint(),$undefinedOrNull(g.nav)&&(g.nav={},parent.navigator.battery&&(g.nav.battery=parent.navigator.battery),parent.navigator.buildID&&(g.nav.buildID=parent.navigator.buildID),parent.navigator.cookieEnabled&&(g.nav.ce=parent.navigator.cookieEnabled),parent.navigator.language&&(g.nav.lang=parent.navigator.language),parent.navigator.javaEnabled&&(g.nav.je=parent.navigator.javaEnabled()),parent.navigator.doNotTrack&&(g.nav.dnt=parent.navigator.doNotTrack),parent.navigator.oscpu&&(g.nav.oscpu=parent.navigator.oscpu),parent.SN.Conf.pluginsToBeTracked&&parent.navigator.plugins&&(g.nav.plugins=parent.navigator.plugins),parent.SN.Conf.mimeTypesToBeTracked&&parent.navigator.mimeTypes&&(g.nav.mimeTypes=parent.navigator.mimeTypes)),$undefinedOrNull(g.win)&&(g.win={},g.win.screenX=parent.window.screenX,g.win.screenY=parent.window.screenY,g.win.scrollMaxX=parent.window.scrollMaxX,g.win.scrollMaxY=parent.window.scrollMaxY,g.win.fullscr=parent.window.fullscreen,g.win.innerHeight=parent.window.innerHeight,g.win.innerWidth=parent.window.innerWidth,g.win.scrollX=parent.window.scrollX,g.win.scrollY=parent.window.scrollY,g.win.outerHeight=parent.window.outerHeight,g.win.outerWidth=parent.window.outerWidth);if($undefinedOrNull(g.ran)){g.ran={};var i=document.referrer,j="",k=null;if(i=="")k="typed/bookmarked";else{j=i.match(/\/.*\//)[0].substr(2,i.length-1);var n=["www.google","yahoo","bing","search.aol","ask.co","wow","webcrawler","mywebsearch","infospace","info","dogpile","duckduckgo","blekko","contenko","alhea"],p=["facebook","twitter","linkedin","pinterest","plus.google","tumblr","instagram","www.vk.com","flickr","myspace","tagged","ask.fm","meetup","meetme","classmates"];for(var s in n)if(j.indexOf(s)!=-1){k="searchEngine";break}for(var u in p)if(j.indexOf(u)!=-1){k="social";break}$undefinedOrNull(k)&&(k="others")}g.ran.refDomain=j,g.ran.refType=k}}$undefinedOrNull(b.previousActivesession)||(g.pat=b.previousActivesession),$undefinedOrNull(b[o])?g[o]=(new Date).getTime():g[o]=b[o];var v=c.r;$undefinedOrNull(v)||(g.r=v);var w;w=navigator.userAgent,g.bd=encodeURIComponent(w);var x=c.f;$undefinedOrNull(x)||(g.f=x);var y=c.ed;if(!$undefinedOrNull(e)){$undefinedOrNull(y)&&(y={}),y.rn=e;if(!$undefinedOrNull(parent.SN.Conf.ruleTypeMapping))for(var z in parent.SN.Conf.ruleTypeMapping)if(e.indexOf(z)!=-1){g.f.v.rc=parent.SN.Conf.ruleTypeMapping[z];break}}$undefinedOrNull(parent.SN.Conf.tnt)||(g.tnt=parent.SN.Conf.tnt),$undefinedOrNull(parent.SN.Conf.stnt())||(g.stnt=parent.SN.Conf.stnt()),$undefinedOrNull(y)||(g.ed=y),b.s>t?t=b.s:l.error("SN.PSPTracker: received an older seqId event, its a bug !"),l.info("SN.PSPTracker: eventId: ",d,"trackableData: ",g);var A={};A.key=m.getPSPKey(),parent.SN.Tracker.constructAndMakeTrackingCall(A,g,null,f)}function w(a){var b={},c=a.memo,d=!1;l.copyParams(c,b),$undefinedOrNull(b.trackingSecured)||(d=b.trackingSecured,delete b.trackingSecured),b.tseq=s,s++,l.info("SN.PSPTracker: generic trackableData: ",b);var e={};e.key=l.getClientKey(),parent.SN.Tracker.constructAndMakeTrackingCall(e,b,null,d)}function x(a,b,c,d,e,f){l.debug("SN.PSPTracker: Recieved a tracking event, eventId - ",a);var g={};g[r]=a,g[o]=(new Date).getTime(),$undefinedOrNull(c)||(g.r=c),$undefinedOrNull(b)||(g.f=b),$undefinedOrNull(d)||(g.ed=d),$undefinedOrNull(parent.SN.Conf.tnt)||(g.tnt=parent.SN.Conf.tnt),$undefinedOrNull(parent.SN.Conf.stnt())||(g.stnt=parent.SN.Conf.stnt()),l.info("SN.PSPTracker: eventId: ",a,"trackableData: ",g);var h={};return h.key=m.getPSPKey(),parent.SN.Tracker.constructAndMakeTrackingCall(h,g,e,f)}function y(){return a}var a="psptrackersender",b="VISITOR_EVENT",c="RULE_ENGINE_EVENT",d="CUSTOM_EVENT",e="exceptionevent",f="WOWPXAPP_EVENT",g="MULTIPLE_RULES_SATISFIED_EVENT",h="CUSTOM_TRACK_EVENT",i="exitLinkEvent",j="SESSION_START_EVENT",k=SN.EventManager,l=SN.Utils,m=SN.ConfigurationManager,n=SN.Constants,o="st",p="s",q="eventId",r="ec",s=0,t=-1,z={getName:y,trackEventData:x};return u(),z}(),$undefined(SN)&&(SN={}),SN.RulesRuntime=function(){function appendOnlyRules(a,b,c){var d=!0;for(var e in c)d===!0?(d=!1,a[b]=""):a[b]+=",",a[b]+=e}function appendRuleEngineDataToRunRulesParams(a){var b=configStore.getRuleGroupId();$undefinedOrNull(activatedRules)||appendOnlyRules(a,PARAM_KEY_PC_SATSIFIED_RULES,activatedRules),$undefinedOrNull(b)||(a[CONST_PARAM_KEY_RULE_GROUP_ID]=configStore.getRuleGroupId());var c=configStore.getGeneratedRuleVariables();if(!$undefinedOrNull(c))for(var d in c){var e=c[d];$undefinedOrNull(e.value)||(a[d]=encodeURIComponent(e.value))}var f=configStore.getMappedRuleVariables();if(!$undefinedOrNull(f))for(var d in f){var g=f[d];!$undefinedOrNull(g)&&!$undefinedOrNull(g.value)&&(a[d]=encodeURIComponent(g.value))}var h=configStore.getFSMUpdateVariables();for(var i=0;i<h.length;i++){var j=h[i];a[j.key]=encodeURIComponent(sessionManager.doGetFSMVariable(j))}return a[SN.Constants.VISITOR_ID]=configStore.getVisitorId(),a[SN.Constants.VG_RANDOM_NUMBER]=configStore.getVGRandomNumber(),a[SN.Constants.TP_RANDOM_NUMBER]=configStore.getTPRandomNumber(),a[SN.Constants.VERSION]=configStore.getPSPVersion(),a[SN.Constants.ACTIVE_SESSION]=storeManager.getValueFromStore(SN.Constants.SN_VI_STORE_NAME,SN.Constants.ACTIVE_SESSION),a[CONST_EVENT_CODE]=CONST_MODEL_EVALUATION,a[CONST_PXOE_VERSION]=SN.Conf.PXOE_VERSION,a[CONST_TRACKER_VERSION]=SN.Conf.TRACKING_VERSION,a[CONST_VISITOR_GRUOP]=configStore.getVisitorGroup(),a[CONST_TARGET_ID]=configStore.getTargetId(),a[CONST_TARGET_POPULATION]=configStore.getTargetPopulationId(),a[CONST_BROWSER_DATA]=encodeURIComponent(navigator.userAgent),a}function getName(){return CONST_RULES_RUNTIME_SENDER_NAME}function processRules(){if(configStore.getRules()==null)return;computeGeneratedRuleVariables();var a={};a[CONST_ACTIVATED_RULES]={},a[CONST_LAST_EXECUTION_TS_SERVER]=lastExecutionTsServer;var b=!1,c=configStore.getRules();if(!$undefinedOrNull(c))for(var d in c)preconditionsSatisfied(d)&&(a[CONST_ACTIVATED_RULES][d]=!0,b=!0);return b?(activatedRules=a[CONST_ACTIVATED_RULES],lastExecutionTsServer=a[CONST_LAST_EXECUTION_TS_SERVER],a):null}function getRequestDataCallback(){var a=Math.floor(((new Date).getTime()-lastCheckPointTS)/1e3);if(a<configStore.getPollingInterval()-1)return utils.info("SN.RulesRuntime: Time diff between this call and previous call is less than ",configStore.getPollingInterval()," So returning NULL"),null;var b=processRules();if(b==null)return null;var c={};return appendRuleEngineDataToRunRulesParams(c),lastCheckPointTS=(new Date).getTime(),c}function putResponseDataCallback(a){utils.infoTrack("runRulesResponseReceivedByRulesRuntime","");var b=a.fire;if($undefined(b))return;window.setTimeout(function(){lastExecutionTsServer=a.timestamp;var b=a.fire;processRulesFired(b)},1)}function evaluateInCondition(a,b){var c=b.split(",");for(var d=0;d<c.length;d++)if(c[d]==a)return!0;return!1}function evaluateTimerCondition(a,b){var c=getOperandValue(b[0]),d=getOperandValue(b[1]);switch(a){case OPERATOR_EQ:return c==d;case OPERATOR_LT:return c<d;case OPERATOR_LTE:return c<=d;case OPERATOR_GT:return c>d;case OPERATOR_GTE:return c>=d;case OPERATOR_NOTEQ:return c!=d;default:return!1}}function evaluateExists(a){return $undefinedOrNull(configStore.getMappedRuleVariableValue(a))?!1:!0}function getOperandValue(a){var b;if(a.type===CONSTANT_TYPE)return b=a.expr,b;if(a.type===VARIABLE_TYPE){var c=a.expr;b=configStore.getGeneratedRuleVariableValue(c)}return $undefinedOrNull(b)&&(b=configStore.getMappedRuleVariableValue(a.expr)),b}function evaluateVariableCondition(a,b){if(b.length==1&&a==OPERATOR_EXISTS)return evaluateExists(b[0]);var c=getOperandValue(b[0]),d=getOperandValue(b[1]);switch(a){case OPERATOR_EQ:return c==d;case OPERATOR_LT:return c<d;case OPERATOR_LTE:return c<=d;case OPERATOR_GT:return c>d;case OPERATOR_GTE:return c>=d;case OPERATOR_NOTEQ:return c!=d;case OPERATOR_CONTAINS:return $contains(c,d);case OPERATOR_NOT_CONTAINS:return!$contains(c,d);case OPERATOR_STARTS_WITH:return $startsWith(c,d);case OPERATOR_NOT_STARTS_WITH:return!$startsWith(c,d);case OPERATOR_ENDS_WITH:return $endsWith(c,d);case OPERATOR_NOT_ENDS_WITH:return!$endsWith(c,d);case OPERATOR_REGEX:return $patternMatch(c,d);case OPERATOR_IN:return evaluateInCondition(c,d);default:return!1}}function evaluatePreconditions(a){if(a==null||a.length==0)return!0;var b=!0;for(var c=0;c<a.length;c++){var d=a[c],e=d.type||"",f=d.operator,g=d.operands,h=!1;f=f.toLowerCase(),e=e.toLowerCase(),f==OPERATOR_EXISTS?b=b&&!$undefined(configStore.getMappedRuleVariableValue(g[0])):(e==CONDITION_TYPE_TIMER?h=evaluateTimerCondition:h=evaluateVariableCondition,b=b&&h.call(this,f,g));if(b===!1)return b}return b}function computeGeneratedRuleVariables(){var generatedRuleVariables=configStore.getGeneratedRuleVariables();if(!$undefinedOrNull(generatedRuleVariables))for(var key in generatedRuleVariables){var variable=generatedRuleVariables[key];try{variable.value=eval(variable.expr),configStore.updateGeneratedRuleVariable(variable.key,variable.value)}catch(err){utils.error("SN.RulesRuntime.computeGeneratedRuleVariables : failed to evaluate & update generated rule variable : ",variable,"error:",err)}}}function trackMultipleRule(a){var b=a[0],c={},d=CONST_MULTIPLE_RULES_SATISFIED;c.eventId=d;var e={},f={};f.rtf=b,f.rcs=a,e.ed=f,c.data=e,utils.info("SN.RulesRuntime: Firing tracking event for  MULTIPLE_RULES_SATISFIED"),eventManager.fire(CONST_MULTIPLE_RULES_SATISFIED_EVENT,c)}function processRulesFired(a){utils.info("SN.RulesRuntime: Fired ruleset: ",a);var b=CONST_RULES_TRIGGERED,c={};c.eventId=b;var d=a.length;if(d<1){utils.info("SN.RulesRuntime: No rules to fire ");return}d>1&&trackMultipleRule(a);var e={},f={},g=a[0];f.ruleId=g,e.ed=f,e.ruleId=g;var h=configStore.getTrackableRuleVariables(b,g);$undefinedOrNull(h)||(e.r=h);var i=configStore.getTrackableFSMVariables(b,g);$undefinedOrNull(i)||(e.f=i),c.data=e,c.sr=CONST_RULE_ENGINE_SOURCE,utils.info("SN.RulesRuntime: FIRING_TRACKING_EVENT for eventId - ",b),eventManager.fire(CONST_PAGE_EVENT,c),utils.debugTrack("firedRule",{ruleId:g})}function preconditionsSatisfied(a){var b=configStore.getRules(),c=b[a];if($undefined(c))return!1;var d=c.preconditions||[],e=!0;return $undefinedOrNull(d)||(e=evaluatePreconditions(d)),utils.info("SN.RulesRuntime: result is: ",e," for rule: ",a),e}var CONST_BOOTSTRAP_RECEIVED_EVENT="bootstrapRecvd",CONST_MULTIPLE_RULES_SATISFIED=110004,CONST_RULES_TRIGGERED=11e4,CONST_MULTIPLE_RULES_SATISFIED_EVENT="MULTIPLE_RULES_SATISFIED_EVENT",CONST_RULE_ENGINE_SOURCE="rule",CONST_PAGE_EVENT="pageevent",CONST_PXOE_VERSION="vp",CONST_TRACKER_VERSION="vt",CONST_VISITOR_GRUOP="vg",CONST_TARGET_ID="ti",CONST_TARGET_POPULATION="tp",CONST_BSID="bsid",CONST_BROWSER_DATA="bd",CONST_EVENT_CODE="ec",CONST_MODEL_EVALUATION="110005",OPERATOR_EQ="eq",OPERATOR_NOTEQ="noteq",OPERATOR_CONTAINS="contains",OPERATOR_NOT_CONTAINS="notcontains",OPERATOR_STARTS_WITH="startswith",OPERATOR_NOT_STARTS_WITH="notstartswith",OPERATOR_ENDS_WITH="endswith",OPERATOR_NOT_ENDS_WITH="notendswith",OPERATOR_REGEX="regex",OPERATOR_LT="lt",OPERATOR_GT="gt",OPERATOR_LTE="lteq",OPERATOR_GTE="gteq",OPERATOR_IN="in",OPERATOR_EXISTS="exists",CONDITION_TYPE_TIMER="timer",CONST_ACTIVATED_RULES="activatedrules",CONST_LAST_EXECUTION_TS_SERVER="l",VARIABLE_TYPE="v",CONSTANT_TYPE="c",CONST_RULES_RUNTIME_SENDER_NAME="rulesruntime",PARAM_KEY_PC_SATSIFIED_RULES="pc",CONST_PARAM_KEY_RULE_GROUP_ID="rg",activatedRules={},lastExecutionTsServer=-1,eventManager=SN.EventManager,sessionManager=SN.SessionManager,storeManager=SN.StoreManager,utils=SN.Utils,configStore=SN.ConfigurationManager,lastCheckPointTS=-1,me={getName:getName,getRequestDataCallback:getRequestDataCallback,putResponseDataCallback:putResponseDataCallback};return eventManager.observe(CONST_BOOTSTRAP_RECEIVED_EVENT,function(){lastCheckPointTS=-1e4,SN.Executer.registerAsDataSender(me)}),me}(),$undefined(SN)&&(SN={}),$undefined(SN.WOWPx)&&(SN.WOWPx={}),$undefined(SN.WOWPx.UI)&&(SN.WOWPx.UI={}),SN.WOWPx.UI.WOWPxInvite=Class.create({CONST_WIDGET_ID:"sn-invite-main",CONST_FRAME_ID:"sn-invite-main-frame",CONST_TOOLBAR_ID:"sn-invite-toolbar",CONST_ACCEPT_ID:"sn-invite-accept",CONST_DECLINE_ID:"sn-invite-decline",CONST_INVITE_ACTION_EVENT:"wowpxinviteactionevent",CONST_INVITE_SHOWN_EVENT:"10000",CONST_INVITE_ACCEPT_EVENT:"20000",CONST_INVITE_DECLINE_EVENT:"30000",CONST_INVITE_IGNORE_TIMEOUT:6e4,ignoretimeout:undefined,initialMouseX:undefined,initialMouseY:undefined,startX:undefined,startY:undefined,draggedObject:undefined,initialize:function(a,b,c,d,e,f,g){window.availabilityStatusProactive===!0&&(this.CONST_TS=(new Date).getTime(),this.clid=SN.Utils.getUniqueId(),this.appId="VAU_APP01_01",this.ruleId=g,this.widget=parent.document.createElement("div"),this.widget.id=this.CONST_WIDGET_ID+this.CONST_TS,this.accept=parent.document.createElement("button"),this.accept.id="accept_chat",this.decline=parent.document.createElement("button"),this.decline.id="decline_chat",this.close=parent.document.createElement("button"),this.close.id="close_chat",this.expand=parent.document.createElement("button"),this.expand.id="expand_chat",this.acceptOne=parent.document.createElement("button"),this.acceptOne.id="acceptOne_chat",this.acceptTwo=parent.document.createElement("button"),this.acceptTwo.id="acceptTwo_chat",Element.hide(this.widget),a.acceptStyle&&Element.insert(this.widget,this.accept),a.declineStyle&&Element.insert(this.widget,this.decline),a.closeStyle&&Element.insert(this.widget,this.close),a.expandStyle&&Element.insert(this.widget,this.expand),a.acceptOneStyle&&Element.insert(this.widget,this.acceptOne),a.acceptTwoStyle&&Element.insert(this.widget,this.acceptTwo),$undefinedOrNull(a.lightbox)&&(this.widgetwrap=parent.document.createElement("div"),this.widgetwrap.id="widget_overlay",Element.setStyle(this.widgetwrap,a.widgetOverlay),this.widgetwrap.style.opacity=.7,this.widgetwrap.style.filter="alpha(opacity=70)",parent.document.body.appendChild(this.widgetwrap)),parent.document.body.appendChild(this.widget),this.createInvite(a,b,c,d,e,f,g))},createInvite:function(a,b,c,d,e,f,g){b=="true"&&this.initElement(this.toolbar),$undefinedOrNull(a.closerStyle)||(this.closerStyle=a.closerStyle,Element.setStyle(this.close,this.closerStyle),($undefinedOrNull(a.closerStyle.display)||!$undefinedOrNull(a.closerStyle.display)&&a.closerStyle.display!="none")&&Element.show(this.close)),this.mainFrame=parent.document.getElementById(this.CONST_FRAME_ID),$undefinedOrNull(this.mainFrame)&&(this.mainFrame=parent.document.createElement("div"),this.mainFrame.setAttribute("id",this.CONST_FRAME_ID),$undefinedOrNull(a.frameStyle)||Element.setStyle(this.mainFrame,a.frameStyle)),Element.show(this.mainFrame),$undefinedOrNull(a.acceptStyle)||(this.acceptStyle=a.acceptStyle,Element.setStyle(this.accept,this.acceptStyle),Event.observe(this.accept,"click",this.onAccept.bindAsEventListener(this,a.actions.accept)),($undefinedOrNull(a.acceptStyle.display)||!$undefinedOrNull(a.acceptStyle.display)&&a.acceptStyle.display!="none")&&Element.show(this.accept)),$undefinedOrNull(a.declineStyle)||(this.declineStyle=a.declineStyle,Element.setStyle(this.decline,this.declineStyle),Event.observe(this.decline,"click",this.onDecline.bindAsEventListener(this,a.actions.decline)),($undefinedOrNull(a.declineStyle.display)||!$undefinedOrNull(a.declineStyle.display)&&a.declineStyle.display!="none")&&Element.show(this.decline)),$undefinedOrNull(a.expandStyle)||(this.expandStyle=a.expandStyle,Element.setStyle(this.expand,this.expandStyle),Event.observe(this.expand,"click",this.onExpand.bindAsEventListener(this,a.actions)),($undefinedOrNull(a.expandStyle.display)&&$undefinedOrNull(a.expandStyle.opacity)||!$undefinedOrNull(a.expandStyle.display)&&a.expandStyle.display!="none"||!$undefinedOrNull(a.expandStyle.opacity)&&a.expandStyle.opacity!="0")&&Element.show(this.expand)),$undefinedOrNull(a.acceptOneStyle)||(this.acceptOneStyle=a.acceptOneStyle,Element.setStyle(this.acceptOne,this.acceptOneStyle),Event.observe(this.acceptOne,"click",this.onAccept.bindAsEventListener(this,a.actions.acceptOne)),($undefinedOrNull(a.acceptOneStyle.display)&&$undefinedOrNull(a.acceptOneStyle.opacity)||!$undefinedOrNull(a.acceptOneStyle.display)&&a.acceptOneStyle.display!="none"||!$undefinedOrNull(a.acceptOneStyle.opacity)&&a.acceptOneStyle.opacity!="0")&&Element.show(this.acceptOne)),$undefinedOrNull(a.acceptTwoStyle)||(this.acceptTwoStyle=a.acceptTwoStyle,Element.setStyle(this.acceptTwo,this.acceptTwoStyle),Event.observe(this.acceptTwo,"click",this.onAccept.bindAsEventListener(this,a.actions.acceptTwo)),($undefinedOrNull(a.acceptTwoStyle.display)&&$undefinedOrNull(a.acceptTwoStyle.opacity)||!$undefinedOrNull(a.acceptTwoStyle.display)&&a.acceptTwoStyle.display!="none"||!$undefinedOrNull(a.acceptTwoStyle.opacity)&&a.acceptTwoStyle.opacity!="0")&&Element.show(this.acceptTwo)),$undefinedOrNull(a.closeStyle)||(this.closeStyle=a.closeStyle,Element.setStyle(this.close,this.closeStyle),Event.observe(this.close,"click",this.onDecline.bindAsEventListener(this,a.actions.decline)),($undefinedOrNull(a.closeStyle.display)||!$undefinedOrNull(a.closeStyle.display)&&a.closeStyle.display!="none")&&Element.show(this.close)),$undefinedOrNull(a.popupStyle)||this.setStyle(a.popupStyle),this.widget.style.position="fixed",this.mainFrame.innerHTML=a.htmls.mainFrameHTML,Element.insert(this.widget,this.mainFrame),this.widgetOpacity=c,this.setOpacity(this.widgetOpacity),Element.show(this.widget),SN.CustomScript.showButton(!1),a.actions.shown("VAU_APP01_01",g,this.clid,"p"),this.setTimeoutForIgnore(a.actions,g),SN.EventManager.fire(this.CONST_INVITE_ACTION_EVENT,{eventId:this.CONST_INVITE_SHOWN_EVENT,data:{clid:this.clid}})},setTimeoutForIgnore:function(a,b){$undefinedOrNull(this.ignoretimeout)||clearTimeout(this.ignoretimeout),this.ignoretimeout=window.setTimeout(function(){a.onIgnore(b)},6e4)},setStyle:function(a){Element.setStyle(this.widget,a)},renderToolbar:function(a){this.toolbar=parent.document.getElementById(this.CONST_TOOLBAR_ID+this.CONST_TS),$undefinedOrNull(this.toolbar)?(this.toolbar=parent.document.createElement("div"),this.toolbar.id=this.CONST_TOOLBAR_ID+this.CONST_TS,this.toolbar.style.position="absolute",this.toolbar.style.top="0px",this.toolbar.style.width="100%",this.toolbar.style.left="0px",a=="true"&&(this.toolbar.style.cursor="move"),Element.insert(this.widget,this.toolbar)):Element.hide(this.close)},renderClose:function(a){this.close=parent.document.createElement("div"),this.close.innerHTML="",this.close.style["float"]="right",this.close.style.width="10px",this.close.style.display="none",Event.observe(this.close,"click",this.onClose.bindAsEventListener(this,a)),Element.hide(this.close),Element.insert(this.toolbar,this.close)},renderButtons:function(a){if(!a.actions||!a.actions.accept||!a.actions.decline)return;this.accept=parent.document.createElement("div"),Event.observe(this.accept,"click",this.onAccept.bindAsEventListener(this,a.actions.accept)),Element.insert(this.widget,this.accept),this.decline=parent.document.createElement("div"),Event.observe(this.decline,"click",this.onDecline.bindAsEventListener(this,a.actions.decline)),Element.insert(this.widget,this.decline)},onExpand:function(a,b){this.setTimeoutForIgnore(b,this.ruleId),this.extendAway(this.widget,"showNextStepButton"),this.fadeAway(this.expand),this.fadeAway(this.decline),this.acceptOne.style.display="block",this.acceptTwo.style.display="block",b.expand("VAU_APP01_01",this.ruleId,this.clid)},onAccept:function(a,b){this.removeInvite(),SN.EventManager.fire(this.CONST_INVITE_ACTION_EVENT,{eventId:this.CONST_INVITE_ACCEPT_EVENT,data:{clid:this.clid}}),b("VAU_APP01_01",this.ruleId,this.clid)},onIgnore:function(a,b){this.removeInvite()},onDecline:function(a,b){this.removeInvite(),SN.EventManager.fire(this.CONST_INVITE_ACTION_EVENT,{eventId:this.CONST_INVITE_DECLINE_EVENT,data:{clid:this.clid}}),b("VAU_APP01_01",this.ruleId,this.clid)},onClose:function(a,b){this.removeInvite(),SN.EventManager.fire(this.CONST_INVITE_ACTION_EVENT,{eventId:this.CONST_INVITE_DECLINE_EVENT,data:{clid:this.clid}}),b(this.clid)},onMouseOut:function(){this.setOpacity(10)},onHover:function(){this.setOpacity(10)},hideWidget:function(){Element.hide(this.widget)},removeInvite:function(){$undefinedOrNull(this.widgetwrap)||this.fadeAway(this.widgetwrap),$undefinedOrNull(this.widget)||this.fadeAway(this.widget),SN.CustomScript.isPersistentButtonPage()||SN.CustomScript.showButton(!0),SN.WOWPx.Controller.setProactiveShown(!1)},fadeIn:function(a){var b=12,c=40;while(b<=100)setTimeout(function(b,c){a.style.opacity=b/100,a.style.filter="alpha(opacity="+b+")"},c,b,c),b+=4,c+=40},showNextStepButton:function(){var a=this;setTimeout(function(){a.fadeIn(a.acceptOne),a.fadeIn(a.acceptTwo)},400)},extendAway:function(a,b){var c=340,d=40;while(c<=440)setTimeout(function(b,c){a.style.height=b+"px"},d,c,d),c+=5,d+=10;c>=440&&this[b]&&this[b]()},fadeAway:function(a){var b=90,c=40;while(b>0)setTimeout(function(b,c){a.style.opacity=b/100,a.style.filter="alpha(opacity="+b+")"},c,b,c),b-=4,c+=40;b<=0&&setTimeout(function(b){$undefinedOrNull(a.parentElement)||a.parentElement.removeChild(a)},c,c)},setOpacity:function(a){this.widget.style.opacity=1,this.widget.style.filter="alpha(opacity=100)"},show:function(){Element.show(this.widget)},initElement:function(a){typeof a=="string"&&(a=document.getElementById(a)),Event.observe(a,"mousedown",this.startDragMouse.bindAsEventListener(this))},startDragMouse:function(a){this.startDrag(this.toolbar);var b=a||window.event;return this.initialMouseX=b.clientX,this.initialMouseY=b.clientY,Event.observe(parent.document,"mousemove",this.dragMouse.bindAsEventListener(this)),Event.observe(parent.document,"mouseup",this.releaseElement.bindAsEventListener(this)),!1},startDrag:function(a){this.draggedObject&&this.releaseElement(),this.startX=a.parentNode.offsetLeft,this.startY=a.parentNode.offsetTop,this.draggedObject=a.parentNode},dragMouse:function(a){if(!this.draggedObject)return;var b=a||window.event,c=b.clientX-this.initialMouseX,d=b.clientY-this.initialMouseY;return this.setPosition(c,d),!1},setPosition:function(a,b){this.draggedObject.style.left=this.startX+a+"px",this.draggedObject.style.top=this.startY+b+"px"},releaseElement:function(){Event.stopObserving(parent.document,"mousemove",this.dragMouse.bindAsEventListener(this)),Event.stopObserving(parent.document,"mouseup",this.releaseElement.bindAsEventListener(this)),this.draggedObject=null}}),$undefined(SN)&&(SN={}),$undefined(SN.WOWPx)&&(SN.WOWPx={}),$undefined(SN.WOWPx.UI)&&(SN.WOWPx.UI={}),SN.WOWPx.UI.WOWPxButtonChat=Class.create({CONST_BUTTON_ID:"sn-button-main",CONST_IMAGE_ID:"sn-button-img",CONST_BUTTON_ACTION_EVENT:"wowpxbuttonactionevent",CONST_BUTTON_ONLINE_EVENT:"10000",CONST_BUTTON_OFFLINE_EVENT:"20000",CONST_BUTTON_CLICK_EVENT:"30000",state:"",initialize:function(a,b,c,d){this.CONST_TS=(new Date).getTime(),this.clid=SN.Utils.getUniqueId();var e;d==="vha_button_1"||d==="button_intelliresponse"||d==="button_statc_contactus"||d==="button_complaints"||d==="vha_button_complaints_page"||d==="vha_button_retail_support_page"?(e=parent.document.getElementById(b),$undefinedOrNull(e)&&(e=parent.document.getElementById(a.bckupParentElementId))):e=parent.document.body;if($undefinedOrNull(e))return!1;this.parentStyle=a.parentStyle,this.containerStyle=a.containerStyle,this.onlineStyle=a.onlineStyle,this.busyStyle=a.busyStyle,this.loadingStyle=a.loadingStyle,this.offlineStyle=a.offlineStyle,this.inprogressStyle=a.inprogressStyle,this.btnType=a.appSubType||"h",this.actions=a.actions,this.appId="VAU_APP01_01",this.ruleId=d,window.availabilityStatusButton===!0?this.btnType=="f"?this.addFlexChat(a,e):this.addButtonChat(a,e):(d==="button_intelliresponse"||d==="button_statc_contactus"||d==="sales-docked-button-rule"||d==="button_complaints"||d==="vha_button_complaints_page"||d==="vha_button_retail_support_page")&&this.addButtonChat(a,e)},addButtonChat:function(a,b){this.buttonContainer=parent.document.createElement("div"),this.buttonContainer.id=this.CONST_BUTTON_ID+"-"+this.ruleId,this.button=new Image,this.button.id=this.CONST_IMAGE_ID+this.CONST_TS;if(this.ruleId==="vha_button_1"||this.ruleId==="button_intelliresponse"||this.ruleId==="button_statc_contactus"||this.ruleId==="button_complaints"||this.ruleId==="vha_button_complaints_page"||this.ruleId==="vha_button_retail_support_page"){this.parentElement=b.cloneNode(!1),this.parentElement.id=b.id+"-tfs",b.parentNode.replaceChild(this.parentElement,b);if(this.ruleId==="button_intelliresponse"||this.ruleId==="button_complaints"||this.ruleId==="vha_button_complaints_page"||this.ruleId==="vha_button_retail_support_page")parent.SN&&parent.SN.UserAgentParser&&parent.SN.UserAgentParser.getDeviceDetails&&parent.SN.UserAgentParser.getDeviceDetails().search(/~M~|~T~/)!=-1?this.button.style.width="100%":this.button.style.marginBottom="-15px";SN.CustomScript.isCartPage()?(this.button.src=a.buttonCartImage,this.button.onerror=function(){this.src=a.backupCartImage}):(this.button.src=a.buttonImage,this.button.onerror=function(){this.src=a.backupImage})}else if(this.ruleId==="vha_button_persistent"||this.ruleId==="vha_button_service"||this.ruleId==="sales-docked-button-rule"||this.ruleId==="vha_button_prepaid_service")this.parentElement=parent.document.body,this.button.src=a.buttonImage,this.button.onerror=function(){this.src=a.backupImage};Element.setStyle(this.parentElement,this.parentStyle),this.buttonContainer.appendChild(this.button),Element.setStyle(this.buttonContainer,this.containerStyle),this.parentElement.appendChild(this.buttonContainer),this.actions.shown("VAU_APP01_01",this.ruleId,this.clid),this.ruleId==="vha_button_service"&&SN.WOWPx.Controller.isProactiveShown()&&/\/contact\/?$/.test(parent.location.pathname)&&(this.buttonContainer.style.display="none"),Event.observe(this.button,"click",this.onClick.bindAsEventListener(this,this.actions.click))},addFlexChat:function(a,b){this.parentElement=b,this.setState("loading"),this.actions.shown();var c=this;parent.window.onChatButtonClicked=function(){c.onClick(c,c.actions.click)}},availabilityCallback:function(a){},onClick:function(a,b){b("VAU_APP01_01",this.ruleId,this.clid)},setState:function(a){this.state!=a&&typeof a=="string"&&(this.state=a,this.btnType=="f"?this.parentElement.tfssetState(a):Element.setStyle(this.button,this[a+"Style"]),a=="online"&&(this.clid=SN.Utils.getUniqueId(),SN.CustomScript.fireInviteOfferedEvent(this.clid,this.ruleId,"b")))}});var WoWPxApp=function(a,b){function f(a,b){a.indexOf("#")==-1&&(a+="#");for(var c in b)a=a+c+"="+b[c]+"&";return a.slice(0,a.length-1)}function g(){var a=b.params,c="//"+a.cdnPath+a.key+"/"+a.pspVersion;return a.version!=null&&(c+="/"+a.version),c+="/"+a.r,c}function h(a){var c=g(),d=document.domain,e=!1,f;try{f=a.contentWindow.document}catch(h){e=!0,a.src="javascript:var d=document.open();d.domain='"+d+"';void(0);",f=a.contentWindow.document}f.open()._l=function(){var a=this.createElement("script");e&&(this.domain=d),a.id="js-iframe-async",a.src=c,this.getElementsByTagName("head")[0].appendChild(a),this.urlData=b.params},f.write('<!DOCTYPE html><html><head></head><body onload="document._l();"></body></html>'),f.close()}function i(){var c=parent.document.createElement("iframe");c.id=a+"_iframe",c.scrolling="no",c.frameBorder="0",c.allowTransparency="true";var d=b.iframeStyle||{width:"200px",height:"200px"};c.width=d.width,c.height=d.height,Element.setStyle(c,d),Element.hide(c);var e=b.url,g=b.params||{};return g.id=a,e&&(c.src=f(e,g)),c}function j(){var c=b.url,d=b.params||{};d.id=a;var e=b.popupStyle||{width:"400px",height:"300px",left:"100px"},g="width="+e.width+", height="+e.height+", left="+e.left+", location=0, scrollbars=0, status=0, titlebar=0, toolbar=0";return window.open(f(c,d),a+"_window",g)}function k(){this.isLoaded=!0,Element.hide(this.loadingDiv),this.type==0&&Element.show(this.widgetRef)}this.id=a,this.type=b.type||0,this.widgetRef=null,this.isLoaded=!1,this.widget=parent.document.createElement("div"),this.widget.id=a+"_container",Element.hide(this.widget);var c=b.popupStyle||{width:"400px",height:"300px",left:"100px"};Element.setStyle(this.widget,c),parent.document.body.appendChild(this.widget),this.tab=parent.document.createElement("div"),this.tab.id=a+"_icon",Element.setStyle(this.tab,b.tabStyle||{}),Element.hide(this.tab),parent.document.body.insertBefore(this.tab,this.widget),Event.observe(this.tab,"click",this.show.bindAsEventListener(this)),this.minimizer=parent.document.createElement("a"),this.minimizer.innerHTML="-",this.minimizer.href="#",this.minimizer.id=a+"_minimize",this.minimizer.style["float"]="left",this.minimizer.style.width="10px",this.minimizer.style.textDecoration="none";var d=b.minimizerStyle||{};Element.setStyle(this.minimizer,d),Event.observe(this.minimizer,"click",this.hide.bindAsEventListener(this)),Element.insert(this.widget,this.minimizer),this.closer=parent.document.createElement("a"),this.closer.id=a+"_close",this.closer.href="#",this.closer.innerHTML="X",this.closer.style["float"]="right",this.closer.style.width="10px",this.closer.style.textDecoration="none";var e=b.closerStyle||{};Element.setStyle(this.closer,e),Event.observe(this.closer,"click",this.close.bindAsEventListener(this)),Element.insert(this.widget,this.closer),this.loadingDiv=parent.document.createElement("div"),this.loadingDiv.id=this.id+"_loader",b.loadingStyle&&Element.setStyle(this.loadingDiv,b.loadingStyle),Element.insert(this.widget,this.loadingDiv);if(this.type==0){this.widgetRef=i(),this.widget.appendChild(this.widgetRef);var l=this.widgetRef.contentWindow||this.widgetRef.contentDocument;l.document?this.widgetRefWin=l:this.widgetRefWin=l.getParentNode(),b.url||(h(this.widgetRef),this.widgetRef.style.display="block"),Event.observe(this.widgetRefWin,"load",k.bindAsEventListener(this))}else this.type==1&&(this.widgetRef=j(),this.widgetRefWin=this.widgetRef,Event.observe(this.widgetRefWin,"load",k.bindAsEventListener(this)),window.focus())};WoWPxApp.prototype.move=function(a,b){this.type==0?(this.widget.style.left=a,this.widget.style.top=b):this.type==1&&this.widgetRef.moveTo(a,b)},WoWPxApp.prototype.style=function(a){if(this.type==0)Element.setStyle(this.widget,a);else if(this.type==1){var b=document.viewport.getDimensions(),c=a.width||b.width,d=a.height||b.height;this.widgetRef.resizeTo(c,d)}},WoWPxApp.prototype.hide=function(){return this.type==1?self.focus():this.type==0&&(Element.hide(this.widget),Element.show(this.tab)),!1},WoWPxApp.prototype.show=function(){return this.type==1?this.widgetRef.focus():this.type==0&&(Element.hide(this.tab),Element.show(this.widget)),!1},WoWPxApp.prototype.close=function(){this.type==1&&this.widgetRef.close(),Element.remove(this.widget),Element.remove(this.tab),delete __wowpx[this.id]},WoWPxApp.prototype.setContext=function(a){this.widgetRefWin.WOWPx.setContext(a)},WoWPxApp.prototype.isLoaded=function(){return this.isLoaded},$undefined(SN)&&(SN={}),$undefined(SN.WOWPx)&&(SN.WOWPx={}),SN.WOWPx.Events={CONST_PAGE_EVENT:"pageevent",CONST_PAGE_ACTION_EVENT:"pageactionevent",CONST_BOOTSTRAP_COMPLETED_EVENT:"bootstrapDone",CONST_STATE_CHANGE_COMPLETED_EVENT:"statechangecompleted",CONST_WIDGET_EVENT:"widgetevent",CONST_APP_CONTROL_EVENT:"appcontrol",CONST_APP_INTERACTION_EVENT:"appinteraction",CONST_CHAT_APP_EVENT:"chatappevent",CONST_INVITE_USER:"inviteuser"},SN.WOWPx.EventIds={CONST_CHATAPP_STARTED:"chatappstarted",CONST_CHATAPP_UPDATESTATE_QUEUE:"updatestatequeue",CONST_CHATAPP_UPDATESTATE_CLOSE:"updatestateclose",CONST_CHATAPP_MOVEDTO_PRECHAT:"movedtoprechat",CONST_CHATAPP_MOVEDTO_QUEUE:"movedtoqueue",CONST_CHATAPP_MOVEDTO_CHAT:"movedtochat",CONST_CHATAPP_MOVEDTO_POSTCHAT:"movedtopostchat",CONST_CHATAPP_SHUTDOWN:"chatappshutdown",CONST_CHATAPPLISTENER_INIT:"chatlibinit",CONST_AGENT_AVAILABLE:"agentavailable",CONST_AGENT_NOT_AVAILABLE:"agentunavailable",CONST_CHAT_STARTED:"chatstarted",CONST_CHAT_ENDED:"chatended",CONST_CHAT_ERROR:"chaterror",CONST_CHATAPP_SHUTDOWN_DONE:"chatappshutdowndone",CONST_CHAT_STATE_CHANGE:"chatstatechange",CONST_CHAT_AGENT_TYPING:"agenttyping",CONST_AGENT_TO_CUSTOMER_TEXT:"agenttocusttext",CONST_CUSTOMER_TO_AGENT_TEXT:"custtoagenttext",CONST_AGENT_FORM_PUSH:"agentformpush",CONST_AGENT_URL_PUSH:"agenturlpush",CONST_AGENT_NOTIFY_MESSAGE:"agentnotifymessage",CONST_AGENT_WARN_MESSAGE:"agentwarnmessage",CONST_AGENT_ERROR_MESSAGE:"agenterrormessage",CONST_AGENT_HELP_COMMAND:"agenthelpcommand",CONST_CHAT_LIB_NOTIFICATION:"chatlibnotification",CONST_USER_FORM_SUBMITTED:"userformsubmitted",CONST_AGENT_ENDED_CHAT:"agentendedchat",CONST_INVALID_AGENT_COMMAND:"invalidagentcommand",CONST_FORM_PUSH:"formpush",CONST_USER_HAD_INTERACTIVE_CHAT:"userhadinteractivechat",CONST_LOAD_CHAT_APP_CONFIGS:"loadchatconfigs",CONST_INVITATION_ACCEPTED:"invitationAccepted",CONST_INVITATION_DECLINED:"invitationDeclined",CONST_INVITATION_IGNORED:"invitationIgnored"},$undefined(SN)&&(SN={}),$undefined(SN.WOWPx)&&(SN.WOWPx={}),SN.WOWPx.Controller=function(){function p(c){var d=c.memo,e=d.data,f=e.handlerType;if(SN.CustomScript.isIPBlocked()&&SN.CustomScript.isVhaRetailSupportPage()=="0"&&!SN.CustomScript.isDirectChat())return;if(f==a){j=e[b];if(v()&&j&&j!="vha_directlink_1_social"&&j!="vha_directlink_contact"&&j!="vha_directlink_retail"&&j!="button_complaints")return;if(v()){SN.CustomScript.triggerDirectChat(j);return}if(o)return;k=g.getHandlerConfig(j),l=k.appId,parent.SN&&parent.SN.UserAgentParser&&parent.SN.UserAgentParser.getDeviceDetails&&parent.SN.UserAgentParser.getDeviceDetails().search(/~M~|~T~/)!=-1&&(l="mobilechat"),m=parent.SN.Tracker.getUniquePageId(),id=m+"_"+l,isPersistant=localStorage.getItem("by247-chat-session-by247");var h=SN.CustomScript.getTfsOnChat();if(isPersistant&&isPersistant!=null&&isPersistant!="null"&&isPersistant!=""&&h&&h==="1"){SN.CustomScript.loadMobileChat(l,j,m);return}if(j=="vha_pro_non_au_ip")l=SN.CustomScript.getConfByRuleId(j);else{var i=SN.SessionManager.getGlobalSession().getTargetPopulationId(),p=SN.CustomScript.getDoETPConfig(i);p!==undefined&&!SN.CustomScript.isServiceRule(j)&&!SN.CustomScript.isMyVodafonePage()?l=p:l=SN.CustomScript.getConfByRuleId(j)}n=SN.WOWPx.InviteConf.getConfigs(l),SN.CustomScript.setQueueForRuleID(j),q()}}function q(){if(o)return;if(window.availabilityStatusProactive==1){o=!0,i=id,SN.CustomScript.setProRuleSuppression();if(parent.SN.UserAgentParser.getDeviceDetails().search(/~M~|~T~/)!=-1){var a=parent.document.getElementById(id+"_container");a&&(parent.document.body.removeChild(a),__wowpx[id]=null),SN.CustomScript.loadMobileChat(id,j,m)}else __wowpx[id]=new SN.WOWPx.UI.WOWPxInvite(n,n.movable,1,"FIXED","",l,j)}else SN.WOWPx.AssistChatDecider.checkAvailabilityPro(j)}function r(){__wowpx[i].onIgnore()}function s(a,b){__wowpx[a]&&__wowpx[a].setContext(b)}function t(a){return __wowpx[a]?__wowpx[a].isLoaded():!1}function u(){return location.protocol+"//"+window.documentDomain}function v(){return parent.location.href.toLowerCase().indexOf("directchat")>-1}function w(){e.observe(h.PAGE_ACTION_EVENT,p),e.observe(f.CONST_INVITE_USER,p)}function x(){return o}function y(a){o=a}var a="START_WOWPX_APP",b="ruleId",c="START_ADP_APP",d=SN.Utils,e=SN.EventManager,f=SN.WOWPx.Events,g=SN.ConfigurationManager,h=SN.Constants,i,j,k,l,m,n,o=!1;window.__wowpx={},window.__adp={},w();var z={isLoaded:t,setContext:s,showProActive:q,removeProInvite:r,isProactiveShown:x,setProactiveShown:y};return z}(),$undefined(SN)&&(SN={}),$undefined(SN.WOWPx)&&(SN.WOWPx={}),SN.WOWPx.InviteConf=Class.create({WidgetConfStore:{},AssistConf:{},ContextVarMap:{},initialize:function(){WidgetConfStore={vha_pro_twostepinvite:{appType:"p",buttonImage:"//"+SN.Conf.CDN_DOMAIN+"vha/"+SN.Conf.CONST_CDN_VERSION+"/inviteApp/images/vha_pro_sprite.png",backupImage:"//"+SN.Conf.CDN_DOMAIN+"vha/"+SN.Conf.CONST_CDN_VERSION+"/inviteApp/images/vha_pro_sprite.png",parentElementId:"liveChat",bckupParentElementId:"rightbarCompare",parentStyle:{display:"block",height:"340px",width:"490px"},containerStyle:{position:"relative",overflow:"hidden",height:"340px",width:"490px"},popupStyle:{display:"block",height:"340px",left:"50%",top:"50%",width:"490px",marginLeft:"-260px",marginTop:"-185px",position:"fixed",backgroundImage:"url(//"+SN.Conf.CDN_DOMAIN+"vha/"+SN.Conf.CONST_CDN_VERSION+"/inviteApp/images/vha_invite_step.png)",backgroundRepeat:"no-repeat",backgroundColor:"#e60000",zIndex:"21005",visibility:"visible",MozBoxShadow:"0px 0px 17px #000",boxShadow:"0px 0px 17px #000",WebkitBoxShadow:"0px 0px 17px #000",textAlign:"left"},acceptStyle:{opacity:1,backgroundImage:"url(//"+SN.Conf.CDN_DOMAIN+"vha/"+SN.Conf.CONST_CDN_VERSION+"/inviteApp/images/vha_button_sprite.png)",backgroundPosition:"-8px -45px",backgroundColor:"transparent",cursor:"pointer",height:"37px",left:"142px",position:"absolute",top:"248px",width:"121px",zIndex:"21005",border:"none"},acceptOneStyle:{opacity:0,backgroundImage:"url(//"+SN.Conf.CDN_DOMAIN+"vha/"+SN.Conf.CONST_CDN_VERSION+"/inviteApp/images/vha_button_sprite.png)",backgroundPosition:"-8px -117px",backgroundColor:"transparent",cursor:"pointer",height:"38px",left:"142px",position:"absolute",top:"248px",width:"315px",zIndex:"21005",border:"none",display:"none"},acceptTwoStyle:{opacity:0,backgroundImage:"url(//"+SN.Conf.CDN_DOMAIN+"vha/"+SN.Conf.CONST_CDN_VERSION+"/inviteApp/images/vha_button_sprite.png)",backgroundPosition:"-8px -166px",backgroundColor:"transparent",cursor:"pointer",height:"38px",left:"142px",position:"absolute",top:"296px",width:"315px",zIndex:"21005",border:"none",display:"none"},declineStyle:{opacity:1,backgroundImage:"url(//"+SN.Conf.CDN_DOMAIN+"vha/"+SN.Conf.CONST_CDN_VERSION+"/inviteApp/images/vha_button_sprite.png)",backgroundRepeat:"no-repeat",backgroundPosition:"-147px -45px",backgroundColor:"transparent",cursor:"pointer",height:"37px",left:"275px",position:"absolute",top:"248px",width:"121px",zIndex:"21005",border:"none"},closeStyle:{display:"block",position:"absolute",top:"7px",right:"7px",zIndex:"21005",width:"16px",height:"16px",border:"none",backgroundColor:"transparent",cursor:"pointer"},loadingStyle:{display:"block",position:"absolute",cursor:"default",top:"-110px",height:"340px",width:"490px"},offlineStyle:{display:"block",position:"absolute",cursor:"default",top:"-165px",height:"340px",width:"490px"},widgetOverlay:{display:"block",position:"fixed",left:"0px",top:"0px",height:"100%",width:"100%",zIndex:"21000",background:"#000000"},headingStyle:{display:"block",left:"26px",position:"relative",paddingTop:"30px",zIndex:"21005",color:"#f80000",fontSize:"41px",textAlign:"left"},subheadingStyle:{display:"block",left:"26px",position:"relative",paddingTop:"14px",zIndex:"21005",color:"#4B4949",fontSize:"23px",fontWeight:"bold",textAlign:"left",width:"232px"},chatmsgStyle:{display:"block",width:"208px",left:"26px",position:"relative",paddingTop:"15px",zIndex:"21005",color:"#4B4949",fontSize:"20px",fontWeight:"normal",wordWrap:"break-word",lineHeight:"1.5",textAlign:"left"},htmls:{mainFrameHTML:"",acceptHTML:"",declineHTML:"No Thanks",chatmsgHTML:"Chat right now with a vodafone advisor",subheadingHTML:"Got a question ?",headingHTML:SN.CustomScript.getInviteMsg},actions:{availability:SN.WOWPx.AssistChatDecider.checkAvailability,click:SN.CustomScript.handleButtonChatClick,shown:SN.CustomScript.handleProRule,onIgnore:SN.CustomScript.handleProInviteIgnore,accept:SN.CustomScript.handleInviteAccept,acceptOne:SN.CustomScript.handleSubBtnOne,acceptTwo:SN.CustomScript.handleSubBtnTwo,decline:SN.CustomScript.handleInviteDecline,isOfficeTime:SN.CustomScript.isOfficeTime,tfsOnChat:SN.CustomScript.tfsOnChat}},vha_pro_service:{appType:"p",buttonImage:"//"+SN.Conf.CDN_DOMAIN+"vha/"+SN.Conf.CONST_CDN_VERSION+"/inviteApp/images/vha_pro_service.png",backupImage:"//"+SN.Conf.CDN_DOMAIN+"vha/"+SN.Conf.CONST_CDN_VERSION+"/inviteApp/images/vha_pro_service.png",parentElementId:"liveChat",bckupParentElementId:"rightbarCompare",parentStyle:{display:"block",height:"340px",width:"490px"},containerStyle:{position:"relative",overflow:"hidden",height:"340px",width:"490px"},popupStyle:{display:"block",height:"340px",left:"50%",top:"50%",width:"490px",marginLeft:"-260px",marginTop:"-185px",position:"fixed",background:"url(//"+SN.Conf.CDN_DOMAIN+"vha/"+SN.Conf.CONST_CDN_VERSION+"/inviteApp/images/vha_pro_service.png) no-repeat",backgroundPosition:"-0px -0px",zIndex:"21005",visibility:"visible",MozBoxShadow:"0px 0px 17px #000",boxShadow:"0px 0px 17px #000",WebkitBoxShadow:"0px 0px 17px #000",textAlign:"left"},acceptStyle:{display:"block",background:"none transparent",cursor:"pointer",height:"50px",left:"142px",position:"absolute",top:"248px",width:"126px",zIndex:"21005",border:"none"},declineStyle:{display:"block",background:"none transparent",cursor:"pointer",height:"50px",left:"275px",position:"absolute",top:"248px",width:"130px",zIndex:"21005",border:"none"},loadingStyle:{display:"block",position:"absolute",cursor:"default",top:"-110px",height:"340px",width:"490px"},offlineStyle:{display:"block",position:"absolute",cursor:"default",top:"-165px",height:"340px",width:"490px"},widgetOverlay:{display:"block",position:"fixed",left:"0px",top:"0px",height:"100%",width:"100%",zIndex:"21000",background:"#000000"},headingStyle:{display:"block",left:"26px",position:"relative",paddingTop:"30px",zIndex:"21005",color:"#f80000",fontSize:"41px",textAlign:"left"},subheadingStyle:{display:"block",left:"26px",position:"relative",paddingTop:"14px",zIndex:"21005",color:"#4B4949",fontSize:"23px",fontWeight:"bold",textAlign:"left",width:"232px"},chatmsgStyle:{display:"block",width:"208px",left:"26px",position:"relative",paddingTop:"15px",zIndex:"21005",color:"#4B4949",fontSize:"20px",fontWeight:"normal",wordWrap:"break-word",lineHeight:"1.5",textAlign:"left"},htmls:{mainFrameHTML:"",acceptHTML:"",declineHTML:"No Thanks",chatmsgHTML:"Chat right now with a vodafone advisor",subheadingHTML:"Got a question ?",headingHTML:SN.CustomScript.getInviteMsg},actions:{availability:SN.WOWPx.AssistChatDecider.checkAvailability,click:SN.CustomScript.handleButtonChatClick,shown:SN.CustomScript.handleProRule,onIgnore:SN.CustomScript.handleProInviteIgnore,accept:SN.CustomScript.handleInviteAccept,decline:SN.CustomScript.handleInviteDecline,isOfficeTime:SN.CustomScript.isOfficeTime,tfsOnChat:SN.CustomScript.tfsOnChat}},vha_pro_prepaid:{appType:"p",buttonImage:"//"+SN.Conf.CDN_DOMAIN+"vha/"+SN.Conf.CONST_CDN_VERSION+"/inviteApp/images/vha_pro_service.png",backupImage:"//"+SN.Conf.CDN_DOMAIN+"vha/"+SN.Conf.CONST_CDN_VERSION+"/inviteApp/images/vha_pro_service.png",parentElementId:"liveChat",bckupParentElementId:"rightbarCompare",parentStyle:{display:"block",height:"340px",width:"490px"},containerStyle:{position:"relative",overflow:"hidden",height:"340px",width:"490px"},popupStyle:{display:"block",height:"340px",left:"50%",top:"50%",width:"490px",marginLeft:"-260px",marginTop:"-185px",position:"fixed",background:"url(//"+SN.Conf.CDN_DOMAIN+"vha/"+SN.Conf.CONST_CDN_VERSION+"/inviteApp/images/vha_pro_service.png) no-repeat",backgroundPosition:"-0px -0px",zIndex:"21005",visibility:"visible",MozBoxShadow:"0px 0px 17px #000",boxShadow:"0px 0px 17px #000",WebkitBoxShadow:"0px 0px 17px #000",textAlign:"left"},acceptStyle:{display:"block",background:"none transparent",cursor:"pointer",height:"50px",left:"142px",position:"absolute",top:"248px",width:"126px",zIndex:"21005",border:"none"},declineStyle:{display:"block",background:"none transparent",cursor:"pointer",height:"50px",left:"275px",position:"absolute",top:"248px",width:"130px",zIndex:"21005",border:"none"},loadingStyle:{display:"block",position:"absolute",cursor:"default",top:"-110px",height:"340px",width:"490px"},offlineStyle:{display:"block",position:"absolute",cursor:"default",top:"-165px",height:"340px",width:"490px"},widgetOverlay:{display:"block",position:"fixed",left:"0px",top:"0px",height:"100%",width:"100%",zIndex:"21000",background:"#000000"},headingStyle:{display:"block",left:"26px",position:"relative",paddingTop:"30px",zIndex:"21005",color:"#f80000",fontSize:"41px",textAlign:"left"},subheadingStyle:{display:"block",left:"26px",position:"relative",paddingTop:"14px",zIndex:"21005",color:"#4B4949",fontSize:"23px",fontWeight:"bold",textAlign:"left",width:"232px"},chatmsgStyle:{display:"block",width:"208px",left:"26px",position:"relative",paddingTop:"15px",zIndex:"21005",color:"#4B4949",fontSize:"20px",fontWeight:"normal",wordWrap:"break-word",lineHeight:"1.5",textAlign:"left"},htmls:{mainFrameHTML:"",acceptHTML:"",declineHTML:"No Thanks",chatmsgHTML:"Chat right now with a vodafone advisor",subheadingHTML:"Got a question ?",headingHTML:SN.CustomScript.getInviteMsg},actions:{availability:SN.WOWPx.AssistChatDecider.checkAvailability,click:SN.CustomScript.handleButtonChatClick,shown:SN.CustomScript.handleProRule,onIgnore:SN.CustomScript.handleProInviteIgnore,accept:SN.CustomScript.handleInviteAccept,decline:SN.CustomScript.handleInviteDecline,isOfficeTime:SN.CustomScript.isOfficeTime,tfsOnChat:SN.CustomScript.tfsOnChat},queue:"vha-account-default-queue-prepaid"},vha_pro_nonau_service:{appType:"p",buttonImage:"//"+SN.Conf.CDN_DOMAIN+"vha/"+SN.Conf.CONST_CDN_VERSION+"/inviteApp/images/vha_pro_nonau_service.png",backupImage:"//"+SN.Conf.CDN_DOMAIN+"vha/"+SN.Conf.CONST_CDN_VERSION+"/inviteApp/images/vha_pro_nonau_service.png",parentElementId:"liveChat",bckupParentElementId:"rightbarCompare",parentStyle:{display:"block",height:"340px",width:"490px"},containerStyle:{position:"relative",overflow:"hidden",height:"340px",width:"490px"},popupStyle:{display:"block",height:"340px",left:"50%",top:"50%",width:"490px",marginLeft:"-260px",marginTop:"-185px",position:"fixed",background:"url(//"+SN.Conf.CDN_DOMAIN+"vha/"+SN.Conf.CONST_CDN_VERSION+"/inviteApp/images/vha_pro_nonau_service.png) no-repeat",backgroundPosition:"-0px -0px",zIndex:"21005",visibility:"visible",MozBoxShadow:"0px 0px 17px #000",boxShadow:"0px 0px 17px #000",WebkitBoxShadow:"0px 0px 17px #000",textAlign:"left"},acceptStyle:{display:"block",background:"none transparent",cursor:"pointer",height:"50px",left:"142px",position:"absolute",top:"248px",width:"126px",zIndex:"21005",border:"none"},declineStyle:{display:"block",background:"none transparent",cursor:"pointer",height:"50px",left:"275px",position:"absolute",top:"248px",width:"130px",zIndex:"21005",border:"none"},loadingStyle:{display:"block",position:"absolute",cursor:"default",top:"-110px",height:"340px",width:"490px"},offlineStyle:{display:"block",position:"absolute",cursor:"default",top:"-165px",height:"340px",width:"490px"},widgetOverlay:{display:"block",position:"fixed",left:"0px",top:"0px",height:"100%",width:"100%",zIndex:"21000",background:"#000000"},headingStyle:{display:"block",left:"26px",position:"relative",paddingTop:"30px",zIndex:"21005",color:"#f80000",fontSize:"41px",textAlign:"left"},subheadingStyle:{display:"block",left:"26px",position:"relative",paddingTop:"14px",zIndex:"21005",color:"#4B4949",fontSize:"23px",fontWeight:"bold",textAlign:"left",width:"232px"},chatmsgStyle:{display:"block",width:"208px",left:"26px",position:"relative",paddingTop:"15px",zIndex:"21005",color:"#4B4949",fontSize:"20px",fontWeight:"normal",wordWrap:"break-word",lineHeight:"1.5",textAlign:"left"},htmls:{mainFrameHTML:"",acceptHTML:"",declineHTML:"No Thanks",chatmsgHTML:"Chat right now with a vodafone advisor",subheadingHTML:"Got a question ?",headingHTML:SN.CustomScript.getInviteMsg},actions:{availability:SN.WOWPx.AssistChatDecider.checkAvailability,click:SN.CustomScript.handleButtonChatClick,shown:SN.CustomScript.handleProRule,onIgnore:SN.CustomScript.handleProInviteIgnore,accept:SN.CustomScript.handleInviteAccept,decline:SN.CustomScript.handleInviteDecline,isOfficeTime:SN.CustomScript.isOfficeTime,tfsOnChat:SN.CustomScript.tfsOnChat}},vha_pro_doe_tp1:{appType:"p",buttonImage:"//"+SN.Conf.CDN_DOMAIN+"vha/"+SN.Conf.CONST_CDN_VERSION+"/inviteApp/images/vha_pro_doe_invite1.png",backupImage:"//"+SN.Conf.CDN_DOMAIN+"vha/"+SN.Conf.CONST_CDN_VERSION+"/inviteApp/images/vha_pro_doe_invite1.png",parentElementId:"liveChat",bckupParentElementId:"rightbarCompare",parentStyle:{display:"block",height:"340px",width:"490px"},containerStyle:{position:"relative",overflow:"hidden",height:"340px",width:"490px"},popupStyle:{display:"block",height:"340px",left:"50%",top:"50%",width:"490px",marginLeft:"-260px",marginTop:"-185px",position:"fixed",background:"url(//"+SN.Conf.CDN_DOMAIN+"vha/"+SN.Conf.CONST_CDN_VERSION+"/inviteApp/images/vha_pro_doe_invite1.png) no-repeat",backgroundPosition:"-0px -0px",zIndex:"21005",visibility:"visible",MozBoxShadow:"0px 0px 17px #000",boxShadow:"0px 0px 17px #000",WebkitBoxShadow:"0px 0px 17px #000",textAlign:"left"},acceptStyle:{display:"block",background:"none transparent",cursor:"pointer",height:"38px",left:"151px",position:"absolute",top:"236px",width:"126px",zIndex:"21005",border:"none"},declineStyle:{display:"block",background:"none transparent",cursor:"pointer",height:"20px",left:"462px",position:"absolute",top:"11px",width:"20px",zIndex:"21005",border:"none"},loadingStyle:{display:"block",position:"absolute",cursor:"default",top:"-110px",height:"340px",width:"490px"},offlineStyle:{display:"block",position:"absolute",cursor:"default",top:"-165px",height:"340px",width:"490px"},widgetOverlay:{display:"block",position:"fixed",left:"0px",top:"0px",height:"100%",width:"100%",zIndex:"21000",background:"#000000"},headingStyle:{display:"block",left:"26px",position:"relative",paddingTop:"30px",zIndex:"21005",color:"#f80000",fontSize:"41px",textAlign:"left"},subheadingStyle:{display:"block",left:"26px",position:"relative",paddingTop:"14px",zIndex:"21005",color:"#4B4949",fontSize:"23px",fontWeight:"bold",textAlign:"left",width:"232px"},chatmsgStyle:{display:"block",width:"208px",left:"26px",position:"relative",paddingTop:"15px",zIndex:"21005",color:"#4B4949",fontSize:"20px",fontWeight:"normal",wordWrap:"break-word",lineHeight:"1.5",textAlign:"left"},htmls:{mainFrameHTML:"",acceptHTML:"",declineHTML:"No Thanks",chatmsgHTML:"Chat right now with a vodafone advisor",subheadingHTML:"Got a question ?",headingHTML:SN.CustomScript.getInviteMsg},actions:{availability:SN.WOWPx.AssistChatDecider.checkAvailability,click:SN.CustomScript.handleButtonChatClick,shown:SN.CustomScript.handleProRule,onIgnore:SN.CustomScript.handleProInviteIgnore,accept:SN.CustomScript.handleInviteAccept,decline:SN.CustomScript.handleInviteDecline,isOfficeTime:SN.CustomScript.isOfficeTime,tfsOnChat:SN.CustomScript.tfsOnChat}},vha_pro_doe_tp2:{appType:"p",buttonImage:"//"+SN.Conf.CDN_DOMAIN+"vha/"+SN.Conf.CONST_CDN_VERSION+"/inviteApp/images/vha_pro_doe_invite1.png",backupImage:"//"+SN.Conf.CDN_DOMAIN+"vha/"+SN.Conf.CONST_CDN_VERSION+"/inviteApp/images/vha_pro_doe_invite1.png",parentElementId:"liveChat",bckupParentElementId:"rightbarCompare",parentStyle:{display:"block",height:"340px",width:"490px"},containerStyle:{position:"relative",overflow:"hidden",height:"340px",width:"490px"},popupStyle:{display:"block",height:"340px",left:"83%",top:"75%",width:"490px",marginLeft:"-260px",marginTop:"-185px",position:"fixed",background:"url(//"+SN.Conf.CDN_DOMAIN+"vha/"+SN.Conf.CONST_CDN_VERSION+"/inviteApp/images/vha_pro_doe_invite1.png) no-repeat",backgroundPosition:"-0px -0px",zIndex:"21005",visibility:"visible",MozBoxShadow:"0px 0px 17px #000",boxShadow:"0px 0px 17px #000",WebkitBoxShadow:"0px 0px 17px #000",textAlign:"left"},acceptStyle:{display:"block",background:"none transparent",cursor:"pointer",height:"38px",left:"152px",position:"absolute",top:"236px",width:"126px",zIndex:"21005",border:"none"},declineStyle:{display:"block",background:"none transparent",cursor:"pointer",height:"20px",left:"462px",position:"absolute",top:"11px",width:"20px",zIndex:"21005",border:"none"},loadingStyle:{display:"block",position:"absolute",cursor:"default",top:"-110px",height:"340px",width:"490px"},offlineStyle:{display:"block",position:"absolute",cursor:"default",top:"-165px",height:"340px",width:"490px"},widgetOverlay:{display:"block",position:"fixed",left:"0px",top:"0px",height:"100%",width:"100%",zIndex:"21000",background:"none"},headingStyle:{display:"block",left:"26px",position:"relative",paddingTop:"30px",zIndex:"21005",color:"#f80000",fontSize:"41px",textAlign:"left"},subheadingStyle:{display:"block",left:"26px",position:"relative",paddingTop:"14px",zIndex:"21005",color:"#4B4949",fontSize:"23px",fontWeight:"bold",textAlign:"left",width:"232px"},chatmsgStyle:{display:"block",width:"208px",left:"26px",position:"relative",paddingTop:"15px",zIndex:"21005",color:"#4B4949",fontSize:"20px",fontWeight:"normal",wordWrap:"break-word",lineHeight:"1.5",textAlign:"left"},htmls:{mainFrameHTML:"",acceptHTML:"",declineHTML:"No Thanks",chatmsgHTML:"Chat right now with a vodafone advisor",subheadingHTML:"Got a question ?",headingHTML:SN.CustomScript.getInviteMsg},actions:{availability:SN.WOWPx.AssistChatDecider.checkAvailability,click:SN.CustomScript.handleButtonChatClick,shown:SN.CustomScript.handleProRule,onIgnore:SN.CustomScript.handleProInviteIgnore,accept:SN.CustomScript.handleInviteAccept,decline:SN.CustomScript.handleInviteDecline,isOfficeTime:SN.CustomScript.isOfficeTime,tfsOnChat:SN.CustomScript.tfsOnChat}},vha_pro_doe_tp3:{appType:"p",buttonImage:"//"+SN.Conf.CDN_DOMAIN+"vha/"+SN.Conf.CONST_CDN_VERSION+"/inviteApp/images/vha_pro_doe_invite2.png",backupImage:"//"+SN.Conf.CDN_DOMAIN+"vha/"+SN.Conf.CONST_CDN_VERSION+"/inviteApp/images/vha_pro_doe_invite2.png",parentElementId:"liveChat",bckupParentElementId:"rightbarCompare",parentStyle:{display:"block",height:"340px",width:"490px"},containerStyle:{position:"relative",overflow:"hidden",height:"340px",width:"490px"},popupStyle:{display:"block",height:"340px",left:"50%",top:"50%",width:"490px",marginLeft:"-260px",marginTop:"-185px",position:"fixed",background:"url(//"+SN.Conf.CDN_DOMAIN+"vha/"+SN.Conf.CONST_CDN_VERSION+"/inviteApp/images/vha_pro_doe_invite2.png) no-repeat",backgroundPosition:"-0px -0px",zIndex:"21005",visibility:"visible",MozBoxShadow:"0px 0px 17px #000",boxShadow:"0px 0px 17px #000",WebkitBoxShadow:"0px 0px 17px #000",textAlign:"left"},acceptStyle:{display:"block",background:"none transparent",cursor:"pointer",height:"38px",left:"152px",position:"absolute",top:"236px",width:"126px",zIndex:"21005",border:"none"},declineStyle:{display:"block",background:"none transparent",cursor:"pointer",height:"20px",left:"462px",position:"absolute",top:"11px",width:"20px",zIndex:"21005",border:"none"},loadingStyle:{display:"block",position:"absolute",cursor:"default",top:"-110px",height:"340px",width:"490px"},offlineStyle:{display:"block",position:"absolute",cursor:"default",top:"-165px",height:"340px",width:"490px"},widgetOverlay:{display:"block",position:"fixed",left:"0px",top:"0px",height:"100%",width:"100%",zIndex:"21000",background:"#000000"},headingStyle:{display:"block",left:"26px",position:"relative",paddingTop:"30px",zIndex:"21005",color:"#f80000",fontSize:"41px",textAlign:"left"},subheadingStyle:{display:"block",left:"26px",position:"relative",paddingTop:"14px",zIndex:"21005",color:"#4B4949",fontSize:"23px",fontWeight:"bold",textAlign:"left",width:"232px"},chatmsgStyle:{display:"block",width:"208px",left:"26px",position:"relative",paddingTop:"15px",zIndex:"21005",color:"#4B4949",fontSize:"20px",fontWeight:"normal",wordWrap:"break-word",lineHeight:"1.5",textAlign:"left"},htmls:{mainFrameHTML:"",acceptHTML:"",declineHTML:"No Thanks",chatmsgHTML:"Chat right now with a vodafone advisor",subheadingHTML:"Got a question ?",headingHTML:SN.CustomScript.getInviteMsg},actions:{availability:SN.WOWPx.AssistChatDecider.checkAvailability,click:SN.CustomScript.handleButtonChatClick,shown:SN.CustomScript.handleProRule,onIgnore:SN.CustomScript.handleProInviteIgnore,accept:SN.CustomScript.handleInviteAccept,decline:SN.CustomScript.handleInviteDecline,isOfficeTime:SN.CustomScript.isOfficeTime,tfsOnChat:SN.CustomScript.tfsOnChat}},vha_pro_doe_tp4:{appType:"p",buttonImage:"//"+SN.Conf.CDN_DOMAIN+"vha/"+SN.Conf.CONST_CDN_VERSION+"/inviteApp/images/vha_pro_doe_invite2.png",backupImage:"//"+SN.Conf.CDN_DOMAIN+"vha/"+SN.Conf.CONST_CDN_VERSION+"/inviteApp/images/vha_pro_doe_invite2.png",parentElementId:"liveChat",bckupParentElementId:"rightbarCompare",parentStyle:{display:"block",height:"340px",width:"490px"},containerStyle:{position:"relative",overflow:"hidden",height:"340px",width:"490px"},popupStyle:{display:"block",height:"340px",left:"83%",top:"75%",width:"490px",marginLeft:"-260px",marginTop:"-185px",position:"fixed",background:"url(//"+SN.Conf.CDN_DOMAIN+"vha/"+SN.Conf.CONST_CDN_VERSION+"/inviteApp/images/vha_pro_doe_invite2.png) no-repeat",backgroundPosition:"-0px -0px",zIndex:"21005",visibility:"visible",MozBoxShadow:"0px 0px 17px #000",boxShadow:"0px 0px 17px #000",WebkitBoxShadow:"0px 0px 17px #000",textAlign:"left"},acceptStyle:{display:"block",background:"none transparent",cursor:"pointer",height:"38px",left:"152px",position:"absolute",top:"236px",width:"126px",zIndex:"21005",border:"none"},declineStyle:{display:"block",background:"none transparent",cursor:"pointer",height:"20px",left:"462px",position:"absolute",top:"11px",width:"20px",zIndex:"21005",border:"none"},loadingStyle:{display:"block",position:"absolute",cursor:"default",top:"-110px",height:"340px",width:"490px"},offlineStyle:{display:"block",position:"absolute",cursor:"default",top:"-165px",height:"340px",width:"490px"},widgetOverlay:{display:"block",position:"fixed",left:"0px",top:"0px",height:"100%",width:"100%",zIndex:"21000",background:"none"},headingStyle:{display:"block",left:"26px",position:"relative",paddingTop:"30px",zIndex:"21005",color:"#f80000",fontSize:"41px",textAlign:"left"},subheadingStyle:{display:"block",left:"26px",position:"relative",paddingTop:"14px",zIndex:"21005",color:"#4B4949",fontSize:"23px",fontWeight:"bold",textAlign:"left",width:"232px"},chatmsgStyle:{display:"block",width:"208px",left:"26px",position:"relative",paddingTop:"15px",zIndex:"21005",color:"#4B4949",fontSize:"20px",fontWeight:"normal",wordWrap:"break-word",lineHeight:"1.5",textAlign:"left"},htmls:{mainFrameHTML:"",acceptHTML:"",declineHTML:"No Thanks",chatmsgHTML:"Chat right now with a vodafone advisor",subheadingHTML:"Got a question ?",headingHTML:SN.CustomScript.getInviteMsg},actions:{availability:SN.WOWPx.AssistChatDecider.checkAvailability,click:SN.CustomScript.handleButtonChatClick,shown:SN.CustomScript.handleProRule,onIgnore:SN.CustomScript.handleProInviteIgnore,accept:SN.CustomScript.handleInviteAccept,decline:SN.CustomScript.handleInviteDecline,isOfficeTime:SN.CustomScript.isOfficeTime,tfsOnChat:SN.CustomScript.tfsOnChat}},vha_pro_doe_tp5:{appType:"p",buttonImage:"//"+SN.Conf.CDN_DOMAIN+"vha/"+SN.Conf.CONST_CDN_VERSION+"/inviteApp/images/vha_pro_doe_invite3.png",backupImage:"//"+SN.Conf.CDN_DOMAIN+"vha/"+SN.Conf.CONST_CDN_VERSION+"/inviteApp/images/vha_pro_doe_invite3.png",parentElementId:"liveChat",bckupParentElementId:"rightbarCompare",parentStyle:{display:"block",height:"340px",width:"490px"},containerStyle:{position:"relative",overflow:"hidden",height:"340px",width:"490px"},popupStyle:{display:"block",height:"340px",left:"50%",top:"50%",width:"490px",marginLeft:"-260px",marginTop:"-185px",position:"fixed",background:"url(//"+SN.Conf.CDN_DOMAIN+"vha/"+SN.Conf.CONST_CDN_VERSION+"/inviteApp/images/vha_pro_doe_invite3.png) no-repeat",backgroundPosition:"-0px -0px",zIndex:"21005",visibility:"visible",MozBoxShadow:"0px 0px 17px #000",boxShadow:"0px 0px 17px #000",WebkitBoxShadow:"0px 0px 17px #000",textAlign:"left"},acceptStyle:{display:"block",background:"none transparent",cursor:"pointer",height:"38px",left:"152px",position:"absolute",top:"248px",width:"126px",zIndex:"21005",border:"none"},declineStyle:{display:"block",background:"none transparent",cursor:"pointer",height:"20px",left:"462px",position:"absolute",top:"11px",width:"20px",zIndex:"21005",border:"none"},loadingStyle:{display:"block",position:"absolute",cursor:"default",top:"-110px",height:"340px",width:"490px"},offlineStyle:{display:"block",position:"absolute",cursor:"default",top:"-165px",height:"340px",width:"490px"},widgetOverlay:{display:"block",position:"fixed",left:"0px",top:"0px",height:"100%",width:"100%",zIndex:"21000",background:"none"},headingStyle:{display:"block",left:"26px",position:"relative",paddingTop:"30px",zIndex:"21005",color:"#f80000",fontSize:"41px",textAlign:"left"},subheadingStyle:{display:"block",left:"26px",position:"relative",paddingTop:"14px",zIndex:"21005",color:"#4B4949",fontSize:"23px",fontWeight:"bold",textAlign:"left",width:"232px"},chatmsgStyle:{display:"block",width:"208px",left:"26px",position:"relative",paddingTop:"15px",zIndex:"21005",color:"#4B4949",fontSize:"20px",fontWeight:"normal",wordWrap:"break-word",lineHeight:"1.5",textAlign:"left"},htmls:{mainFrameHTML:"",acceptHTML:"",declineHTML:"No Thanks",chatmsgHTML:"Chat right now with a vodafone advisor",subheadingHTML:"Got a question ?",headingHTML:SN.CustomScript.getInviteMsg},actions:{availability:SN.WOWPx.AssistChatDecider.checkAvailability,click:SN.CustomScript.handleButtonChatClick,shown:SN.CustomScript.handleProRule,onIgnore:SN.CustomScript.handleProInviteIgnore,accept:SN.CustomScript.handleInviteAccept,decline:SN.CustomScript.handleInviteDecline,isOfficeTime:SN.CustomScript.isOfficeTime,tfsOnChat:SN.CustomScript.tfsOnChat}},vha_pro_doe_tp6:{appType:"p",buttonImage:"//"+SN.Conf.CDN_DOMAIN+"vha/"+SN.Conf.CONST_CDN_VERSION+"/inviteApp/images/vha_pro_doe_invite3.png",backupImage:"//"+SN.Conf.CDN_DOMAIN+"vha/"+SN.Conf.CONST_CDN_VERSION+"/inviteApp/images/vha_pro_doe_invite3.png",parentElementId:"liveChat",bckupParentElementId:"rightbarCompare",parentStyle:{display:"block",height:"340px",width:"490px"},containerStyle:{position:"relative",overflow:"hidden",height:"340px",width:"490px"},popupStyle:{display:"block",height:"340px",left:"83%",top:"75%",width:"490px",marginLeft:"-260px",marginTop:"-185px",position:"fixed",background:"url(//"+SN.Conf.CDN_DOMAIN+"vha/"+SN.Conf.CONST_CDN_VERSION+"/inviteApp/images/vha_pro_doe_invite3.png) no-repeat",backgroundPosition:"-0px -0px",zIndex:"21005",visibility:"visible",MozBoxShadow:"0px 0px 17px #000",boxShadow:"0px 0px 17px #000",WebkitBoxShadow:"0px 0px 17px #000",textAlign:"left"},acceptStyle:{display:"block",background:"none transparent",cursor:"pointer",height:"38px",left:"152px",position:"absolute",top:"248px",width:"126px",zIndex:"21005",border:"none"},declineStyle:{display:"block",background:"none transparent",cursor:"pointer",height:"20px",left:"462px",position:"absolute",top:"11px",width:"20px",zIndex:"21005",border:"none"},loadingStyle:{display:"block",position:"absolute",cursor:"default",top:"-110px",height:"340px",width:"490px"},offlineStyle:{display:"block",position:"absolute",cursor:"default",top:"-165px",height:"340px",width:"490px"},widgetOverlay:{display:"block",position:"fixed",left:"0px",top:"0px",height:"100%",width:"100%",zIndex:"21000",background:"#000000"},headingStyle:{display:"block",left:"26px",position:"relative",paddingTop:"30px",zIndex:"21005",color:"#f80000",fontSize:"41px",textAlign:"left"},subheadingStyle:{display:"block",left:"26px",position:"relative",paddingTop:"14px",zIndex:"21005",color:"#4B4949",fontSize:"23px",fontWeight:"bold",textAlign:"left",width:"232px"},chatmsgStyle:{display:"block",width:"208px",left:"26px",position:"relative",paddingTop:"15px",zIndex:"21005",color:"#4B4949",fontSize:"20px",fontWeight:"normal",wordWrap:"break-word",lineHeight:"1.5",textAlign:"left"},htmls:{mainFrameHTML:"",acceptHTML:"",declineHTML:"No Thanks",chatmsgHTML:"Chat right now with a vodafone advisor",subheadingHTML:"Got a question ?",headingHTML:SN.CustomScript.getInviteMsg},actions:{availability:SN.WOWPx.AssistChatDecider.checkAvailability,click:SN.CustomScript.handleButtonChatClick,shown:SN.CustomScript.handleProRule,onIgnore:SN.CustomScript.handleProInviteIgnore,accept:SN.CustomScript.handleInviteAccept,decline:SN.CustomScript.handleInviteDecline,isOfficeTime:SN.CustomScript.isOfficeTime,tfsOnChat:SN.CustomScript.tfsOnChat}},vha_pro_doe_tp7:{appType:"p",buttonImage:"//"+SN.Conf.CDN_DOMAIN+"vha/"+SN.Conf.CONST_CDN_VERSION+"/inviteApp/images/vha_pro_doe_invite4.png",backupImage:"//"+SN.Conf.CDN_DOMAIN+"vha/"+SN.Conf.CONST_CDN_VERSION+"/inviteApp/images/vha_pro_doe_invite4.png",parentElementId:"liveChat",bckupParentElementId:"rightbarCompare",parentStyle:{display:"block",height:"340px",width:"490px"},containerStyle:{position:"relative",overflow:"hidden",height:"340px",width:"490px"},popupStyle:{display:"block",height:"340px",left:"50%",top:"50%",width:"490px",marginLeft:"-260px",marginTop:"-185px",position:"fixed",background:"url(//"+SN.Conf.CDN_DOMAIN+"vha/"+SN.Conf.CONST_CDN_VERSION+"/inviteApp/images/vha_pro_doe_invite4.png) no-repeat",backgroundPosition:"-0px -0px",zIndex:"21005",visibility:"visible",MozBoxShadow:"0px 0px 17px #000",boxShadow:"0px 0px 17px #000",WebkitBoxShadow:"0px 0px 17px #000",textAlign:"left"},acceptStyle:{display:"block",background:"none transparent",cursor:"pointer",height:"38px",left:"152px",position:"absolute",top:"248px",width:"126px",zIndex:"21005",border:"none"},declineStyle:{display:"block",background:"none transparent",cursor:"pointer",height:"20px",left:"462px",position:"absolute",top:"11px",width:"20px",zIndex:"21005",border:"none"},loadingStyle:{display:"block",position:"absolute",cursor:"default",top:"-110px",height:"340px",width:"490px"},offlineStyle:{display:"block",position:"absolute",cursor:"default",top:"-165px",height:"340px",width:"490px"},widgetOverlay:{display:"block",position:"fixed",left:"0px",top:"0px",height:"100%",width:"100%",zIndex:"21000",background:"none"},headingStyle:{display:"block",left:"26px",position:"relative",paddingTop:"30px",zIndex:"21005",color:"#f80000",fontSize:"41px",textAlign:"left"},subheadingStyle:{display:"block",left:"26px",position:"relative",paddingTop:"14px",zIndex:"21005",color:"#4B4949",fontSize:"23px",fontWeight:"bold",textAlign:"left",width:"232px"},chatmsgStyle:{display:"block",width:"208px",left:"26px",position:"relative",paddingTop:"15px",zIndex:"21005",color:"#4B4949",fontSize:"20px",fontWeight:"normal",wordWrap:"break-word",lineHeight:"1.5",textAlign:"left"},htmls:{mainFrameHTML:"",acceptHTML:"",declineHTML:"No Thanks",chatmsgHTML:"Chat right now with a vodafone advisor",subheadingHTML:"Got a question ?",headingHTML:SN.CustomScript.getInviteMsg},actions:{availability:SN.WOWPx.AssistChatDecider.checkAvailability,click:SN.CustomScript.handleButtonChatClick,shown:SN.CustomScript.handleProRule,onIgnore:SN.CustomScript.handleProInviteIgnore,accept:SN.CustomScript.handleInviteAccept,decline:SN.CustomScript.handleInviteDecline,isOfficeTime:SN.CustomScript.isOfficeTime,tfsOnChat:SN.CustomScript.tfsOnChat}},vha_pro_doe_tp8:{appType:"p",buttonImage:"//"+SN.Conf.CDN_DOMAIN+"vha/"+SN.Conf.CONST_CDN_VERSION+"/inviteApp/images/vha_pro_doe_invite4.png",backupImage:"//"+SN.Conf.CDN_DOMAIN+"vha/"+SN.Conf.CONST_CDN_VERSION+"/inviteApp/images/vha_pro_doe_invite4.png",parentElementId:"liveChat",bckupParentElementId:"rightbarCompare",parentStyle:{display:"block",height:"340px",width:"490px"},containerStyle:{position:"relative",overflow:"hidden",height:"340px",width:"490px"},popupStyle:{display:"block",height:"340px",left:"83%",top:"75%",width:"490px",marginLeft:"-260px",marginTop:"-185px",position:"fixed",background:"url(//"+SN.Conf.CDN_DOMAIN+"vha/"+SN.Conf.CONST_CDN_VERSION+"/inviteApp/images/vha_pro_doe_invite4.png) no-repeat",backgroundPosition:"-0px -0px",zIndex:"21005",visibility:"visible",MozBoxShadow:"0px 0px 17px #000",boxShadow:"0px 0px 17px #000",WebkitBoxShadow:"0px 0px 17px #000",textAlign:"left"},acceptStyle:{display:"block",background:"none transparent",cursor:"pointer",height:"38px",left:"152px",position:"absolute",top:"248px",width:"126px",zIndex:"21005",border:"none"},declineStyle:{display:"block",background:"none transparent",cursor:"pointer",height:"20px",left:"462px",position:"absolute",top:"11px",width:"20px",zIndex:"21005",border:"none"},loadingStyle:{display:"block",position:"absolute",cursor:"default",top:"-110px",height:"340px",width:"490px"},offlineStyle:{display:"block",position:"absolute",cursor:"default",top:"-165px",height:"340px",width:"490px"},widgetOverlay:{display:"block",position:"fixed",left:"0px",top:"0px",height:"100%",width:"100%",zIndex:"21000",background:"#000000"},headingStyle:{display:"block",left:"26px",position:"relative",paddingTop:"30px",zIndex:"21005",color:"#f80000",fontSize:"41px",textAlign:"left"},subheadingStyle:{display:"block",left:"26px",position:"relative",paddingTop:"14px",zIndex:"21005",color:"#4B4949",fontSize:"23px",fontWeight:"bold",textAlign:"left",width:"232px"},chatmsgStyle:{display:"block",width:"208px",left:"26px",position:"relative",paddingTop:"15px",zIndex:"21005",color:"#4B4949",fontSize:"20px",fontWeight:"normal",wordWrap:"break-word",lineHeight:"1.5",textAlign:"left"},htmls:{mainFrameHTML:"",acceptHTML:"",declineHTML:"No Thanks",chatmsgHTML:"Chat right now with a vodafone advisor",subheadingHTML:"Got a question ?",headingHTML:SN.CustomScript.getInviteMsg},actions:{availability:SN.WOWPx.AssistChatDecider.checkAvailability,click:SN.CustomScript.handleButtonChatClick,shown:SN.CustomScript.handleProRule,onIgnore:SN.CustomScript.handleProInviteIgnore,accept:SN.CustomScript.handleInviteAccept,decline:SN.CustomScript.handleInviteDecline,isOfficeTime:SN.CustomScript.isOfficeTime,tfsOnChat:SN.CustomScript.tfsOnChat}},vha_pro_find:{appType:"p",buttonImage:"//"+SN.Conf.CDN_DOMAIN+"vha/"+SN.Conf.CONST_CDN_VERSION+"/inviteApp/images/vha_pro_sprite.png",backupImage:"//"+SN.Conf.CDN_DOMAIN+"vha/"+SN.Conf.CONST_CDN_VERSION+"/inviteApp/images/vha_pro_sprite.png",parentElementId:"liveChat",bckupParentElementId:"rightbarCompare",parentStyle:{display:"block",height:"340px",width:"490px"},containerStyle:{position:"relative",overflow:"hidden",height:"340px",width:"490px"},popupStyle:{display:"block",height:"340px",left:"50%",top:"50%",width:"490px",marginLeft:"-260px",marginTop:"-185px",position:"fixed",background:"url(//"+SN.Conf.CDN_DOMAIN+"vha/"+SN.Conf.CONST_CDN_VERSION+"/inviteApp/images/vha_pro_sprite.png) no-repeat",backgroundPosition:"-0px -680px",zIndex:"21005",visibility:"visible",MozBoxShadow:"0px 0px 17px #000",boxShadow:"0px 0px 17px #000",WebkitBoxShadow:"0px 0px 17px #000",textAlign:"left"},acceptStyle:{display:"block",background:"none transparent",cursor:"pointer",height:"50px",left:"142px",position:"absolute",top:"248px",width:"126px",zIndex:"21005",border:"none"},declineStyle:{display:"block",background:"none transparent",cursor:"pointer",height:"50px",left:"275px",position:"absolute",top:"248px",width:"130px",zIndex:"21005",border:"none"},loadingStyle:{display:"block",position:"absolute",cursor:"default",top:"-110px",height:"340px",width:"490px"},offlineStyle:{display:"block",position:"absolute",cursor:"default",top:"-165px",height:"340px",width:"490px"},widgetOverlay:{display:"block",position:"fixed",left:"0px",top:"0px",height:"100%",width:"100%",zIndex:"21000",background:"#000000"},headingStyle:{display:"block",left:"26px",position:"relative",paddingTop:"30px",zIndex:"21005",color:"#f80000",fontSize:"41px",textAlign:"left"},subheadingStyle:{display:"block",left:"26px",position:"relative",paddingTop:"14px",zIndex:"21005",color:"#4B4949",fontSize:"23px",fontWeight:"bold",textAlign:"left",width:"232px"},chatmsgStyle:{display:"block",width:"208px",left:"26px",position:"relative",paddingTop:"15px",zIndex:"21005",color:"#4B4949",fontSize:"20px",fontWeight:"normal",wordWrap:"break-word",lineHeight:"1.5",textAlign:"left"},htmls:{mainFrameHTML:"",acceptHTML:"",declineHTML:"No Thanks",chatmsgHTML:"Chat right now with a vodafone advisor",subheadingHTML:"Got a question ?",headingHTML:SN.CustomScript.getInviteMsg},actions:{availability:SN.WOWPx.AssistChatDecider.checkAvailability,click:SN.CustomScript.handleButtonChatClick,shown:SN.CustomScript.handleProRule,onIgnore:SN.CustomScript.handleProInviteIgnore,accept:SN.CustomScript.handleInviteAccept,decline:SN.CustomScript.handleInviteDecline,isOfficeTime:SN.CustomScript.isOfficeTime,tfsOnChat:SN.CustomScript.tfsOnChat}},vha_pro_best_deals:{appType:"p",buttonImage:"//"+SN.Conf.CDN_DOMAIN+"vha/"+SN.Conf.CONST_CDN_VERSION+"/inviteApp/images/vha_pro_sprite.png",backupImage:"//"+SN.Conf.CDN_DOMAIN+"vha/"+SN.Conf.CONST_CDN_VERSION+"/inviteApp/images/vha_pro_sprite.png",parentElementId:"liveChat",bckupParentElementId:"rightbarCompare",parentStyle:{display:"block",height:"340px",width:"490px"},containerStyle:{position:"relative",overflow:"hidden",height:"340px",width:"490px"},popupStyle:{display:"block",height:"340px",left:"50%",top:"50%",width:"490px",marginLeft:"-260px",marginTop:"-185px",position:"fixed",background:"url(//"+SN.Conf.CDN_DOMAIN+"vha/"+SN.Conf.CONST_CDN_VERSION+"/inviteApp/images/vha_pro_sprite.png) no-repeat",backgroundPosition:"-0px -0px",zIndex:"21005",visibility:"visible",MozBoxShadow:"0px 0px 17px #000",boxShadow:"0px 0px 17px #000",WebkitBoxShadow:"0px 0px 17px #000",textAlign:"left"},acceptStyle:{display:"block",background:"none transparent",cursor:"pointer",height:"50px",left:"142px",position:"absolute",top:"248px",width:"126px",zIndex:"21005",border:"none"},declineStyle:{display:"block",background:"none transparent",cursor:"pointer",height:"50px",left:"275px",position:"absolute",top:"248px",width:"130px",zIndex:"21005",border:"none"},loadingStyle:{display:"block",position:"absolute",cursor:"default",top:"-110px",height:"340px",width:"490px"},offlineStyle:{display:"block",position:"absolute",cursor:"default",top:"-165px",height:"340px",width:"490px"},widgetOverlay:{display:"block",position:"fixed",left:"0px",top:"0px",height:"100%",width:"100%",zIndex:"21000",background:"#000000"},headingStyle:{display:"block",left:"26px",position:"relative",paddingTop:"30px",zIndex:"21005",color:"#f80000",fontSize:"41px",textAlign:"left"},subheadingStyle:{display:"block",left:"26px",position:"relative",paddingTop:"14px",zIndex:"21005",color:"#4B4949",fontSize:"23px",fontWeight:"bold",textAlign:"left",width:"232px"},chatmsgStyle:{display:"block",width:"208px",left:"26px",position:"relative",paddingTop:"15px",zIndex:"21005",color:"#4B4949",fontSize:"20px",fontWeight:"normal",wordWrap:"break-word",lineHeight:"1.5",textAlign:"left"},htmls:{mainFrameHTML:"",acceptHTML:"",declineHTML:"No Thanks",chatmsgHTML:"Chat right now with a vodafone advisor",subheadingHTML:"Got a question ?",headingHTML:SN.CustomScript.getInviteMsg},actions:{availability:SN.WOWPx.AssistChatDecider.checkAvailability,click:SN.CustomScript.handleButtonChatClick,shown:SN.CustomScript.handleProRule,onIgnore:SN.CustomScript.handleProInviteIgnore,accept:SN.CustomScript.handleInviteAccept,decline:SN.CustomScript.handleInviteDecline,isOfficeTime:SN.CustomScript.isOfficeTime,tfsOnChat:SN.CustomScript.tfsOnChat}},vha_pro_checkout:{appType:"p",buttonImage:"//"+SN.Conf.CDN_DOMAIN+"vha/"+SN.Conf.CONST_CDN_VERSION+"/inviteApp/images/vha_pro_sprite.png",backupImage:"//"+SN.Conf.CDN_DOMAIN+"vha/"+SN.Conf.CONST_CDN_VERSION+"/inviteApp/images/vha_pro_sprite.png",parentElementId:"liveChat",bckupParentElementId:"rightbarCompare",parentStyle:{display:"block",height:"340px",width:"490px"},containerStyle:{position:"relative",overflow:"hidden",height:"340px",width:"490px"},popupStyle:{display:"block",height:"340px",left:"50%",top:"50%",width:"490px",marginLeft:"-260px",marginTop:"-185px",position:"fixed",background:"url(//"+SN.Conf.CDN_DOMAIN+"vha/"+SN.Conf.CONST_CDN_VERSION+"/inviteApp/images/vha_pro_sprite.png) no-repeat",backgroundPosition:"-0px -340px",zIndex:"21005",visibility:"visible",MozBoxShadow:"0px 0px 17px #000",boxShadow:"0px 0px 17px #000",WebkitBoxShadow:"0px 0px 17px #000",textAlign:"left"},acceptStyle:{display:"block",background:"none transparent",cursor:"pointer",height:"50px",left:"20px",position:"absolute",top:"220px",width:"126px",zIndex:"21005",border:"none"},declineStyle:{display:"block",background:"none transparent",cursor:"pointer",height:"50px",left:"150px",position:"absolute",top:"220px",width:"130px",zIndex:"21005",border:"none"},loadingStyle:{display:"block",position:"absolute",cursor:"default",top:"-110px",height:"340px",width:"490px"},offlineStyle:{display:"block",position:"absolute",cursor:"default",top:"-165px",height:"340px",width:"490px"},widgetOverlay:{display:"block",position:"fixed",left:"0px",top:"0px",height:"100%",width:"100%",zIndex:"21000",background:"#000000"},headingStyle:{display:"block",left:"26px",position:"relative",paddingTop:"30px",zIndex:"21005",color:"#f80000",fontSize:"41px",textAlign:"left"},subheadingStyle:{display:"block",left:"26px",position:"relative",paddingTop:"14px",zIndex:"21005",color:"#4B4949",fontSize:"23px",fontWeight:"bold",textAlign:"left",width:"232px"},chatmsgStyle:{display:"block",width:"208px",left:"26px",position:"relative",paddingTop:"15px",zIndex:"21005",color:"#4B4949",fontSize:"20px",fontWeight:"normal",wordWrap:"break-word",lineHeight:"1.5",textAlign:"left"},htmls:{mainFrameHTML:"",acceptHTML:"",declineHTML:"No Thanks",chatmsgHTML:"Chat right now with a vodafone advisor",subheadingHTML:"Got a question ?",headingHTML:SN.CustomScript.getInviteMsg},actions:{availability:SN.WOWPx.AssistChatDecider.checkAvailability,click:SN.CustomScript.handleButtonChatClick,shown:SN.CustomScript.handleProRule,onIgnore:SN.CustomScript.handleProInviteIgnore,accept:SN.CustomScript.handleInviteAccept,decline:SN.CustomScript.handleInviteDecline,isOfficeTime:SN.CustomScript.isOfficeTime,tfsOnChat:SN.CustomScript.tfsOnChat}},Invite_1:{appType:"p",buttonImage:"//"+SN.Conf.CDN_DOMAIN+"vha/"+SN.Conf.CONST_CDN_VERSION+"/inviteApp/images/vha_pro_sprite_new.png",backupImage:"//"+SN.Conf.CDN_DOMAIN+"vha/"+SN.Conf.CONST_CDN_VERSION+"/inviteApp/images/vha_pro_sprite_new.png",parentElementId:"liveChat",bckupParentElementId:"rightbarCompare",lightbox:"false",parentStyle:{display:"block",height:"319px",width:"300px"},containerStyle:{position:"relative",overflow:"hidden",height:"319px",width:"300px"},popupStyle:{display:"block",height:"319px",bottom:"10px",right:"10px",width:"300px",position:"fixed",background:"url(//"+SN.Conf.CDN_DOMAIN+"vha/"+SN.Conf.CONST_CDN_VERSION+"/inviteApp/images/vha_pro_sprite_new.png) no-repeat",backgroundPosition:"0px 0px",zIndex:"21005",visibility:"visible",MozBoxShadow:"0px 0px 17px #000",boxShadow:"0px 0px 17px #000",WebkitBoxShadow:"0px 0px 17px #000",textAlign:"left"},acceptStyle:{display:"block",background:"none transparent",cursor:"pointer",height:"42px",left:"13px",position:"absolute",top:"249px",width:"130px",zIndex:"21005",border:"none"},declineStyle:{display:"block",background:"none transparent",cursor:"pointer",height:"42px",left:"159px",position:"absolute",top:"249px",width:"130px",zIndex:"21005",border:"none"},loadingStyle:{display:"block",position:"absolute",cursor:"default",top:"-110px",height:"319px",width:"300px"},offlineStyle:{display:"block",position:"absolute",cursor:"default",top:"-165px",height:"319px",width:"300px"},widgetOverlay:{display:"block",position:"fixed",left:"0px",top:"0px",height:"100%",width:"100%",zIndex:"21000"},headingStyle:{display:"block",left:"26px",position:"relative",paddingTop:"30px",zIndex:"21005",color:"#f80000",fontSize:"41px",textAlign:"left"},subheadingStyle:{display:"block",left:"26px",position:"relative",paddingTop:"14px",zIndex:"21005",color:"#4B4949",fontSize:"23px",fontWeight:"bold",textAlign:"left",width:"232px"},chatmsgStyle:{display:"block",width:"208px",left:"26px",position:"relative",paddingTop:"15px",zIndex:"21005",color:"#4B4949",fontSize:"20px",fontWeight:"normal",wordWrap:"break-word",lineHeight:"1.5",textAlign:"left"},htmls:{mainFrameHTML:"",acceptHTML:"",declineHTML:"No Thanks",chatmsgHTML:"Chat right now with a vodafone advisor",subheadingHTML:"Got a question ?",headingHTML:SN.CustomScript.getInviteMsg},actions:{availability:SN.WOWPx.AssistChatDecider.checkAvailability,click:SN.CustomScript.handleButtonChatClick,shown:SN.CustomScript.handleProRule,onIgnore:SN.CustomScript.handleProInviteIgnore,accept:SN.CustomScript.handleInviteAccept,decline:SN.CustomScript.handleInviteDecline,isOfficeTime:SN.CustomScript.isOfficeTime,tfsOnChat:SN.CustomScript.tfsOnChat}},Service_invite_2:{appType:"p",buttonImage:"//"+SN.Conf.CDN_DOMAIN+"vha/"+SN.Conf.CONST_CDN_VERSION+"/inviteApp/images/vha_pro_sprite_new.png",backupImage:"//"+SN.Conf.CDN_DOMAIN+"vha/"+SN.Conf.CONST_CDN_VERSION+"/inviteApp/images/vha_pro_sprite_new.png",parentElementId:"liveChat",bckupParentElementId:"rightbarCompare",lightbox:"false",parentStyle:{display:"block",height:"319px",width:"300px"},containerStyle:{position:"relative",overflow:"hidden",height:"319px",width:"300px"},popupStyle:{display:"block",height:"319px",bottom:"10px",right:"10px",width:"300px",position:"fixed",background:"url(//"+SN.Conf.CDN_DOMAIN+"vha/"+SN.Conf.CONST_CDN_VERSION+"/inviteApp/images/vha_pro_sprite_new.png) no-repeat",backgroundPosition:"-0px -320px",zIndex:"21005",visibility:"visible",MozBoxShadow:"0px 0px 17px #000",boxShadow:"0px 0px 17px #000",WebkitBoxShadow:"0px 0px 17px #000",textAlign:"left"},acceptStyle:{display:"block",background:"none transparent",cursor:"pointer",height:"41px",left:"13px",position:"absolute",top:"249px",width:"130px",zIndex:"21005",border:"none"},declineStyle:{display:"block",background:"none transparent",cursor:"pointer",height:"41px",left:"159px",position:"absolute",top:"249px",width:"130px",zIndex:"21005",border:"none"},loadingStyle:{display:"block",position:"absolute",cursor:"default",top:"-110px",height:"340px",width:"490px"},offlineStyle:{display:"block",position:"absolute",cursor:"default",top:"-165px",height:"340px",width:"490px"},widgetOverlay:{display:"block",position:"fixed",left:"0px",top:"0px",height:"100%",width:"100%",zIndex:"21000"},headingStyle:{display:"block",left:"26px",position:"relative",paddingTop:"30px",zIndex:"21005",color:"#f80000",fontSize:"41px",textAlign:"left"},subheadingStyle:{display:"block",left:"26px",position:"relative",paddingTop:"14px",zIndex:"21005",color:"#4B4949",fontSize:"23px",fontWeight:"bold",textAlign:"left",width:"232px"},chatmsgStyle:{display:"block",width:"208px",left:"26px",position:"relative",paddingTop:"15px",zIndex:"21005",color:"#4B4949",fontSize:"20px",fontWeight:"normal",wordWrap:"break-word",lineHeight:"1.5",textAlign:"left"},htmls:{mainFrameHTML:"",acceptHTML:"",declineHTML:"No Thanks",chatmsgHTML:"Chat right now with a vodafone advisor",subheadingHTML:"Got a question ?",headingHTML:SN.CustomScript.getInviteMsg},actions:{availability:SN.WOWPx.AssistChatDecider.checkAvailability,click:SN.CustomScript.handleButtonChatClick,shown:SN.CustomScript.handleProRule,onIgnore:SN.CustomScript.handleProInviteIgnore,accept:SN.CustomScript.handleInviteAccept,decline:SN.CustomScript.handleInviteDecline,isOfficeTime:SN.CustomScript.isOfficeTime,tfsOnChat:SN.CustomScript.tfsOnChat}},Sales_invite_3:{appType:"p",buttonImage:"//"+SN.Conf.CDN_DOMAIN+"vha/"+SN.Conf.CONST_CDN_VERSION+"/inviteApp/images/vha_pro_sprite_new.png",backupImage:"//"+SN.Conf.CDN_DOMAIN+"vha/"+SN.Conf.CONST_CDN_VERSION+"/inviteApp/images/vha_pro_sprite_new.png",parentElementId:"liveChat",bckupParentElementId:"rightbarCompare",lightbox:"false",parentStyle:{display:"block",height:"319px",width:"300px"},containerStyle:{position:"relative",overflow:"hidden",height:"319px",width:"300px"},popupStyle:{display:"block",height:"319px",bottom:"10px",right:"10px",width:"300px",position:"fixed",background:"url(//"+SN.Conf.CDN_DOMAIN+"vha/"+SN.Conf.CONST_CDN_VERSION+"/inviteApp/images/vha_pro_sprite_new.png) no-repeat",backgroundPosition:"-0px -639px",zIndex:"21005",visibility:"visible",MozBoxShadow:"0px 0px 17px #000",boxShadow:"0px 0px 17px #000",WebkitBoxShadow:"0px 0px 17px #000",textAlign:"left"},acceptStyle:{display:"block",background:"none transparent",cursor:"pointer",height:"42px",left:"13px",position:"absolute",top:"249px",width:"130px",zIndex:"21005",border:"none"},declineStyle:{display:"block",background:"none transparent",cursor:"pointer",height:"42px",left:"159px",position:"absolute",top:"249px",width:"130px",zIndex:"21005",border:"none"},loadingStyle:{display:"block",position:"absolute",cursor:"default",top:"-110px",height:"319px",width:"300px"},offlineStyle:{display:"block",position:"absolute",cursor:"default",top:"-165px",height:"319px",width:"300px"},widgetOverlay:{display:"block",position:"fixed",left:"0px",top:"0px",height:"100%",width:"100%",zIndex:"21000"},headingStyle:{display:"block",left:"26px",position:"relative",paddingTop:"30px",zIndex:"21005",color:"#f80000",fontSize:"41px",textAlign:"left"},subheadingStyle:{display:"block",left:"26px",position:"relative",paddingTop:"14px",zIndex:"21005",color:"#4B4949",fontSize:"23px",fontWeight:"bold",textAlign:"left",width:"232px"},chatmsgStyle:{display:"block",width:"208px",left:"26px",position:"relative",paddingTop:"15px",zIndex:"21005",color:"#4B4949",fontSize:"20px",fontWeight:"normal",wordWrap:"break-word",lineHeight:"1.5",textAlign:"left"},htmls:{mainFrameHTML:"",acceptHTML:"",declineHTML:"No Thanks",chatmsgHTML:"Chat right now with a vodafone advisor",subheadingHTML:"Got a question ?",headingHTML:SN.CustomScript.getInviteMsg},actions:{availability:SN.WOWPx.AssistChatDecider.checkAvailability,click:SN.CustomScript.handleButtonChatClick,shown:SN.CustomScript.handleProRule,onIgnore:SN.CustomScript.handleProInviteIgnore,accept:SN.CustomScript.handleInviteAccept,decline:SN.CustomScript.handleInviteDecline,isOfficeTime:SN.CustomScript.isOfficeTime,tfsOnChat:SN.CustomScript.tfsOnChat}},Sales_cart_page:{appType:"p",buttonImage:"//"+SN.Conf.CDN_DOMAIN+"vha/"+SN.Conf.CONST_CDN_VERSION+"/inviteApp/images/vha_pro_sprite_new.png",backupImage:"//"+SN.Conf.CDN_DOMAIN+"vha/"+SN.Conf.CONST_CDN_VERSION+"/inviteApp/images/vha_pro_sprite_new.png",parentElementId:"liveChat",bckupParentElementId:"rightbarCompare",lightbox:"false",parentStyle:{display:"block",height:"319px",width:"300px"},containerStyle:{position:"relative",overflow:"hidden",height:"319px",width:"300px"},popupStyle:{display:"block",height:"319px",bottom:"10px",right:"10px",width:"300px",position:"fixed",background:"url(//"+SN.Conf.CDN_DOMAIN+"vha/"+SN.Conf.CONST_CDN_VERSION+"/inviteApp/images/vha_pro_sprite_new.png) no-repeat",backgroundPosition:"-0px -959px",zIndex:"21005",visibility:"visible",MozBoxShadow:"0px 0px 17px #000",boxShadow:"0px 0px 17px #000",WebkitBoxShadow:"0px 0px 17px #000",textAlign:"left"},acceptStyle:{display:"block",background:"none transparent",cursor:"pointer",height:"42px",left:"13px",position:"absolute",top:"249px",width:"130px",zIndex:"21005",border:"none"},declineStyle:{display:"block",background:"none transparent",cursor:"pointer",height:"42px",left:"159px",position:"absolute",top:"249px",width:"130px",zIndex:"21005",border:"none"},loadingStyle:{display:"block",position:"absolute",cursor:"default",top:"-110px",height:"319px",width:"300px"},offlineStyle:{display:"block",position:"absolute",cursor:"default",top:"-165px",height:"319px",width:"300px"},widgetOverlay:{display:"block",position:"fixed",left:"0px",top:"0px",height:"100%",width:"100%",zIndex:"21000"},headingStyle:{display:"block",left:"26px",position:"relative",paddingTop:"30px",zIndex:"21005",color:"#f80000",fontSize:"41px",textAlign:"left"},subheadingStyle:{display:"block",left:"26px",position:"relative",paddingTop:"14px",zIndex:"21005",color:"#4B4949",fontSize:"23px",fontWeight:"bold",textAlign:"left",width:"232px"},chatmsgStyle:{display:"block",width:"208px",left:"26px",position:"relative",paddingTop:"15px",zIndex:"21005",color:"#4B4949",fontSize:"20px",fontWeight:"normal",wordWrap:"break-word",lineHeight:"1.5",textAlign:"left"},htmls:{mainFrameHTML:"",acceptHTML:"",declineHTML:"No Thanks",chatmsgHTML:"Chat right now with a vodafone advisor",subheadingHTML:"Got a question ?",headingHTML:SN.CustomScript.getInviteMsg},actions:{availability:SN.WOWPx.AssistChatDecider.checkAvailability,click:SN.CustomScript.handleButtonChatClick,shown:SN.CustomScript.handleProRule,onIgnore:SN.CustomScript.handleProInviteIgnore,accept:SN.CustomScript.handleInviteAccept,decline:SN.CustomScript.handleInviteDecline,isOfficeTime:SN.CustomScript.isOfficeTime,tfsOnChat:SN.CustomScript.tfsOnChat}},vha_button_1:{appType:"b",buttonImage:"//"+SN.Conf.CDN_DOMAIN+"vha/"+SN.Conf.CONST_CDN_VERSION+"/buttonApp/images/button_chat.png",buttonCartImage:"//"+SN.Conf.CDN_DOMAIN+"vha/"+SN.Conf.CONST_CDN_VERSION+"/buttonApp/images/chat_transparent.png",backupImage:"//"+SN.Conf.CDN_DOMAIN+"vha/"+SN.Conf.CONST_CDN_VERSION+"/buttonApp/images/button_chat.png",backupCartImage:"//"+SN.Conf.CDN_DOMAIN+"vha/"+SN.Conf.CONST_CDN_VERSION+"/buttonApp/images/chat_transparent.png",parentElementId:"liveChat",bckupParentElementId:"rightbarCompare",parentStyle:{display:"block",cursor:"pointer"},containerStyle:{},onlineStyle:{display:"block",position:"absolute",cursor:"pointer",top:"0px",height:"162px",width:"229px"},busyStyle:{display:"block",position:"absolute",cursor:"default",top:"-55px",height:"162px",width:"229px"},loadingStyle:{display:"block",position:"absolute",cursor:"default",top:"-110px",height:"162px",width:"229px"},offlineStyle:{display:"block",position:"absolute",cursor:"default",top:"-165px",height:"162px",width:"229px"},inprogressStyle:{display:"block",position:"absolute",cursor:"default",top:"-220px",height:"162px",width:"229px"},htmls:{mainFrameHTML:"",acceptHTML:"",declineHTML:"No Thanks"},actions:{availability:SN.WOWPx.AssistChatDecider.checkAvailability,click:SN.CustomScript.handleButtonChatClick,shown:SN.CustomScript.handleButtonRule,accept:SN.CustomScript.handleInvite1Accept,decline:SN.CustomScript.handleInvite1Decline,isOfficeTime:SN.CustomScript.isOfficeTime,tfsOnChat:SN.CustomScript.tfsOnChat},useMobileButton:!0,checkAvailability:{required:!0,callBack:SN.CustomScript.attachButtonForRule}},vha_button_service:{appType:"b",buttonImage:"//"+SN.Conf.CDN_DOMAIN+"vha/"+SN.Conf.CONST_CDN_VERSION+"/buttonApp/images/service_button.png",backupImage:"//"+SN.Conf.CDN_DOMAIN+"vha/"+SN.Conf.CONST_CDN_VERSION+"/buttonApp/images/service_button.png",parentElementId:"body-wrap",bckupParentElementId:"body-wrap",parentStyle:{},containerStyle:{top:"220px",right:"0px",position:"fixed",zIndex:"999",display:"block",cursor:"pointer",height:"100px",width:"59px"},onlineStyle:{display:"block",position:"absolute",cursor:"pointer",top:"0px",height:"162px",width:"229px"},busyStyle:{display:"block",position:"absolute",cursor:"default",top:"-55px",height:"162px",width:"229px"},loadingStyle:{display:"block",position:"absolute",cursor:"default",top:"-110px",height:"162px",width:"229px"},offlineStyle:{display:"block",position:"absolute",cursor:"default",top:"-165px",height:"162px",width:"229px"},inprogressStyle:{display:"block",position:"absolute",cursor:"default",top:"-220px",height:"162px",width:"229px"},htmls:{mainFrameHTML:"",acceptHTML:"",declineHTML:"No Thanks"},actions:{availability:SN.WOWPx.AssistChatDecider.checkAvailability,click:SN.CustomScript.handleButtonChatClick,shown:SN.CustomScript.handleButtonRule,accept:SN.CustomScript.handleInvite1Accept,decline:SN.CustomScript.handleInvite1Decline,isOfficeTime:SN.CustomScript.isOfficeTime,tfsOnChat:SN.CustomScript.tfsOnChat},useMobileButton:!0,checkAvailability:{required:!0,callBack:SN.CustomScript.attachButtonForRule}},vha_button_prepaid_service:{appType:"b",buttonImage:"//"+SN.Conf.CDN_DOMAIN+"vha/"+SN.Conf.CONST_CDN_VERSION+"/buttonApp/images/service_button.png",backupImage:"//"+SN.Conf.CDN_DOMAIN+"vha/"+SN.Conf.CONST_CDN_VERSION+"/buttonApp/images/service_button.png",parentElementId:"body-wrap",bckupParentElementId:"body-wrap",parentStyle:{},containerStyle:{top:"220px",right:"0px",position:"fixed",zIndex:"999",display:"block",cursor:"pointer",height:"100px",width:"59px"},onlineStyle:{display:"block",position:"absolute",cursor:"pointer",top:"0px",height:"162px",width:"229px"},busyStyle:{display:"block",position:"absolute",cursor:"default",top:"-55px",height:"162px",width:"229px"},loadingStyle:{display:"block",position:"absolute",cursor:"default",top:"-110px",height:"162px",width:"229px"},offlineStyle:{display:"block",position:"absolute",cursor:"default",top:"-165px",height:"162px",width:"229px"},inprogressStyle:{display:"block",position:"absolute",cursor:"default",top:"-220px",height:"162px",width:"229px"},htmls:{mainFrameHTML:"",acceptHTML:"",declineHTML:"No Thanks"},actions:{availability:SN.WOWPx.AssistChatDecider.checkAvailability,click:SN.CustomScript.handleButtonChatClick,shown:SN.CustomScript.handleButtonRule,accept:SN.CustomScript.handleInvite1Accept,decline:SN.CustomScript.handleInvite1Decline,isOfficeTime:SN.CustomScript.isOfficeTime,tfsOnChat:SN.CustomScript.tfsOnChat},useMobileButton:!0,checkAvailability:{required:!0,callBack:SN.CustomScript.attachButtonForRule},queue:"vha-account-default-queue-prepaid"},vha_button_persistent:{appType:"b",buttonImage:"//"+SN.Conf.CDN_DOMAIN+"vha/"+SN.Conf.CONST_CDN_VERSION+"/buttonApp/images/button_persistent.png",backupImage:"//"+SN.Conf.CDN_DOMAIN+"vha/"+SN.Conf.CONST_CDN_VERSION+"/buttonApp/images/button_persistent.png",parentElementId:"body-wrap",bckupParentElementId:"body-wrap",parentStyle:{},containerStyle:{top:"220px",right:"0px",position:"fixed",zIndex:"999",display:"block",cursor:"pointer",height:"100px",width:"59px"},onlineStyle:{display:"block",position:"absolute",cursor:"pointer",top:"0px",height:"162px",width:"229px"},busyStyle:{display:"block",position:"absolute",cursor:"default",top:"-55px",height:"162px",width:"229px"},loadingStyle:{display:"block",position:"absolute",cursor:"default",top:"-110px",height:"162px",width:"229px"},offlineStyle:{display:"block",position:"absolute",cursor:"default",top:"-165px",height:"162px",width:"229px"},inprogressStyle:{display:"block",position:"absolute",cursor:"default",top:"-220px",height:"162px",width:"229px"},htmls:{mainFrameHTML:"",acceptHTML:"",declineHTML:"No Thanks"},actions:{availability:SN.WOWPx.AssistChatDecider.checkAvailability,click:SN.CustomScript.handleButtonChatClick,shown:SN.CustomScript.handleButtonRule,accept:SN.CustomScript.handleInvite1Accept,decline:SN.CustomScript.handleInvite1Decline,isOfficeTime:SN.CustomScript.isOfficeTime,tfsOnChat:SN.CustomScript.tfsOnChat},useMobileButton:!0,checkAvailability:{required:!0,callBack:SN.CustomScript.attachButtonForRule}},vha_button_persistent1:{appType:"b",buttonImage:"//"+SN.Conf.CDN_DOMAIN+"vha/"+SN.Conf.CONST_CDN_VERSION+"/buttonApp/images/button_persistent.png",backupImage:"//"+SN.Conf.CDN_DOMAIN+"vha/"+SN.Conf.CONST_CDN_VERSION+"/buttonApp/images/button_persistent.png",parentElementId:"body-wrap",bckupParentElementId:"body-wrap",parentStyle:{},containerStyle:{top:"220px",right:"0px",position:"fixed",zIndex:"999",display:"block",cursor:"pointer",height:"100px",width:"59px"},onlineStyle:{display:"block",position:"absolute",cursor:"pointer",top:"0px",height:"162px",width:"229px"},busyStyle:{display:"block",position:"absolute",cursor:"default",top:"-55px",height:"162px",width:"229px"},loadingStyle:{display:"block",position:"absolute",cursor:"default",top:"-110px",height:"162px",width:"229px"},offlineStyle:{display:"block",position:"absolute",cursor:"default",top:"-165px",height:"162px",width:"229px"},inprogressStyle:{display:"block",position:"absolute",cursor:"default",top:"-220px",height:"162px",width:"229px"},htmls:{mainFrameHTML:"",acceptHTML:"",declineHTML:"No Thanks"},actions:{availability:SN.WOWPx.AssistChatDecider.checkAvailability,click:SN.CustomScript.handleButtonChatClick,shown:SN.CustomScript.handleButtonRule,accept:SN.CustomScript.handleInvite1Accept,decline:SN.CustomScript.handleInvite1Decline,isOfficeTime:SN.CustomScript.isOfficeTime,tfsOnChat:SN.CustomScript.tfsOnChat},useMobileButton:!0,checkAvailability:{required:!0,callBack:SN.CustomScript.attachButtonForRule}},button_intelliresponse:{appType:"b",buttonImage:parent.SN&&parent.SN.UserAgentParser&&parent.SN.UserAgentParser.getDeviceDetails&&parent.SN.UserAgentParser.getDeviceDetails().search(/~M~|~T~/)!=-1?"//"+SN.Conf.CDN_DOMAIN+"vha/"+SN.Conf.CONST_CDN_VERSION+"/buttonApp/images/intelli_mobile.png":"//"+SN.Conf.CDN_DOMAIN+"vha/"+SN.Conf.CONST_CDN_VERSION+"/buttonApp/images/button_ChatNow_intelli.png",backupImage:parent.SN&&parent.SN.UserAgentParser&&parent.SN.UserAgentParser.getDeviceDetails&&parent.SN.UserAgentParser.getDeviceDetails().search(/~M~|~T~/)!=-1?"//"+SN.Conf.CDN_DOMAIN+"vha/"+SN.Conf.CONST_CDN_VERSION+"/buttonApp/images/intelli_mobile.png":"//"+SN.Conf.CDN_DOMAIN+"vha/"+SN.Conf.CONST_CDN_VERSION+"/buttonApp/images/button_ChatNow_intelli.png",parentElementId:"247chat",bckupParentElementId:"247chat",parentStyle:{},containerStyle:{display:"block",cursor:"pointer",height:"50px",width:parent.SN&&parent.SN.UserAgentParser&&parent.SN.UserAgentParser.getDeviceDetails&&parent.SN.UserAgentParser.getDeviceDetails().search(/~M~|~T~/)!=-1?"100%":"200px","margin-bottom":"-16px"},onlineStyle:{display:"block",position:"absolute",cursor:"pointer",top:"0px",height:"50px",width:"200px"},busyStyle:{display:"block",position:"absolute",cursor:"default",top:"-55px",height:"162px",width:"229px"},loadingStyle:{display:"block",cursor:"default",height:"162px",width:"229px"},offlineStyle:{display:"block",position:"absolute",cursor:"default",top:"-165px",height:"162px",width:"229px"},inprogressStyle:{display:"block",position:"absolute",cursor:"default",top:"-220px",height:"162px",width:"229px"},htmls:{mainFrameHTML:"",acceptHTML:"",declineHTML:"No Thanks"},actions:{availability:SN.WOWPx.AssistChatDecider.checkAvailability,click:SN.CustomScript.handleButtonChatClick,shown:SN.CustomScript.handleButtonRule,accept:SN.CustomScript.handleInvite1Accept,decline:SN.CustomScript.handleInvite1Decline,isOfficeTime:SN.CustomScript.isOfficeTime,tfsOnChat:SN.CustomScript.tfsOnChat},useMobileButton:!1,checkAvailability:{required:!0,callBack:SN.CustomScript.attachButtonForRule}},vha_button_complaints_page:{appType:"b",buttonImage:parent.SN&&parent.SN.UserAgentParser&&parent.SN.UserAgentParser.getDeviceDetails&&parent.SN.UserAgentParser.getDeviceDetails().search(/~M~|~T~/)!=-1?SN.CustomScript.isContactTestPage()=="true"?"//"+SN.Conf.CDN_DOMAIN+"vha/"+SN.Conf.CONST_CDN_VERSION+"/buttonApp/images/button_TestContactUsmobile.png":"//"+SN.Conf.CDN_DOMAIN+"vha/"+SN.Conf.CONST_CDN_VERSION+"/buttonApp/images/complaints_mobile.png":SN.CustomScript.isContactTestPage()=="true"?"//"+SN.Conf.CDN_DOMAIN+"vha/"+SN.Conf.CONST_CDN_VERSION+"/buttonApp/images/button_TestContactUs.png":"//"+SN.Conf.CDN_DOMAIN+"vha/"+SN.Conf.CONST_CDN_VERSION+"/buttonApp/images/button_ChatNow_complaints.png",backupImage:parent.SN&&parent.SN.UserAgentParser&&parent.SN.UserAgentParser.getDeviceDetails&&parent.SN.UserAgentParser.getDeviceDetails().search(/~M~|~T~/)!=-1?SN.CustomScript.isContactTestPage()=="true"?"//"+SN.Conf.CDN_DOMAIN+"vha/"+SN.Conf.CONST_CDN_VERSION+"/buttonApp/images/button_TestContactUsmobile.png":"//"+SN.Conf.CDN_DOMAIN+"vha/"+SN.Conf.CONST_CDN_VERSION+"/buttonApp/images/complaints_mobile.png":SN.CustomScript.isContactTestPage()=="true"?"//"+SN.Conf.CDN_DOMAIN+"vha/"+SN.Conf.CONST_CDN_VERSION+"/buttonApp/images/button_TestContactUs.png":"//"+SN.Conf.CDN_DOMAIN+"vha/"+SN.Conf.CONST_CDN_VERSION+"/buttonApp/images/button_ChatNow_complaints.png",parentElementId:"247chat",bckupParentElementId:"247chat",parentStyle:{},containerStyle:{display:"block",cursor:"pointer",height:"38px",width:parent.SN&&parent.SN.UserAgentParser&&parent.SN.UserAgentParser.getDeviceDetails&&parent.SN.UserAgentParser.getDeviceDetails().search(/~M~|~T~/)!=-1?SN.CustomScript.isContactTestPage()=="true"?"280px":"200px":"87px","margin-left":"0px","margin-bottom":"0px","margin-top":"-50px"},onlineStyle:{display:"block",position:"absolute",cursor:"pointer",top:"0px",height:"50px",width:"200px"},busyStyle:{display:"block",position:"absolute",cursor:"default",top:"-55px",height:"162px",width:"229px"},loadingStyle:{display:"block",cursor:"default",height:"162px",width:"229px"},offlineStyle:{display:"block",position:"absolute",cursor:"default",top:"-165px",height:"162px",width:"229px"},inprogressStyle:{display:"block",position:"absolute",cursor:"default",top:"-220px",height:"162px",width:"229px"},htmls:{mainFrameHTML:"",acceptHTML:"",declineHTML:"No Thanks"},actions:{availability:SN.WOWPx.AssistChatDecider.checkAvailability,click:SN.CustomScript.handleButtonChatClick,shown:SN.CustomScript.handleButtonRule,accept:SN.CustomScript.handleInvite1Accept,decline:SN.CustomScript.handleInvite1Decline,isOfficeTime:SN.CustomScript.isOfficeTime,tfsOnChat:SN.CustomScript.tfsOnChat},useMobileButton:!1},vha_button_retail_support_page:{appType:"b",buttonImage:parent.SN&&parent.SN.UserAgentParser&&parent.SN.UserAgentParser.getDeviceDetails&&parent.SN.UserAgentParser.getDeviceDetails().search(/~M~|~T~/)!=-1?SN.CustomScript.isContactTestPage()=="true"?"//"+SN.Conf.CDN_DOMAIN+"vha/"+SN.Conf.CONST_CDN_VERSION+"/buttonApp/images/button_TestContactUsmobile.png":"//"+SN.Conf.CDN_DOMAIN+"vha/"+SN.Conf.CONST_CDN_VERSION+"/buttonApp/images/complaints_mobile.png":SN.CustomScript.isContactTestPage()=="true"?"//"+SN.Conf.CDN_DOMAIN+"vha/"+SN.Conf.CONST_CDN_VERSION+"/buttonApp/images/button_TestContactUs.png":"//"+SN.Conf.CDN_DOMAIN+"vha/"+SN.Conf.CONST_CDN_VERSION+"/buttonApp/images/button_ChatNow_complaints.png",backupImage:parent.SN&&parent.SN.UserAgentParser&&parent.SN.UserAgentParser.getDeviceDetails&&parent.SN.UserAgentParser.getDeviceDetails().search(/~M~|~T~/)!=-1?SN.CustomScript.isContactTestPage()=="true"?"//"+SN.Conf.CDN_DOMAIN+"vha/"+SN.Conf.CONST_CDN_VERSION+"/buttonApp/images/button_TestContactUsmobile.png":"//"+SN.Conf.CDN_DOMAIN+"vha/"+SN.Conf.CONST_CDN_VERSION+"/buttonApp/images/complaints_mobile.png":SN.CustomScript.isContactTestPage()=="true"?"//"+SN.Conf.CDN_DOMAIN+"vha/"+SN.Conf.CONST_CDN_VERSION+"/buttonApp/images/button_TestContactUs.png":"//"+SN.Conf.CDN_DOMAIN+"vha/"+SN.Conf.CONST_CDN_VERSION+"/buttonApp/images/button_ChatNow_complaints.png",parentElementId:"247chat",bckupParentElementId:"247chat",parentStyle:{},containerStyle:{display:"block",cursor:"pointer",height:"38px",width:parent.SN&&parent.SN.UserAgentParser&&parent.SN.UserAgentParser.getDeviceDetails&&parent.SN.UserAgentParser.getDeviceDetails().search(/~M~|~T~/)!=-1?SN.CustomScript.isContactTestPage()=="true"?"280px":"200px":"87px","margin-left":"0px","margin-bottom":"0px","margin-top":"-50px"},onlineStyle:{display:"block",position:"absolute",cursor:"pointer",top:"0px",height:"50px",width:"200px"},busyStyle:{display:"block",position:"absolute",cursor:"default",top:"-55px",height:"162px",width:"229px"},loadingStyle:{display:"block",cursor:"default",height:"162px",width:"229px"},offlineStyle:{display:"block",position:"absolute",cursor:"default",top:"-165px",height:"162px",width:"229px"},inprogressStyle:{display:"block",position:"absolute",cursor:"default",top:"-220px",height:"162px",width:"229px"},htmls:{mainFrameHTML:"",acceptHTML:"",declineHTML:"No Thanks"},actions:{availability:SN.WOWPx.AssistChatDecider.checkAvailability,click:SN.CustomScript.handleButtonChatClick,shown:SN.CustomScript.handleButtonRule,accept:SN.CustomScript.handleInvite1Accept,decline:SN.CustomScript.handleInvite1Decline,isOfficeTime:SN.CustomScript.isOfficeTime,tfsOnChat:SN.CustomScript.tfsOnChat},useMobileButton:!1},button_complaints:{appType:"b",buttonImage:parent.SN&&parent.SN.UserAgentParser&&parent.SN.UserAgentParser.getDeviceDetails&&parent.SN.UserAgentParser.getDeviceDetails().search(/~M~|~T~/)!=-1?"//"+SN.Conf.CDN_DOMAIN+"vha/"+SN.Conf.CONST_CDN_VERSION+"/buttonApp/images/complaints_mobile.png":"//"+SN.Conf.CDN_DOMAIN+"vha/"+SN.Conf.CONST_CDN_VERSION+"/buttonApp/images/button_ChatNow_complaints.png",backupImage:parent.SN&&parent.SN.UserAgentParser&&parent.SN.UserAgentParser.getDeviceDetails&&parent.SN.UserAgentParser.getDeviceDetails().search(/~M~|~T~/)!=-1?"//"+SN.Conf.CDN_DOMAIN+"vha/"+SN.Conf.CONST_CDN_VERSION+"/buttonApp/images/complaints_mobile.png":"//"+SN.Conf.CDN_DOMAIN+"vha/"+SN.Conf.CONST_CDN_VERSION+"/buttonApp/images/button_ChatNow_complaints.png",parentElementId:"247chat",bckupParentElementId:"247chat",parentStyle:{},containerStyle:{display:"block",cursor:"pointer",height:"32px",width:parent.SN&&parent.SN.UserAgentParser&&parent.SN.UserAgentParser.getDeviceDetails&&parent.SN.UserAgentParser.getDeviceDetails().search(/~M~|~T~/)!=-1?"200px":"87px","margin-left":parent.SN&&parent.SN.UserAgentParser&&parent.SN.UserAgentParser.getDeviceDetails&&parent.SN.UserAgentParser.getDeviceDetails().search(/~M~|~T~/)!=-1?"20px":"250px","margin-bottom":parent.SN&&parent.SN.UserAgentParser&&parent.SN.UserAgentParser.getDeviceDetails&&parent.SN.UserAgentParser.getDeviceDetails().search(/~M~|~T~/)!=-1?"20px":"0px"},onlineStyle:{display:"block",position:"absolute",cursor:"pointer",top:"0px",height:"50px",width:"200px"},busyStyle:{display:"block",position:"absolute",cursor:"default",top:"-55px",height:"162px",width:"229px"},loadingStyle:{display:"block",cursor:"default",height:"162px",width:"229px"},offlineStyle:{display:"block",position:"absolute",cursor:"default",top:"-165px",height:"162px",width:"229px"},inprogressStyle:{display:"block",position:"absolute",cursor:"default",top:"-220px",height:"162px",width:"229px"},htmls:{mainFrameHTML:"",acceptHTML:"",declineHTML:"No Thanks"},actions:{availability:SN.WOWPx.AssistChatDecider.checkAvailability,click:SN.CustomScript.handleButtonChatClick,shown:SN.CustomScript.handleButtonRule,accept:SN.CustomScript.handleInvite1Accept,decline:SN.CustomScript.handleInvite1Decline,isOfficeTime:SN.CustomScript.isOfficeTime,tfsOnChat:SN.CustomScript.tfsOnChat},useMobileButton:!1},button_statc_contactus:{appType:"b",buttonImage:"//"+SN.Conf.CDN_DOMAIN+"vha/"+SN.Conf.CONST_CDN_VERSION+"/buttonApp/images/Button_Contact_us_static.png",backupImage:"//"+SN.Conf.CDN_DOMAIN+"vha/"+SN.Conf.CONST_CDN_VERSION+"/buttonApp/images/Button_Contact_us_static.png",parentElementId:"247Chatid",bckupParentElementId:"247Chatid",parentStyle:{},containerStyle:{display:"block",cursor:"pointer",height:"20px",width:"50px"},onlineStyle:{display:"block",position:"absolute",cursor:"pointer",top:"0px",height:"20px",width:"50px"},busyStyle:{display:"block",position:"absolute",cursor:"default"},loadingStyle:{display:"block",cursor:"default"},offlineStyle:{display:"block",position:"absolute",cursor:"default"},inprogressStyle:{display:"block",position:"absolute",cursor:"default"},htmls:{mainFrameHTML:"",acceptHTML:"",declineHTML:"No Thanks"},actions:{availability:SN.WOWPx.AssistChatDecider.checkAvailability,click:SN.CustomScript.handleButtonChatClick,shown:SN.CustomScript.handleButtonRule,accept:SN.CustomScript.handleInvite1Accept,decline:SN.CustomScript.handleInvite1Decline,isOfficeTime:SN.CustomScript.isOfficeTime,tfsOnChat:SN.CustomScript.tfsOnChat},useMobileButton:!0},"sales-docked-button-rule":{appType:"b",buttonImage:"//"+SN.Conf.CDN_DOMAIN+"vha/"+SN.Conf.CONST_CDN_VERSION+"/buttonApp/images/dock_button.png",backupImage:"//"+SN.Conf.CDN_DOMAIN+"vha/"+SN.Conf.CONST_CDN_VERSION+"/buttonApp/images/dock_button.png",parentElementId:"body",bckupParentElementId:"body",parentStyle:{},containerStyle:{bottom:"0px",right:"0px",position:"fixed",zIndex:"999",display:"block",cursor:"pointer",height:"67px",width:"200px"},onlineStyle:{display:"block",position:"absolute",cursor:"pointer",top:"0px",height:"162px",width:"229px"},busyStyle:{display:"block",position:"absolute",cursor:"default",top:"-55px",height:"162px",width:"229px"},loadingStyle:{display:"block",position:"absolute",cursor:"default",top:"-110px",height:"162px",width:"229px"},offlineStyle:{display:"block",position:"absolute",cursor:"default",top:"-165px",height:"162px",width:"229px"},inprogressStyle:{display:"block",position:"absolute",cursor:"default",top:"-220px",height:"162px",width:"229px"},htmls:{mainFrameHTML:"",acceptHTML:"",declineHTML:"No Thanks"},actions:{availability:SN.WOWPx.AssistChatDecider.checkAvailability,click:SN.CustomScript.handleButtonChatClick,shown:SN.CustomScript.handleButtonRule,accept:SN.CustomScript.handleInvite1Accept,decline:SN.CustomScript.handleInvite1Decline,isOfficeTime:SN.CustomScript.isOfficeTime,tfsOnChat:SN.CustomScript.tfsOnChat},useMobileButton:!0}},AssistConf={connection:{queue:SN.Conf.AQU_QUEUE,avqueue:" ",accountId:"vha-account-default",server:"vha.vs.assist.staging.247-inc.net",caserver:"vha.ca.assist.staging.247-inc.net"},uiMessages:{chatnowbtn:"OK to Chat With An  LONG LONG LONG LONG LONG LONG Agent",invitation:["Chat with 247 QA"],headerbanner:"QAing"},callbacks:{onInviteOffered:function(){console.log("invitation offered")},onInviteAccepted:function(){console.log("invitation accepted")},onInviteDeclined:function(){console.log("invitation declined")}}},ContextVarMap={url:escape(parent.document.location.href),bsid:SN.GlobalSession().getVisitorId()+"-"+SN.GlobalSession().getActiveSessionId(),btnName:"liveChat",re:escape(parent.document.referrer),ooo:SN.CustomScript.isOfficeTime()?"f":"d",invitePage:parent.SN.Tracker.getUniquePageId()||"NA",sc:"NA",queue:this.getAssistConfigs().connection.queue,liveChat:"NA",pcs:$getTotalVisitCount()||"NA",ip:$geoIPAddress()||"NA",city:$geoCity()||"NA",country:$geoCountry()||"NA",org:$geoOrganization()||"NA",worldRegion:$geoRegion()||"NA",postCode:$geoPostalCode()||"NA",isp:$geoIsp()||"NA",ai:this.getAssistConfigs().connection.accountId,server:this.getAssistConfigs().connection.server,caserver:this.getAssistConfigs().connection.caserver,trackingId:null}},getConfigs:function(a){return WidgetConfStore[a]},getAssistConfigs:function(){return AssistConf},getContextVarMap:function(){return ContextVarMap}}),$undefined(SN)&&(SN={}),$undefined(SN.WOWPx)&&(SN.WOWPx={}),SN.WOWPx.EventTracker=function(){function d(a){var b="";try{a&&(b=JSON.stringify(a),b=b.replace(/\\n+|\\t+|\\r+/g," "))}catch(c){}return b}function e(c,d){a=c||{};if(typeof d!="function")throw new Error("Expected function for trackFn");b=d}function f(d,e){var f={},e=e||{};switch(d){case"INVITE_ACCEPTED_BUTTON":f={f:{o:{ii:a.clid,id:a.appId,it:"b"},p:{cp:parent.document.location.href},v:{ri:a.ruleId},a:{qu:e.queue}}};break;case"INVITE_ACCEPTED":f={f:{o:{ii:a.clid,id:a.appId,it:"p"},p:{cp:parent.document.location.href},v:{ri:a.ruleId},a:{qu:e.queue}}};break;case"INVITE_OFFERED":case"INVITE_DECLINED":f={f:{o:{ii:a.clid},v:{ri:a.ruleId},a:{qu:e.queue}}};break;default:}b({eventId:c[d],data:f})}var a,b=null,c={INVITE_ACCEPTED_BUTTON:"11103",INVITE_ACCEPTED:"11103",INVITE_OFFERED:"11104",INVITE_DECLINED:"11105"};return{init:e,track:f}}(),typeof SN=="undefined"&&(SN={}),typeof SN.WOWPx=="undefined"&&(SN.WOWPx={}),SN.WOWPx.InviteHandler=function(){function d(a,d){b=a,c=d}function e(a){a=a||"INVITE_ACCEPTED";var b={queue:getQueue()};c.track(a,b),notifyClient("onInviteAccepted",arguments)}function f(){var a={queue:getQueue()};c.track("INVITE_DECLINED",a),notifyClient("onInviteDeclined",arguments)}function g(){var a={queue:getQueue()};c.track("INVITE_OFFERED",a),notifyClient("onInviteOffered",arguments)}var a=0,b={},c,h={init:d,onInviteAccepted:e,onInviteDeclined:f,onInviteOffered:g};return h}(),typeof SN=="undefined"&&(SN={}),typeof SN.WOWPx=="undefined"&&(SN.WOWPx={}),SN.WOWPx.AssistChatDecider=function(){function m(){var a=$cookieGet("sn.chat.config"),b=null;if(!$undefinedOrNull(a)){b=a.evalJSON();if(typeof b=="object")for(var c in b)this.nemoChatConfig[c]=b[c]}}function n(){o()}function o(){d="https://"+c.caserver+"/en/ca/rest/checkAvailability",d=d+"?queueId="+c.queue+"&accountId="+c.accountId,d+="&jsonp=SN.WOWPx.AssistChatDecider.afterAvailabilityCheck"}function p(a){var b=12e4;if(k!=0&&((new Date).getTime()-k>b||!SN.CustomScript.isOfficeTime())){SN.CustomScript.setProRuleSuppression(),k=0;return}z();var d=SN.CustomScript.getQueue(a),e="https://"+c.caserver+"/en/ca/rest/checkAvailability";e=e+"?queueId="+d+"&accountId="+c.accountId,e+="&jsonp=SN.WOWPx.AssistChatDecider.afterAvailabilityCheckPro",r(e),k==0&&(k=(new Date).getTime())}function q(a,b){var d=(new Date).getTime()-j;!$undefinedOrNull(a)&&typeof a=="string"&&$undefinedOrNull(l[a])&&typeof b=="function"&&(l[a]=b,j=0);if(j!=0&&((new Date).getTime()-j>12e4||!SN.CustomScript.isOfficeTime()))return SN.CustomScript.setButtonSuppression(a),!0;z();var e="afterAvailabilityCheck";a=="sales-docked-button-rule"&&(e="afterAvailabilityCheckDock");var f=SN.CustomScript.getQueue(a),g="https://"+c.caserver+"/en/ca/rest/checkAvailability";return g=g+"?queueId="+f+"&accountId="+c.accountId,g=g+"&jsonp=SN.WOWPx.AssistChatDecider."+e,r(g),j==0&&(j=(new Date).getTime()),!1}function r(a){var b=document.getElementById("nemo-agent-availability");b&&b.parentNode.removeChild(b);var c=a,d=SN.CustomScript.getCFVCookie("tId");d&&d!=""&&(c=c+"&trackingId="+d);var e=document.createElement("script");e.id="nemo-agent-availability",e.src=c,document.body.appendChild(e)}function s(a){var b=a&&a.data&&a.data.caStatus=="true"||!1;b&&typeof a.data.trackingId=="string"&&(SN.CustomScript.setCFVCookie("tId",a.data.trackingId),window.availabilityStatusProactive=!0,SN.WOWPx.Controller.showProActive(),SN.CustomScript.suppressDockedButton()||SN.CustomScript.setValueInPSP("proactive_queue",c.queue))}function t(a){var b=a&&a.data&&a.data.caStatus=="true"||!1;b&&typeof a.data.trackingId=="string"?(SN.CustomScript.setCFVCookie("tId",a.data.trackingId),window.availabilityStatusButton=!0,u()):b||(window.availabilityStatusButton=!1)}function u(){for(var a in l)if(l.hasOwnProperty(a)){var b=a,c=l[a];c(b),delete l[b]}}function v(a){var b=a&&a.data&&a.data.caStatus=="true"||!1;b&&typeof a.data.trackingId=="string"?(SN.CustomScript.setCFVCookie("tId",a.data.trackingId),window.availabilityStatusButton=!0,u()):b||(window.availabilityStatusButton=!1)}function w(){var a=SN.ConfigurationManager.getServerTimeStamp();if(!$undefinedOrNull(a)){var b=new Date(a),c=b.getUTCHours(),d=b.getUTCDay();return c>=8&&c<=21&&d<=5}}function x(c,d){c==a?SN.EventManager.observe(SN.Constants.CONST_PERIODICAL_EXECUTION_TIMER_EVENT,function(a){var c=$timeOnPage()||0;typeof d!="number"||c<d+b?r():$undefinedOrNull(e)||e.call(g,window.availabilityStatus)}):h=window.setInterval(function(){r()},c)}function z(){if(y)return;var a=SN.CustomScript.getChatConfigFromCookie();$undefinedOrNull(a)||($undefinedOrNull(a.caserver)||(c.caserver=a.caserver),$undefinedOrNull(a.queue)||(c.queue=a.queue),$undefinedOrNull(a.server)||(c.server=a.server),$undefinedOrNull(a.accountId)||(c.accountId=a.accountId));if(typeof c=="object"){if($undefinedOrNull(c.queue)||c["queue"]=="")throw"queue-undefined";if($undefinedOrNull(c.accountId)||c["accountId"]=="")throw"accountId-undefined";if($undefinedOrNull(c.server)||c["server"]=="")throw"server-undefined";n();if(!$undefinedOrNull(c.poll)&&!$undefinedOrNull(c.poll.freq)){var b=c.poll.freq,d=c.poll.till;i=!0}}y=!0}var a=0,b=10,c=SN.CustomScript.getNemoChatConfig(),d,e=null,f=null,g=null,h=null,i=!1,j=0,k=0,l={};window.availabilityStatusProactive=!1,window.availabilityStatusButton=!1;var y=!1;return{init:z,checkAvailability:q,afterAvailabilityCheck:t,afterAvailabilityCheckPro:s,checkAvailabilityPro:p,afterAvailabilityCheckDock:v,RUN_SYNC:a}}(),$undefined(SN)&&(SN={}),$undefined(SN.WOWPx)&&(SN.WOWPx={}),SN.EventManager.observe(SN.Constants.BOOTSTRAP_COMPLETED_EVENT,function(){SN.WOWPx.InviteConf=new SN.WOWPx.InviteConf,SN.CustomScript.onPageLoadDockButton();var a=SN.WOWPx.InviteConf.getAssistConfigs(),b=a.connection;try{SN.CustomScript.onBootstrapComp()}catch(c){}}),typeof SN=="undefined"&&(SN={}),SN.WOWPx||(SN.WOWPx={}),SN.WOWPx.MessageChannelUtils=function(a){function g(a){window.addEventListener?window.addEventListener("message",a,!1):window.attachEvent&&window.attachEvent("onmessage",a)}function h(a){var b=window;if("onstorage"in document){b=document;var c=a;a=function(a){var b=e.getItem("_last_storage_event_key");b!==null&&(a={key:b,newValue:e.getItem(b)},c.call(this,a))}}b.addEventListener?b.addEventListener("storage",a,!1):b.attachEvent&&b.attachEvent("onstorage",a)}function i(a,b,c){if(typeof c=="undefined"||c==null)c=!0;window.postMessage&&b&&(c&&(a=JSON.stringify(a)),b.postMessage(a,f))}function j(){"onstorage"in document&&e.removeItem("_last_storage_event_key")}function k(a,b,c){if(typeof c=="undefined"||c==null)c=!0;"onstorage"in document&&e.setItem("_last_storage_event_key",a);var d={data:b,id:a+(new Date).getTime()};e&&(c&&(d=JSON.stringify(d)),e.setItem(a,d))}function l(a){var c=new Element("div");document.body.appendChild(c),Element.hide(c);var d=new Element("iframe",{id:b,name:b,frameborder:"0",width:"0px",height:"0px"});d.src=a;try{c.appendChild(d)}catch(e){}return d.contentWindow}function m(){var a="origin",b=document.location.href,c=b.split("#"),d=null;if(c.length<=1)return null;var e=c[1].split("&");for(var f=0;f<e.length;f++){var g=e[f].split("=");g[0]==a&&(d=g[1])}return d}var b="sn-wowpx-comm-proxy",c="tfs-xdomaincommdata",d="tfs-xdomaincommdata-return",e=window.localStorage||!1,f=a||m();return{postMessageListener:g,storagelistener:h,postMessage:i,storeItem:k,clearItem:j,createIframe:l,ONWARD_KEY:c,RETURN_KEY:d}},SN.WOWPx.MessageChannelMain=function(){function c(c,d){a=new SN.WOWPx.MessageChannelUtils(c);var e=c+location.pathname+"#key="+parent.SN.Conf.CONST_PSP_KEY+"&version="+parent.SN.Conf.CONST_CDN_VERSION+"&pspVersion="+SN.Conf.CONST_PSP_VERSION+"&cdnPath="+parent.SN.Conf.CDN_DOMAIN+"&r="+"messagechannelproxy.gz.js"+"&origin="+location.protocol+"//"+location.hostname;b=a.createIframe(e),a.postMessageListener(function(b){var c=null;if(b&&b.data)try{c=parent.JSON_247.parse(b.data)}catch(b){}d&&c&&c.id.indexOf(a.RETURN_KEY)>-1&&d(c.data)})}var a=null,b=null;return{init:c,sendMessage:function(c){a.postMessage(c,b)}}}()